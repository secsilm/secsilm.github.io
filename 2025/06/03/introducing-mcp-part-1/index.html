
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Alan Lee">
    <title>MCP ç®€æ˜“æŒ‡å—ï¼ˆä¸€ï¼‰ï¼šå®è·µ - Alan Lee</title>
    <meta name="author" content="Alan Lee">
    
        <meta name="keywords" content="hexo,python,tensorflow,pytorch,nlp,natural language processing,deep learning,machine learning,large language models,llms,">
    
    
        <link rel="icon" href="https://s2.loli.net/2021/12/19/Cri1WMHedxFm3pv.png">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Alan Lee","sameAs":["https://github.com/secsilm","https://twitter.com/bluekirin93","mailto:secsilm@outlook.com"],"image":"https://s2.loli.net/2021/12/19/Cri1WMHedxFm3pv.png"},"articleBody":"\n\nä»€ä¹ˆæ˜¯ MCPæ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œmcp æ˜¯ä¸€ç§å¼€æ”¾åè®®ï¼Œç”¨äºæ ‡å‡†åŒ–åº”ç”¨ç¨‹åºå‘ llm æä¾›ä¸Šä¸‹æ–‡çš„æ–¹å¼ã€‚å¯ä»¥å°† mcp æƒ³è±¡æˆ AI åº”ç”¨ç¨‹åºçš„ usb-c æ¥å£ã€‚æ­£å¦‚ usb-c æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼å°†è®¾å¤‡è¿æ¥åˆ°å„ç§å¤–è®¾å’Œé…ä»¶ï¼Œmcp ä¹Ÿæä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼å°† ai æ¨¡å‹è¿æ¥åˆ°ä¸åŒçš„æ•°æ®æºå’Œå·¥å…·ã€‚\næ€»ä¹‹æ¥è¯´ï¼Œå¦‚æœæŠŠ llm æ¯”å–»æˆå¤§è„‘ï¼Œå„ç§å„æ ·çš„ tools å°±æ˜¯æ‰‹å’Œè„šï¼Œmcp å°±æ˜¯è®© llm æ›´æ–¹ä¾¿çš„è·å–å’Œåˆ‡æ¢è¿™äº›æ‰‹è„šï¼Œå°±åƒå†¬å…µçš„æ•å·¾æ‰‹è‡‚ä¸€æ ·ï¼Œéšæ—¶å¯æ’æ‹”ã€‚\nä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ MCPåˆšæ‰æåˆ°ï¼Œæ‰‹å’Œè„šæ˜¯å·¥å…·ã€‚æˆ‘ä»¬å¯ä»¥ç»™ä¸€ä¸ª llm ç¼–å†™å¾ˆå¤šå·¥å…·ç»™å…¶è°ƒç”¨ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ openai çš„ function calling æ¥èµ‹äºˆ llm è°ƒç”¨å·¥å…·çš„èƒ½åŠ›ï¼ˆè™½ç„¶æœ¬è´¨ä¸Šæ‰§è¡Œè¿˜æ˜¯åœ¨æˆ‘ä»¬è¿™è¾¹ï¼Œè€Œä¸æ˜¯ llmï¼‰ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤š llm æä¾›å•†ï¼Œä»–ä»¬çš„ llm ä½¿ç”¨å·¥å…·çš„æ–¹å¼æˆ–è®¸æœ‰æ‰€ä¸åŒã€‚æç«¯æƒ…å†µä¸‹ï¼Œå‡å¦‚æˆ‘ä»¬æœ‰ M ä¸ª llmï¼ŒN ä¸ªå·¥å…·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦ç¼–å†™ MÃ—N ä¸ª connector æ¥è®©æ‰€æœ‰ llm éƒ½å¯ä»¥ä½¿ç”¨è¿™ N ä¸ªå·¥å…·ã€‚\nä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨ä¸­é—´åŠ ä¸€å±‚æŠ½è±¡ï¼Œæ‰€æœ‰ llm éƒ½é€šè¿‡è¿™å±‚æŠ½è±¡ä¸å·¥å…·è¿›è¡Œäº¤æµï¼Œé‚£ä¹ˆå°±åªéœ€ç¼–å†™ M+N ä¸ª connectorã€‚å°¤å…¶æ˜¯å¯¹äºæˆ‘ä»¬æ¯”è¾ƒç»ˆç«¯çš„å¼€å‘è€…æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€å†™ N ä¸ªï¼Œå³åªå†™å·¥å…·å³å¯ï¼ŒM æ˜¯åœ¨ mcp client ç«¯å®ç°çš„ï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒå¦‚ä½•è°ƒç”¨ä¸åŒçš„ llmï¼ˆè¿™å°±è®©æˆ‘æƒ³åˆ°æ”¯æŒä¸åŒçš„ llm æä¾›å•†æ˜¯å¤šä¹ˆçš„ç¹çï¼Œä¸è¿‡ç°åœ¨å·²ç»æœ‰äº†å¾ˆå¤šåº“æ¥è§£å†³è¿™ä¸ªäº‹æƒ…äº†ï¼‰ã€‚\nç»“åˆä¸‹å›¾ï¼Œå¦‚æœæ²¡æœ‰ mcpï¼Œå³ 2ï¼Œé‚£ä¹ˆæ¯æ–°å¢ä¸€ä¸ª llmï¼Œæˆ‘ä»¬éƒ½éœ€è¦é‡æ–°ç¼–å†™ connector æ¥é€‚é…è¿™ 3 ä¸ªå·¥å…·ã€‚\næ‰€ä»¥ mcp çš„æœ€å¤§ä½œç”¨ï¼Œå°±æ˜¯å‡å°‘é‡å¤å·¥ä½œé‡ã€‚ä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œå¦‚æœå…¨éƒ¨ llm éƒ½æ”¯æŒ openai çš„ function calling æ ¼å¼ï¼Œé‚£ä¹ˆç¡®å®æˆ‘ä»¬æ— éœ€ mcpï¼Œä¹Ÿæ²¡æœ‰é‡å¤å·¥ä½œã€‚è¿™å°±æ˜¯æ ‡å‡†ä¹‹äº‰äº†ã€‚\n\næ ¸å¿ƒæ¦‚å¿µ\n\nmcp hostï¼šhost å°±æ˜¯ç”¨æˆ·ä¸ mcp çš„äº¤äº’ç•Œé¢ï¼Œä»»ä½•æ”¯æŒè°ƒç”¨ mcp server çš„ app éƒ½æ˜¯ hostã€‚æ¯”å¦‚ github copilot for vscodeã€claude desktopã€‚\nmcp clientï¼šclient æ˜¯çœŸæ­£ä¸ server äº¤äº’çš„éƒ¨åˆ†ï¼Œä¸€èˆ¬åœ¨ host ä¸­å®ç°ã€‚å¯èƒ½å¤§å¤šæ•°æƒ…å†µå¹¶ä¸è‡ªå·±å®ç°ã€‚\nmcp serverï¼šè¿™å°±æ˜¯çœŸæ­£å®ç° mcp é€»è¾‘çš„åœ°æ–¹ï¼Œåœ¨è¿™é‡Œä½ ä¼šå®ç°ä½ éœ€è¦çš„ toolsï¼Œä¾› host å’Œ client è°ƒç”¨ã€‚\n\nå®‰è£… mcp python sdkå®˜æ–¹æ–‡æ¡£æ¨èä½¿ç”¨ uv å®‰è£…ç¯å¢ƒå’Œä¾èµ–ï¼š\n12345678910# 1. åˆå§‹åŒ–é¡¹ç›®ï¼Œè¿™ä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œå¹¶ç”Ÿæˆä¸€äº›å¿…è¦æ–‡ä»¶ã€‚uv init project_namecd project_name# 2. å®‰è£…ä¾èµ–ï¼Œè¿™ä¼šå°†ç¯å¢ƒå®‰è£…åœ¨å½“å‰ç›®å½•çš„ .venv/ ä¸‹ï¼Œ# å¹¶å°†ä¾èµ–å†™å…¥ pyproject.tomlã€‚uv add &quot;mcp[cli]&quot;# 3. æ¿€æ´»ç¯å¢ƒï¼Œè¿™ä¼šè®© python å‘½ä»¤æŒ‡å‘å½“å‰ç¯å¢ƒçš„ python ç‰ˆæœ¬ã€‚source .venv/bin/activate\nå¦‚æœä½ å¯¹ uv ä¸ç†Ÿï¼Œæˆ–è€…æƒ³è¦ä½¿ç”¨ conda/pipï¼Œé‚£ä¹ˆä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ pip å®‰è£…ï¼š\n1pip install &quot;mcp[cli]&quot;\nå¦‚ä½•ç¼–å†™å’Œä½¿ç”¨ mcp server\nè¿™é‡Œä»¥ç¼–å†™ mcp tools ä¸ºä¾‹ï¼Œå¤§éƒ¨åˆ†æƒ…å†µæˆ‘ä»¬å†™çš„éƒ½æ˜¯ toolsã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç”¨äºè·å–å½“å‰æ—¶é—´çš„ mcp server ä¾‹å­ï¼š\n1234567891011121314151617181920212223from datetime import datetimefrom zoneinfo import ZoneInfofrom mcp.server.fastmcp import FastMCP# Create an MCP servermcp = FastMCP(&quot;Demo MCP Server&quot;)mcp.settings.host = &quot;0.0.0.0&quot;mcp.settings.port = 7011@mcp.tool()def get_current_time():    &quot;&quot;&quot;    Returns the current date and time in the &#x27;Asia/Shanghai&#x27; timezone.    Returns:        datetime: The current datetime object localized to &#x27;Asia/Shanghai&#x27; timezone.    &quot;&quot;&quot;    return datetime.now(tz=ZoneInfo(&quot;Asia/Shanghai&quot;))if __name__ == &quot;__main__&quot;:    # Start the server    mcp.run(transport=&quot;streamable-http&quot;)\nè¯­æ³•æ˜¯ä¸æ˜¯çœ‹èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼ŒåŸºæœ¬å’Œ flaskã€fastapi ä¸€è‡´ã€‚æ•´ä½“æµç¨‹å°±è¿™ä¹ˆä¸‰æ­¥ï¼š\n\nåˆ›å»º mcp å¯¹è±¡ï¼šmcp = FastMCP(&quot;Demo MCP Server&quot;) ï¼›\nç¼–å†™ tools å‡½æ•°ï¼Œç”¨ @mcp.tool() è¿›è¡Œè£…é¥°ï¼›\nå¯åŠ¨ serverï¼šmcp.run(transport=&quot;streamable-http&quot;) ï¼Œè¿™é‡Œçš„ transport å…ˆä¸ç”¨å…³å¿ƒï¼Œä¸‹é¢ä¼šå†è¯´ï¼Œæš‚æ—¶ä½ å°±è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ª http æœåŠ¡å³å¯ã€‚\n\nè¿è¡Œåï¼Œä½ çš„ mcp åœ°å€å°±æ˜¯ http://localhost:7011/mcp ï¼Œå°†è¿™ä¸ªåœ°å€æ·»åŠ åˆ°ä½ çš„ host ä¸­å³å¯ã€‚ä¸‹é¢æˆ‘ä»¥ github copilot in vscode ä¸ºä¾‹ï¼Œæ¼”ç¤ºä¸‹å¦‚ä½•æ·»åŠ  mcp serverï¼š\n\ncommand + shift + p è°ƒå‡ºå‘½ä»¤ä¸­å¿ƒï¼Œè¾“å…¥ mcp add ï¼Œé€‰æ‹©æ·»åŠ æœåŠ¡å™¨ â†’ httpï¼š\n \n \n\næŒ‰ç…§æç¤ºå¡«å…¥ urlï¼ˆå°±æ˜¯åˆšæ‰çš„åœ°å€ï¼Œä½†æ˜¯è¦è®°å¾—åœ¨åé¢ä»¥æ–œæ ç»“å°¾ï¼Œè¯¦è§ä¸‹é¢çš„ gotchaï¼‰ã€nameï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°æ·»åŠ å¥½çš„ json é…ç½®ï¼Œå·²ç»æ­£å¸¸å¯åŠ¨äº†ï¼Œä¹Ÿå·²ç»å‘ç°äº† 1 ä¸ªå·¥å…·ï¼Œå°±æ˜¯åˆšæ‰çš„è·å–å½“å‰æ—¶é—´çš„å·¥å…·ï¼š\n \n\næ‰“å¼€ gcï¼Œåˆ‡æ¢åˆ° agent æ¨¡å¼ï¼Œå› ä¸ºåªæœ‰åœ¨ agent æ¨¡å¼ä¸‹æ‰èƒ½ä½¿ç”¨ mcpï¼š\n \n\nä½ å¯ä»¥è¯¢é—®â€œç°åœ¨å‡ ç‚¹äº†â€ç­‰å’Œæ—¶é—´æœ‰å…³çš„é—®é¢˜ï¼Œgc ä¼šæç¤ºå¯ä»¥è¿è¡Œ mcp tools æ¥è·å–æ—¶é—´ï¼Œä½ é€‰æ‹©â€œç»§ç»­â€å³å¯ï¼š\n \n\n\nå¦å¤–ç‚¹å‡»æ‰³æ‰‹å›¾æ ‡å¯ä»¥çœ‹åˆ°å¯ç”¨çš„å·¥å…·ï¼ŒåŒ…å«æˆ‘ä»¬åˆšæ‰æ·»åŠ çš„ mcp serverï¼š\n\nè°ƒè¯•å½“ä½ å†™å¥½ä¸€ä¸ª server å’Œ tools ä¹‹åï¼Œä½ éœ€è¦æµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½æ­£å¸¸è·‘é€šã€‚mcp å®˜æ–¹æä¾›äº† mcp inspector ç”¨äºè°ƒè¯•ï¼Œæ­¤å¤–ä¹Ÿæœ‰å¾ˆå¤šå…¶ä»–çš„æµ‹è¯•å·¥å…·ã€‚æˆ‘ç°åœ¨å¸¸ç”¨çš„æ˜¯ postmanï¼Œå¯¹ï¼Œå°±æ˜¯é‚£ä¸ªè°ƒè¯•æ¥å£çš„ postmanï¼Œå®ƒç°åœ¨ä¹Ÿæ”¯æŒ mcp äº†ï¼Œç”šè‡³è¿˜æ”¯æŒç›´æ¥è°ƒç”¨ llm ğŸ˜‚ï¼š\n\npostman\nmcp inspector\nç”¨èµ·æ¥æ¯” inspector æ–¹ä¾¿ç‚¹ï¼Œinspector è¿˜å¾—å¯åŠ¨ä¸€ä¸‹æµè§ˆå™¨é‡Œæ‰“å¼€ï¼Œè€Œä¸”ç•Œé¢æœ‰ç‚¹ä¹±çš„æ„Ÿè§‰ï¼š\nokï¼Œä»¥ä¸ŠåŸºæœ¬å°±æ˜¯ä½¿ç”¨å±‚é¢ï¼Œå¦‚æœä½ çš„ç›®çš„æ˜¯ç¼–å†™ä¸€ä¸ª mcp server æ¥æä¾› toolsï¼Œé‚£ä¹ˆåŸºæœ¬å·²ç»å¤Ÿäº†ã€‚å¦‚æœä½ è¿˜æƒ³äº†è§£æ›´å¤šä¸€ç‚¹ï¼Œå¯ä»¥çœ‹ä¸‹ä¸€æœŸï¼Œä¸ºäº†ä¿æŒæ–‡ç« ç®€çŸ­é›†ä¸­ï¼Œæˆ‘å°±ä¸æ”¾åœ¨è¿™é‡Œäº†ã€‚\nGotchas\nåœ¨ vscode ä¸­æ·»åŠ  server æ—¶ï¼Œstreamable httpï¼ˆhttpï¼‰ç±»å‹çš„ server çš„ URL å¿…é¡»ä»¥æ–œæ  / ç»“å°¾ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼šError sending message to http://localhost:7011/mcp: TypeError: fetch failed ï¼Œserver æ—¥å¿—æ˜¾ç¤ºï¼šINFO:     ip:40226 - &quot;POST /mcp HTTP/1.1&quot; 307 Temporary Redirect ï¼Œé€šè¿‡ curl -v -X POST http://your-server/mcp å¯ä»¥çœ‹åˆ°ï¼Œé‡å®šå‘åˆ°äº†æ–œæ ç»“å°¾çš„è·¯ç”±ã€‚ä½†æ˜¯ä½¿ç”¨ inspector æˆ–è€… postman æ—¶ï¼Œä»ç„¶å¯ä»¥ç›´æ¥ä½¿ç”¨éæ–œæ ç»“å°¾çš„ URLã€‚\n\nReferences\nThe Model Context Protocol (MCP) by Anthropic: Origins, functionality, and impact | mcp â€“ Weights &amp; Biases\nModel Context Protocol (MCP), clearly explained (why it matters) - YouTube\nMCP 101: An Introduction to Model Context Protocol | DigitalOcean\n\nEND","dateCreated":"2025-06-03T20:00:00+08:00","dateModified":"2025-06-14T20:46:16+08:00","datePublished":"2025-06-03T20:00:00+08:00","description":"ä»€ä¹ˆæ˜¯ mcpï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ mcpï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿæœ¬æœŸæ›´å¤šå…³æ³¨å®è·µï¼Œè€Œéæ¦‚å¿µã€‚","headline":"MCP ç®€æ˜“æŒ‡å—ï¼ˆä¸€ï¼‰ï¼šå®è·µ","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"},"publisher":{"@type":"Organization","name":"Alan Lee","sameAs":["https://github.com/secsilm","https://twitter.com/bluekirin93","mailto:secsilm@outlook.com"],"image":"https://s2.loli.net/2021/12/19/Cri1WMHedxFm3pv.png","logo":{"@type":"ImageObject","url":"https://s2.loli.net/2021/12/19/Cri1WMHedxFm3pv.png"}},"url":"https://alanlee.fun/2025/06/03/introducing-mcp-part-1/","keywords":"LLM, MCP"}</script>
    <meta name="description" content="ä»€ä¹ˆæ˜¯ mcpï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ mcpï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿæœ¬æœŸæ›´å¤šå…³æ³¨å®è·µï¼Œè€Œéæ¦‚å¿µã€‚">
<meta property="og:type" content="blog">
<meta property="og:title" content="MCP ç®€æ˜“æŒ‡å—ï¼ˆä¸€ï¼‰ï¼šå®è·µ">
<meta property="og:url" content="https://alanlee.fun/2025/06/03/introducing-mcp-part-1/index.html">
<meta property="og:site_name" content="Alan Lee">
<meta property="og:description" content="ä»€ä¹ˆæ˜¯ mcpï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ mcpï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿæœ¬æœŸæ›´å¤šå…³æ³¨å®è·µï¼Œè€Œéæ¦‚å¿µã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/ZMt6VbwiA2B831v.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/GhYTJo59fbMeHtS.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/UdJX4sQVvhMaA1i.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/Onx5wLmyRSX62zb.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/FnpLkrOb7wmsv51.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/kO6wFGA4MqLuK5c.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/EdiZxbqGO3yIDFz.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/mSD4UrPol23LRJV.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/OhTkonNrf3piEl6.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/QhJYXqIFPRvs3GB.png">
<meta property="og:image" content="https://s2.loli.net/2025/06/03/o34ezQSTih5vNHG.png">
<meta property="article:published_time" content="2025-06-03T12:00:00.000Z">
<meta property="article:modified_time" content="2025-06-14T12:46:16.195Z">
<meta property="article:author" content="Alan Lee">
<meta property="article:tag" content="LLM">
<meta property="article:tag" content="MCP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2025/06/03/ZMt6VbwiA2B831v.png">
<meta name="twitter:creator" content="@bluekirin93">
    
    
        
    
    
        <meta property="og:image" content="https://s2.loli.net/2021/12/19/Cri1WMHedxFm3pv.png"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-7psn7jtnqx8dcatt1chsgye58vhpeeqkf8gzcb5iijzope7gwcvezy8gigh2.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-111553531-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-111553531-1');
    </script>


    
    <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?6e8b0c627bf164f809ee4346796b1952";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    
        
    
    <style>
        ::-moz-selection { /* Code for Firefox */
          background: #FFBFBF;
        }
        
        ::selection {
          background: #FFBFBF;
        }
    </style><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
</head>

    <body>
        <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Alan Lee
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="æ‰“å¼€é“¾æ¥: /#about"
            >
        
        
            <img class="header-picture" src="https://s2.loli.net/2021/12/19/Cri1WMHedxFm3pv.png" alt="ä½œè€…çš„å›¾ç‰‡"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="é˜…è¯»æœ‰å…³ä½œè€…çš„æ›´å¤šä¿¡æ¯"
                >
                    <img class="sidebar-profile-picture" src="https://s2.loli.net/2021/12/19/Cri1WMHedxFm3pv.png" alt="ä½œè€…çš„å›¾ç‰‡"/>
                </a>
                <h4 class="sidebar-profile-name">Alan Lee</h4>
                
                    <h5 class="sidebar-profile-bio"><p>NLP and Python developer, sometimes datavis, he/him. Stick to what you believe.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="é¦–é¡µ"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">é¦–é¡µ</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="æ ‡ç­¾"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">æ ‡ç­¾</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="å½’æ¡£"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">å½’æ¡£</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/about"
                            
                            rel="noopener"
                            title="å…³äº"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">å…³äº</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/secsilm"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/bluekirin93"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="mailto:secsilm@outlook.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="é‚®ç®±"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">é‚®ç®±</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title">
            MCP ç®€æ˜“æŒ‡å—ï¼ˆä¸€ï¼‰ï¼šå®è·µ
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2025-06-03T20:00:00+08:00">
	
		    2025 å¹´ 6 æœˆ 3 æ—¥
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <!-- excerpt --></p>
<h1 id="table-of-contents">ç›®å½•</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-MCP"><span class="toc-text">ä»€ä¹ˆæ˜¯ MCP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81-MCP"><span class="toc-text">ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ MCP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-text">æ ¸å¿ƒæ¦‚å¿µ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-mcp-python-sdk"><span class="toc-text">å®‰è£… mcp python sdk</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E5%92%8C%E4%BD%BF%E7%94%A8-mcp-server"><span class="toc-text">å¦‚ä½•ç¼–å†™å’Œä½¿ç”¨ mcp server</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%AF%95"><span class="toc-text">è°ƒè¯•</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Gotchas"><span class="toc-text">Gotchas</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#References"><span class="toc-text">References</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#END"><span class="toc-text">END</span></a></li></ol>
<h1 id="ä»€ä¹ˆæ˜¯-MCP"><a href="#ä»€ä¹ˆæ˜¯-MCP" class="headerlink" title="ä»€ä¹ˆæ˜¯ MCP"></a>ä»€ä¹ˆæ˜¯ MCP</h1><p>æ ¹æ®<a href="https://modelcontextprotocol.io/introduction">å®˜æ–¹æ–‡æ¡£</a>ï¼Œmcp æ˜¯ä¸€ç§å¼€æ”¾åè®®ï¼Œç”¨äºæ ‡å‡†åŒ–åº”ç”¨ç¨‹åºå‘ llm æä¾›ä¸Šä¸‹æ–‡çš„æ–¹å¼ã€‚å¯ä»¥å°† mcp æƒ³è±¡æˆ AI åº”ç”¨ç¨‹åºçš„ usb-c æ¥å£ã€‚æ­£å¦‚ usb-c æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼å°†è®¾å¤‡è¿æ¥åˆ°å„ç§å¤–è®¾å’Œé…ä»¶ï¼Œmcp ä¹Ÿæä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼å°† ai æ¨¡å‹è¿æ¥åˆ°ä¸åŒçš„æ•°æ®æºå’Œå·¥å…·ã€‚</p>
<p>æ€»ä¹‹æ¥è¯´ï¼Œå¦‚æœæŠŠ llm æ¯”å–»æˆå¤§è„‘ï¼Œå„ç§å„æ ·çš„ tools å°±æ˜¯æ‰‹å’Œè„šï¼Œmcp å°±æ˜¯è®© llm æ›´æ–¹ä¾¿çš„è·å–å’Œåˆ‡æ¢è¿™äº›æ‰‹è„šï¼Œå°±åƒå†¬å…µçš„æ•å·¾æ‰‹è‡‚ä¸€æ ·ï¼Œéšæ—¶å¯æ’æ‹”ã€‚</p>
<h1 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦-MCP"><a href="#ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦-MCP" class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ MCP"></a>ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ MCP</h1><p>åˆšæ‰æåˆ°ï¼Œæ‰‹å’Œè„šæ˜¯å·¥å…·ã€‚æˆ‘ä»¬å¯ä»¥ç»™ä¸€ä¸ª llm ç¼–å†™å¾ˆå¤šå·¥å…·ç»™å…¶è°ƒç”¨ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ openai çš„ function calling æ¥èµ‹äºˆ llm è°ƒç”¨å·¥å…·çš„èƒ½åŠ›ï¼ˆè™½ç„¶æœ¬è´¨ä¸Šæ‰§è¡Œè¿˜æ˜¯åœ¨æˆ‘ä»¬è¿™è¾¹ï¼Œè€Œä¸æ˜¯ llmï¼‰ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤š llm æä¾›å•†ï¼Œä»–ä»¬çš„ llm ä½¿ç”¨å·¥å…·çš„æ–¹å¼æˆ–è®¸æœ‰æ‰€ä¸åŒã€‚æç«¯æƒ…å†µä¸‹ï¼Œå‡å¦‚æˆ‘ä»¬æœ‰ M ä¸ª llmï¼ŒN ä¸ªå·¥å…·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦ç¼–å†™ MÃ—N ä¸ª connector æ¥è®©æ‰€æœ‰ llm éƒ½å¯ä»¥ä½¿ç”¨è¿™ N ä¸ªå·¥å…·ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨ä¸­é—´åŠ ä¸€å±‚æŠ½è±¡ï¼Œæ‰€æœ‰ llm éƒ½é€šè¿‡è¿™å±‚æŠ½è±¡ä¸å·¥å…·è¿›è¡Œäº¤æµï¼Œé‚£ä¹ˆå°±åªéœ€ç¼–å†™ M+N ä¸ª connectorã€‚å°¤å…¶æ˜¯å¯¹äºæˆ‘ä»¬æ¯”è¾ƒç»ˆç«¯çš„å¼€å‘è€…æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€å†™ N ä¸ªï¼Œå³åªå†™å·¥å…·å³å¯ï¼ŒM æ˜¯åœ¨ mcp client ç«¯å®ç°çš„ï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒå¦‚ä½•è°ƒç”¨ä¸åŒçš„ llmï¼ˆè¿™å°±è®©æˆ‘æƒ³åˆ°æ”¯æŒä¸åŒçš„ llm æä¾›å•†æ˜¯å¤šä¹ˆçš„ç¹çï¼Œä¸è¿‡ç°åœ¨å·²ç»æœ‰äº†å¾ˆå¤šåº“æ¥è§£å†³è¿™ä¸ªäº‹æƒ…äº†ï¼‰ã€‚</p>
<p>ç»“åˆä¸‹å›¾ï¼Œå¦‚æœæ²¡æœ‰ mcpï¼Œå³ 2ï¼Œé‚£ä¹ˆæ¯æ–°å¢ä¸€ä¸ª llmï¼Œæˆ‘ä»¬éƒ½éœ€è¦é‡æ–°ç¼–å†™ connector æ¥é€‚é…è¿™ 3 ä¸ªå·¥å…·ã€‚</p>
<p>æ‰€ä»¥ mcp çš„æœ€å¤§ä½œç”¨ï¼Œå°±æ˜¯å‡å°‘é‡å¤å·¥ä½œé‡ã€‚ä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œå¦‚æœå…¨éƒ¨ llm éƒ½æ”¯æŒ openai çš„ function calling æ ¼å¼ï¼Œé‚£ä¹ˆç¡®å®æˆ‘ä»¬æ— éœ€ mcpï¼Œä¹Ÿæ²¡æœ‰é‡å¤å·¥ä½œã€‚è¿™å°±æ˜¯æ ‡å‡†ä¹‹äº‰äº†ã€‚</p>
<div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/ZMt6VbwiA2B831v.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/ZMt6VbwiA2B831v.png" alt=""></a></div>
<h1 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h1><div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/GhYTJo59fbMeHtS.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/GhYTJo59fbMeHtS.png" alt=""></a></div>
<ul>
<li>mcp hostï¼šhost å°±æ˜¯ç”¨æˆ·ä¸ mcp çš„äº¤äº’ç•Œé¢ï¼Œä»»ä½•æ”¯æŒè°ƒç”¨ mcp server çš„ app éƒ½æ˜¯ hostã€‚æ¯”å¦‚ github copilot for vscodeã€claude desktopã€‚</li>
<li>mcp clientï¼šclient æ˜¯çœŸæ­£ä¸ server äº¤äº’çš„éƒ¨åˆ†ï¼Œä¸€èˆ¬åœ¨ host ä¸­å®ç°ã€‚å¯èƒ½å¤§å¤šæ•°æƒ…å†µå¹¶ä¸è‡ªå·±å®ç°ã€‚</li>
<li>mcp serverï¼šè¿™å°±æ˜¯çœŸæ­£å®ç° mcp é€»è¾‘çš„åœ°æ–¹ï¼Œåœ¨è¿™é‡Œä½ ä¼šå®ç°ä½ éœ€è¦çš„ toolsï¼Œä¾› host å’Œ client è°ƒç”¨ã€‚</li>
</ul>
<h1 id="å®‰è£…-mcp-python-sdk"><a href="#å®‰è£…-mcp-python-sdk" class="headerlink" title="å®‰è£… mcp python sdk"></a>å®‰è£… mcp python sdk</h1><p><a href="https://modelcontextprotocol.io/quickstart/server#set-up-your-environment">å®˜æ–¹æ–‡æ¡£</a>æ¨èä½¿ç”¨ <code>uv</code> å®‰è£…ç¯å¢ƒå’Œä¾èµ–ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. åˆå§‹åŒ–é¡¹ç›®ï¼Œè¿™ä¼šè‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œå¹¶ç”Ÿæˆä¸€äº›å¿…è¦æ–‡ä»¶ã€‚</span></span><br><span class="line">uv init project_name</span><br><span class="line">cd project_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å®‰è£…ä¾èµ–ï¼Œè¿™ä¼šå°†ç¯å¢ƒå®‰è£…åœ¨å½“å‰ç›®å½•çš„ .venv/ ä¸‹ï¼Œ</span></span><br><span class="line"><span class="comment"># å¹¶å°†ä¾èµ–å†™å…¥ pyproject.tomlã€‚</span></span><br><span class="line">uv add <span class="string">&quot;mcp[cli]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. æ¿€æ´»ç¯å¢ƒï¼Œè¿™ä¼šè®© python å‘½ä»¤æŒ‡å‘å½“å‰ç¯å¢ƒçš„ python ç‰ˆæœ¬ã€‚</span></span><br><span class="line">source .venv/<span class="built_in">bin</span>/activate</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ å¯¹ <code>uv</code> ä¸ç†Ÿï¼Œæˆ–è€…æƒ³è¦ä½¿ç”¨ conda/pipï¼Œé‚£ä¹ˆä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ pip å®‰è£…ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install <span class="string">&quot;mcp[cli]&quot;</span></span><br></pre></td></tr></table></figure>
<h1 id="å¦‚ä½•ç¼–å†™å’Œä½¿ç”¨-mcp-server"><a href="#å¦‚ä½•ç¼–å†™å’Œä½¿ç”¨-mcp-server" class="headerlink" title="å¦‚ä½•ç¼–å†™å’Œä½¿ç”¨ mcp server"></a>å¦‚ä½•ç¼–å†™å’Œä½¿ç”¨ mcp server</h1><blockquote>
<p>è¿™é‡Œä»¥ç¼–å†™ mcp tools ä¸ºä¾‹ï¼Œå¤§éƒ¨åˆ†æƒ…å†µæˆ‘ä»¬å†™çš„éƒ½æ˜¯ toolsã€‚</p>
</blockquote>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç”¨äºè·å–å½“å‰æ—¶é—´çš„ mcp server ä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> zoneinfo <span class="keyword">import</span> ZoneInfo</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> mcp.server.fastmcp <span class="keyword">import</span> FastMCP</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create an MCP server</span></span><br><span class="line">mcp = FastMCP(<span class="string">&quot;Demo MCP Server&quot;</span>)</span><br><span class="line">mcp.settings.host = <span class="string">&quot;0.0.0.0&quot;</span></span><br><span class="line">mcp.settings.port = <span class="number">7011</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@mcp.tool()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_current_time</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Returns the current date and time in the &#x27;Asia/Shanghai&#x27; timezone.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        datetime: The current datetime object localized to &#x27;Asia/Shanghai&#x27; timezone.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> datetime.now(tz=ZoneInfo(<span class="string">&quot;Asia/Shanghai&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># Start the server</span></span><br><span class="line">    mcp.run(transport=<span class="string">&quot;streamable-http&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>è¯­æ³•æ˜¯ä¸æ˜¯çœ‹èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼ŒåŸºæœ¬å’Œ flaskã€fastapi ä¸€è‡´ã€‚æ•´ä½“æµç¨‹å°±è¿™ä¹ˆä¸‰æ­¥ï¼š</p>
<ol>
<li>åˆ›å»º mcp å¯¹è±¡ï¼š<code>mcp = FastMCP(&quot;Demo MCP Server&quot;)</code> ï¼›</li>
<li>ç¼–å†™ tools å‡½æ•°ï¼Œç”¨ <code>@mcp.tool()</code> è¿›è¡Œè£…é¥°ï¼›</li>
<li>å¯åŠ¨ serverï¼š<code>mcp.run(transport=&quot;streamable-http&quot;)</code> ï¼Œè¿™é‡Œçš„ transport å…ˆä¸ç”¨å…³å¿ƒï¼Œä¸‹é¢ä¼šå†è¯´ï¼Œæš‚æ—¶ä½ å°±è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ª http æœåŠ¡å³å¯ã€‚</li>
</ol>
<p>è¿è¡Œåï¼Œä½ çš„ mcp åœ°å€å°±æ˜¯ <code>http://localhost:7011/mcp</code> ï¼Œå°†è¿™ä¸ªåœ°å€æ·»åŠ åˆ°ä½ çš„ host ä¸­å³å¯ã€‚ä¸‹é¢æˆ‘ä»¥ github copilot in vscode ä¸ºä¾‹ï¼Œæ¼”ç¤ºä¸‹å¦‚ä½•æ·»åŠ  mcp serverï¼š</p>
<ol>
<li><p>command + shift + p è°ƒå‡ºå‘½ä»¤ä¸­å¿ƒï¼Œè¾“å…¥ <code>mcp add</code> ï¼Œé€‰æ‹©æ·»åŠ æœåŠ¡å™¨ â†’ httpï¼š</p>
 <div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/UdJX4sQVvhMaA1i.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/UdJX4sQVvhMaA1i.png" alt=""></a></div>
 <div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/Onx5wLmyRSX62zb.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/Onx5wLmyRSX62zb.png" alt=""></a></div>
</li>
<li><p>æŒ‰ç…§æç¤ºå¡«å…¥ urlï¼ˆå°±æ˜¯åˆšæ‰çš„åœ°å€ï¼Œä½†æ˜¯è¦è®°å¾—åœ¨åé¢ä»¥æ–œæ ç»“å°¾ï¼Œè¯¦è§ä¸‹é¢çš„ gotchaï¼‰ã€nameï¼Œç„¶åå°±å¯ä»¥çœ‹åˆ°æ·»åŠ å¥½çš„ json é…ç½®ï¼Œå·²ç»æ­£å¸¸å¯åŠ¨äº†ï¼Œä¹Ÿå·²ç»å‘ç°äº† 1 ä¸ªå·¥å…·ï¼Œå°±æ˜¯åˆšæ‰çš„è·å–å½“å‰æ—¶é—´çš„å·¥å…·ï¼š</p>
 <div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/FnpLkrOb7wmsv51.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/FnpLkrOb7wmsv51.png" alt=""></a></div>
</li>
<li><p>æ‰“å¼€ gcï¼Œåˆ‡æ¢åˆ° agent æ¨¡å¼ï¼Œå› ä¸ºåªæœ‰åœ¨ <code>agent</code> æ¨¡å¼ä¸‹æ‰èƒ½ä½¿ç”¨ mcpï¼š</p>
 <div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/kO6wFGA4MqLuK5c.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/kO6wFGA4MqLuK5c.png" alt=""></a></div>
</li>
<li><p>ä½ å¯ä»¥è¯¢é—®â€œç°åœ¨å‡ ç‚¹äº†â€ç­‰å’Œæ—¶é—´æœ‰å…³çš„é—®é¢˜ï¼Œgc ä¼šæç¤ºå¯ä»¥è¿è¡Œ mcp tools æ¥è·å–æ—¶é—´ï¼Œä½ é€‰æ‹©â€œç»§ç»­â€å³å¯ï¼š</p>
 <div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/EdiZxbqGO3yIDFz.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/EdiZxbqGO3yIDFz.png" alt=""></a></div>
</li>
</ol>
<p>å¦å¤–ç‚¹å‡»æ‰³æ‰‹å›¾æ ‡å¯ä»¥çœ‹åˆ°å¯ç”¨çš„å·¥å…·ï¼ŒåŒ…å«æˆ‘ä»¬åˆšæ‰æ·»åŠ çš„ mcp serverï¼š</p>
<div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/mSD4UrPol23LRJV.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/mSD4UrPol23LRJV.png" alt=""></a></div>
<h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><p>å½“ä½ å†™å¥½ä¸€ä¸ª server å’Œ tools ä¹‹åï¼Œä½ éœ€è¦æµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½æ­£å¸¸è·‘é€šã€‚mcp å®˜æ–¹æä¾›äº† <a href="https://github.com/modelcontextprotocol/inspector">mcp inspector</a> ç”¨äºè°ƒè¯•ï¼Œæ­¤å¤–ä¹Ÿæœ‰å¾ˆå¤šå…¶ä»–çš„æµ‹è¯•å·¥å…·ã€‚æˆ‘ç°åœ¨å¸¸ç”¨çš„æ˜¯ postmanï¼Œå¯¹ï¼Œå°±æ˜¯é‚£ä¸ªè°ƒè¯•æ¥å£çš„ postmanï¼Œå®ƒç°åœ¨ä¹Ÿæ”¯æŒ mcp äº†ï¼Œç”šè‡³è¿˜æ”¯æŒç›´æ¥è°ƒç”¨ llm ğŸ˜‚ï¼š</p>
<div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/OhTkonNrf3piEl6.png" title="" data-caption="" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/OhTkonNrf3piEl6.png" alt=""></a></div>
<div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/QhJYXqIFPRvs3GB.png" title="postman" data-caption="postman" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/QhJYXqIFPRvs3GB.png" alt="postman"></a><span class="caption">postman</span></div>
<div class="figure center" style="width:;"><a class="fancybox" href="https://s2.loli.net/2025/06/03/o34ezQSTih5vNHG.png" title="mcp inspector" data-caption="mcp inspector" data-fancybox="default"><img class="fig-img" src="https://s2.loli.net/2025/06/03/o34ezQSTih5vNHG.png" alt="mcp inspector"></a><span class="caption">mcp inspector</span></div>
<p>ç”¨èµ·æ¥æ¯” inspector æ–¹ä¾¿ç‚¹ï¼Œinspector è¿˜å¾—å¯åŠ¨ä¸€ä¸‹æµè§ˆå™¨é‡Œæ‰“å¼€ï¼Œè€Œä¸”ç•Œé¢æœ‰ç‚¹ä¹±çš„æ„Ÿè§‰ï¼š</p>
<p>okï¼Œä»¥ä¸ŠåŸºæœ¬å°±æ˜¯ä½¿ç”¨å±‚é¢ï¼Œå¦‚æœä½ çš„ç›®çš„æ˜¯ç¼–å†™ä¸€ä¸ª mcp server æ¥æä¾› toolsï¼Œé‚£ä¹ˆåŸºæœ¬å·²ç»å¤Ÿäº†ã€‚å¦‚æœä½ è¿˜æƒ³äº†è§£æ›´å¤šä¸€ç‚¹ï¼Œå¯ä»¥çœ‹ä¸‹ä¸€æœŸï¼Œä¸ºäº†ä¿æŒæ–‡ç« ç®€çŸ­é›†ä¸­ï¼Œæˆ‘å°±ä¸æ”¾åœ¨è¿™é‡Œäº†ã€‚</p>
<h1 id="Gotchas"><a href="#Gotchas" class="headerlink" title="Gotchas"></a>Gotchas</h1><ol>
<li>åœ¨ vscode ä¸­æ·»åŠ  server æ—¶ï¼Œstreamable httpï¼ˆ<code>http</code>ï¼‰ç±»å‹çš„ server çš„ URL å¿…é¡»ä»¥æ–œæ  <code>/</code> ç»“å°¾ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š<code>Error sending message to http://localhost:7011/mcp: TypeError: fetch failed</code> ï¼Œserver æ—¥å¿—æ˜¾ç¤ºï¼š<code>INFO:     ip:40226 - &quot;POST /mcp HTTP/1.1&quot; 307 Temporary Redirect</code> ï¼Œé€šè¿‡ <code>curl -v -X POST http://your-server/mcp</code> å¯ä»¥çœ‹åˆ°ï¼Œé‡å®šå‘åˆ°äº†æ–œæ ç»“å°¾çš„è·¯ç”±ã€‚ä½†æ˜¯ä½¿ç”¨ inspector æˆ–è€… postman æ—¶ï¼Œä»ç„¶å¯ä»¥ç›´æ¥ä½¿ç”¨éæ–œæ ç»“å°¾çš„ URLã€‚</li>
</ol>
<h1 id="References"><a href="#References" class="headerlink" title="References"></a>References</h1><ul>
<li><a href="https://wandb.ai/onlineinference/mcp/reports/The-Model-Context-Protocol-MCP-by-Anthropic-Origins-functionality-and-impact--VmlldzoxMTY5NDI4MQ#mcp-vs.-existing-context-management-methods">The Model Context Protocol (MCP) by Anthropic: Origins, functionality, and impact | mcp â€“ Weights &amp; Biases</a></li>
<li><a href="https://www.youtube.com/watch?v=7j_NE6Pjv-E">Model Context Protocol (MCP), clearly explained (why it matters) - YouTube</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/model-context-protocol">MCP 101: An Introduction to Model Context Protocol | DigitalOcean</a></li>
</ul>
<h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">æ ‡ç­¾</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/LLM/" rel="tag">LLM</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/MCP/" rel="tag">MCP</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2025/06/14/introducing-mcp-part-2/"
                    data-tooltip="MCP ç®€æ˜“æŒ‡å—ï¼ˆäºŒï¼‰ï¼šæ¦‚å¿µ"
                    aria-label="ä¸Šä¸€ç¯‡: MCP ç®€æ˜“æŒ‡å—ï¼ˆäºŒï¼‰ï¼šæ¦‚å¿µ"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2024/12/28/my-2024/"
                    data-tooltip="æˆ‘çš„ 2024"
                    aria-label="ä¸‹ä¸€ç¯‡: æˆ‘çš„ 2024"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                    title="åˆ†äº«åˆ° Facebook"
                    aria-label="åˆ†äº«åˆ° Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                    title="åˆ†äº«åˆ° Twitter"
                    aria-label="åˆ†äº«åˆ° Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                    title="åˆ†äº«åˆ° Weibo"
                    aria-label="åˆ†äº«åˆ° Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Kommentieren"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="ç›®å½•">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Alan Lee. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2025/06/14/introducing-mcp-part-2/"
                    data-tooltip="MCP ç®€æ˜“æŒ‡å—ï¼ˆäºŒï¼‰ï¼šæ¦‚å¿µ"
                    aria-label="ä¸Šä¸€ç¯‡: MCP ç®€æ˜“æŒ‡å—ï¼ˆäºŒï¼‰ï¼šæ¦‚å¿µ"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">ä¸Šä¸€ç¯‡</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2024/12/28/my-2024/"
                    data-tooltip="æˆ‘çš„ 2024"
                    aria-label="ä¸‹ä¸€ç¯‡: æˆ‘çš„ 2024"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">ä¸‹ä¸€ç¯‡</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                    title="åˆ†äº«åˆ° Facebook"
                    aria-label="åˆ†äº«åˆ° Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                    title="åˆ†äº«åˆ° Twitter"
                    aria-label="åˆ†äº«åˆ° Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                    title="åˆ†äº«åˆ° Weibo"
                    aria-label="åˆ†äº«åˆ° Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Kommentieren"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="ç›®å½•">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                        aria-label="åˆ†äº«åˆ° Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>åˆ†äº«åˆ° Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                        aria-label="åˆ†äº«åˆ° Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>åˆ†äº«åˆ° Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://service.weibo.com/share/share.php?&amp;title=https://alanlee.fun/2025/06/03/introducing-mcp-part-1/"
                        aria-label="åˆ†äº«åˆ° Weibo"
                    >
                        <i class="fab fa-weibo" aria-hidden="true"></i><span>åˆ†äº«åˆ° Weibo</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://s2.loli.net/2021/12/19/Cri1WMHedxFm3pv.png" alt="ä½œè€…çš„å›¾ç‰‡"/>
        
            <h4 id="about-card-name">Alan Lee</h4>
        
            <div id="about-card-bio"><p>NLP and Python developer, sometimes datavis, he/him. Stick to what you believe.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                åŒ—äº¬
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('https://s2.loli.net/2021/12/16/5nuJTFWg2QACLDf.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-bzxavs3xgrmr4dhl4zkhmrmrloaxiygxfjiarsltzu6y5bjgj5wpgsicnjdf.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://alanlee.fun/2025/06/03/introducing-mcp-part-1/';
              
            this.page.identifier = '2025/06/03/introducing-mcp-part-1/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'secsilm';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
