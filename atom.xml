<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Alan Lee Space Station</title>
  
  <subtitle>Always Learning</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-12-27T08:44:02.245Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Alan Lee</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç†è§£ LSTM ç½‘ç»œ</title>
    <link href="http://yoursite.com/2017/12/27/understanding-lstms/"/>
    <id>http://yoursite.com/2017/12/27/understanding-lstms/</id>
    <published>2017-12-27T08:40:36.517Z</published>
    <updated>2017-12-27T08:44:02.245Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Understanding-LSTM-Networks"><a href="#Understanding-LSTM-Networks" class="headerlink" title="Understanding LSTM Networks"></a><a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/" target="_blank" rel="noopener">Understanding LSTM Networks</a></h1><blockquote><p>è¯‘è€…æ³¨ï¼šæœ¬æ–‡åŸæ–‡ä¸º Christopher Olah äº 2015 å¹´å‘è¡¨åœ¨è‡ªå·±<a href="http://colah.github.io/" target="_blank" rel="noopener">åšå®¢</a>ä¸Šçš„ç»å…¸æ–‡ç« ï¼š<a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/" target="_blank" rel="noopener">Understanding LSTM Networks -- colah&#39;s blog</a>ã€‚æœ¬äººæ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡å‡ºã€‚</p></blockquote><h2 id="Recurrent-Neural-Networks"><a href="#Recurrent-Neural-Networks" class="headerlink" title="Recurrent Neural Networks"></a>Recurrent Neural Networks</h2><p>äººä»¬ä¸ä¼šæ¯ä¸€ç§’éƒ½ä»å¤´å¼€å§‹æ€è€ƒã€‚å½“ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œä½ æ ¹æ®å‰é¢çš„å•è¯æ¥ç†è§£åé¢çš„å•è¯ã€‚ä½ ä¸ä¼šæ‰”æ‰ä»–ä»¬ç„¶åé‡æ–°å¼€å§‹æ€è€ƒã€‚ä½ çš„æ€è€ƒå…·æœ‰æŒç»­æ€§ã€‚</p><p>ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œåšä¸åˆ°è¿™ä¸€ç‚¹ï¼Œè€Œä¸”è¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªä¸»è¦ç¼ºç‚¹ã€‚ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ä¸‹ä½ æƒ³è¦å¯¹ä¸€ä¸ªç”µå½±ä¸­æ¯ä¸€å¸§æ‰€å‘ç”Ÿçš„äº‹ä»¶ç±»å‹è¿›è¡Œåˆ†ç±»ï¼Œè€Œä¼ ç»Ÿç¥ç»ç½‘ç»œå´ä¸èƒ½å¤Ÿåˆ©ç”¨å…ˆå‰çš„äº‹æƒ…æ¥æ¨ç†åæ¥çš„äº‹æƒ…ã€‚</p><p>Recurrent Neural Networksï¼ˆ<em>ä»¥ä¸‹ç®€ç§° RNN</em>ï¼‰è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä»–ä»¬åœ¨ç½‘ç»œå†…éƒ¨æœ‰å¾ªç¯ï¼Œå¯ä»¥è®©ä¿¡æ¯å…·æœ‰æŒç»­æ€§ã€‚</p><p><img src="https://i.imgur.com/A8appFv.png" alt="Recurrent Neural Networks have loops."></p><center><font color="gray">RNN ä¸­æœ‰å¾ªç¯</font></center>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Understanding-LSTM-Networks&quot;&gt;&lt;a href=&quot;#Understanding-LSTM-Networks&quot; class=&quot;headerlink&quot; title=&quot;Understanding LSTM Networks&quot;&gt;&lt;/a&gt;&lt;a hr
      
    
    </summary>
    
    
      <category term="Machine Learning" scheme="http://yoursite.com/tags/Machine-Learning/"/>
    
  </entry>
  
  <entry>
    <title>æ‰¹é‡å¯¼å‡º CSDN åšå®¢ä¸º Markdown æ–‡ä»¶</title>
    <link href="http://yoursite.com/2017/12/25/export-csdn-blogs-to-md/"/>
    <id>http://yoursite.com/2017/12/25/export-csdn-blogs-to-md/</id>
    <published>2017-12-25T01:27:18.000Z</published>
    <updated>2017-12-25T04:02:17.276Z</updated>
    
    <content type="html"><![CDATA[<p>CSDN çœŸæ˜¯ğŸ’Šï¼Œç»å¸¸æ€§çš„ä¸èƒ½è®¿é—®ï¼Œè€Œä¸”å¦‚æœä¸ç”¨å¹¿å‘Šæ’ä»¶çš„è¯é¡µé¢ç®€ç›´ä¸èƒ½çœ‹ï¼Œå‰æ®µæ—¶é—´åˆæŒ‚äº†ï¼Œå‘äº†ä¸ªå¸–å­åæ§½äº†ä¸€ä¸‹ï¼š<a href="https://www.v2ex.com/t/416648#reply35" target="_blank" rel="noopener">CSDN åšå®¢åˆæŒ‚äº†ã€‚ã€‚ã€‚ - V2EX</a>ã€‚æœ¬æ¥ä¹Ÿè€ƒè™‘è¿‡è‡ªå·±åšä¸ªï¼Œçœ‹äº†å¥½ä¹…ï¼Œä½†æ˜¯ç”±äºè‡ªå·±å¯¹ç½‘ç«™ç›¸å…³çš„ä¸å¤ªæ‡‚ï¼Œçœ‹ç€æ•™ç¨‹åˆå¤æ‚ï¼Œå°±æ²¡å¼„äº†ã€‚CSDN è¿™æ¬¡æŒ‚çœŸè®©æˆ‘é“äº†å¿ƒå¼„è‡ªå·±çš„ç½‘ç«™ï¼Œç„¶åç”¨äº†ä¸€ä¸ªä¸‹åˆæ­èµ·æ¥äº†ï¼Œéšååˆé™†é™†ç»­ç»­æ”¹äº†æ”¹ä¸»é¢˜é…ç½®ä¹‹ç±»çš„ï¼Œå¼„è¿™ä¸ªè¿˜æ˜¯æˆ‘æœ€è¿‘ç¬¬ä¸€æ¬¡ä¸€ä¸¤ç‚¹æ‰ç¡ï¼Œåæ¥è¿˜æ„Ÿå†’äº† ğŸ˜</p><p>å†…å®¹ä¸ºç‹ï¼Œç«™æ­èµ·æ¥äº†ï¼Œå°±éœ€è¦å†…å®¹æ¥å……å®ã€‚ä½†æ˜¯æˆ‘çš„æ–‡ç« éƒ½åœ¨ CSDN ä¸Šï¼Œæ‰‹åŠ¨ä¸€ç¯‡ä¸€ç¯‡å¯¼è¿‡æ¥å¤ªæ…¢ï¼Œè€Œä¸” hexo çš„æ–‡ç« éœ€è¦åœ¨å¤´éƒ¨æ·»åŠ  <a href="https://hexo.io/zh-cn/docs/front-matter.html" target="_blank" rel="noopener">Front-matter</a>ï¼Œæ‰€ä»¥è¿™æ ·ä¸€æ¥å·¥ä½œé‡å°±æ›´å¤§äº†ï¼Œæ‰€ä»¥è€ƒè™‘ç”¨ Python æŠŠæ–‡ç« éƒ½çˆ¬è¿‡æ¥ï¼Œç„¶åç»Ÿä¸€æ·»åŠ  Front-matterã€‚</p><p>å®Œæ•´ç¨‹åºæºç åœ¨ <a href="https://github.com/secsilm/csdn2md" target="_blank" rel="noopener">secsilm/csdn2md: Export csdn blogs to markdown files.</a>ã€‚</p><blockquote><p>Noteï¼šä½ çš„æ–‡ç« å¿…é¡»æ˜¯ä½¿ç”¨ markdown å†™çš„ï¼Œä¸ç„¶æ— æ³•ä½¿ç”¨æœ¬æ–‡æ–¹æ³•å¯¼å‡ºã€‚</p></blockquote><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¯¹äºå•ç¯‡æ–‡ç« ï¼ŒCSDN æœ‰å¯¼å‡ºä¸º markdown çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://i.imgur.com/6aLaZPS.gif" alt="å¯¼å‡ºå•ç¯‡æ–‡ç« "></p><p>ä½†æ˜¯è¿™æ ·è´¹æ—¶è´¹åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å½“æˆ‘ä»¬ç‚¹å‡»<code>ç¼–è¾‘</code>æŒ‰é’®æ—¶ï¼Œç½‘é¡µå‘æœåŠ¡å™¨å‘é€çš„è¯·æ±‚åœ°å€ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è·å–åˆ°åšå®¢å†…å®¹ï¼Œä¹Ÿå°±å¯ä»¥é‡æ–°å†™å…¥åˆ° markdown æ–‡ä»¶äº†ã€‚</p><p>æˆ‘ä»¬åœ¨æ–‡ç« é¡µæŒ‰<code>F12</code>è°ƒå‡ºå¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ°<code>Network</code>é€‰é¡¹å¡ï¼Œç„¶åç‚¹å‡»<code>ç¼–è¾‘</code>ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å‡ ä¸ªè¯·æ±‚ï¼š</p><p><img src="https://i.imgur.com/Sg4Bb5w.png" alt="ä¸‰ä¸ªè¯·æ±‚"></p><p><code>webspeeds</code>æ— å…³ï¼Œé‚£ä¹ˆå‰©ä¸‹ä¸¤ä¸ªï¼Œä»åå­—å¯ä»¥å¾ˆå¿«çœ‹å‡ºæ¥æˆ‘ä»¬éœ€è¦çš„æ˜¯ç¬¬äºŒä¸ªï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://write.blog.csdn.net/mdeditor/getArticle?id=53418159&amp;username=u010099080</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼š<code>id</code>å’Œ<code>username</code>ï¼Œ<code>id</code>å°±æ˜¯æ–‡ç«  idï¼Œè¿™ä¸ªå¾ˆå¥½è·å–ï¼Œå¯ä»¥åœ¨æ–‡ç« åœ°å€ä¸­æ‰¾åˆ°ã€‚<code>username</code>åˆ™æ˜¯ä½ çš„ç”¨æˆ·åï¼Œä¹Ÿå¯ä»¥åœ¨ä½ çš„åšå®¢åœ°å€ä¸­æ‰¾åˆ°ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹è¯·æ±‚å¤´ï¼š</p><p><img src="https://i.imgur.com/gAkWlzs.png" alt="è¯·æ±‚å¤´"></p><p>å¯ä»¥çœ‹åˆ°å…¶å®ä¹Ÿæ²¡å•¥ç‰¹åˆ«çš„ï¼Œå…¶ä¸­<code>Cookie</code>æ˜¯ä¸€ä¼šå„¿æˆ‘ä»¬éœ€è¦çš„ï¼Œä½ å¯ä»¥å°†æ­¤å¤åˆ¶åˆ°ä¸€ä¸ª txt æ–‡ä»¶ï¼ˆå‡è®¾åå­—å«<code>cookies.txt</code>ï¼‰ä¸­ä»¥å¤‡åç”¨ã€‚ç”±äº cookie å­—ç¬¦ä¸²æ˜¯å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­çš„ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥è§£ææˆ<code>dict</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_and_parse_cookies</span><span class="params">(cookie_file)</span>:</span></span><br><span class="line">    <span class="string">"""è¯»å–å¹¶è§£æ cookiesã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        cookie_file: å«æœ‰ cookies å­—ç¬¦ä¸²çš„ txt æ–‡ä»¶å</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        ä¸€ä¸ªå­—å…¸å½¢å¼çš„ cookies</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">with</span> open(cookie_file, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        cookies_str = f.readline()</span><br><span class="line">    cookies_dict = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> cookies_str.split(<span class="string">";"</span>):</span><br><span class="line">        k, v = item.split(<span class="string">"="</span>, maxsplit=<span class="number">1</span>)</span><br><span class="line">        cookies_dict[k.strip()] = v.strip()</span><br><span class="line">    <span class="keyword">return</span> cookies_dict</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨<code>requests</code>æ¥å‘èµ·è¯·æ±‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">base_url = <span class="string">'http://write.blog.csdn.net/mdeditor/getArticle'</span></span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="string">'id'</span>: article_id,</span><br><span class="line">    <span class="string">'username'</span>: username</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># æ ¹æ®æ–‡ç«  id è·å–æ–‡ç« æ•°æ®</span></span><br><span class="line">r = requests.get(base_url, params=params, cookies=cookies)</span><br></pre></td></tr></table></figure><p>å†ä»å¼€å‘è€…å·¥å…·çœ‹ä¸‹è¯·æ±‚è¿”å›å€¼ï¼š</p><p><img src="https://i.imgur.com/VPMrb7Q.png" alt="Response"></p><p>åŸºæœ¬ä¸Šå›Šæ‹¬äº†ä¸€ç¯‡æ–‡ç« çš„æ‰€æœ‰ä¿¡æ¯äº†ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦é‡Œé¢çš„<code>markdowncontent</code>ã€<code>title</code>å’Œ<code>create</code>ã€‚è€Œä¸”è¿”å›çš„æ•°æ®æ˜¯ json æ ¼å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>json.loads()</code>æ¥è§£ææˆ<code>dict</code>æ ¼å¼ï¼Œæ–¹ä¾¿æˆ‘ä»¬å†™å…¥æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = json.loads(r.text, strict=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure><p>æœ€åç”±äºæˆ‘æ˜¯è¦å¯¼å…¥åˆ° hexo ç«™ç‚¹ä¸­ï¼Œæ‰€ä»¥éœ€è¦åŠ  Front-matterï¼Œæ‰€ä»¥åœ¨è·å–åˆ°æ–‡ç« å†…å®¹åï¼Œéœ€è¦å…ˆæŠŠå®šä¹‰å¥½çš„ Front-matter åŠ åˆ°æ–‡ç« å†…å®¹é‡Œï¼Œä¸€èµ·å†™å…¥æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> hexo:</span><br><span class="line">hexo_str = <span class="string">'---\ntitle: &#123;title&#125;\ndate: &#123;date&#125;\ntags:\n---\n\n'</span>.format(</span><br><span class="line">    title=title, date=data[<span class="string">'data'</span>][<span class="string">'create'</span>])</span><br><span class="line"><span class="comment"># Windows ä¸‹æ–‡ä»¶åä¸­çš„éæ³•å­—ç¬¦</span></span><br><span class="line">forbidden = [<span class="string">'\\'</span>, <span class="string">'/'</span>, <span class="string">':'</span>, <span class="string">'*'</span>, <span class="string">'?'</span>, <span class="string">'"'</span>, <span class="string">'&lt;'</span>, <span class="string">'&gt;'</span>, <span class="string">'|'</span>]</span><br><span class="line"><span class="comment"># å¦‚æœæ–‡ç« åå«æœ‰éæ³•å­—ç¬¦ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶ id ä½œä¸º md æ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">if</span> any([c <span class="keyword">in</span> repr(title) <span class="keyword">for</span> c <span class="keyword">in</span> forbidden]):</span><br><span class="line">    <span class="keyword">with</span> open(os.path.join(md_dir, article_id + <span class="string">'.md'</span>), <span class="string">'w'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(hexo_str + data[<span class="string">'data'</span>][<span class="string">'markdowncontent'</span>])</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">with</span> open(os.path.join(md_dir, title + <span class="string">'.md'</span>), <span class="string">'w'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(hexo_str + data[<span class="string">'data'</span>][<span class="string">'markdowncontent'</span>])</span><br></pre></td></tr></table></figure><p>è‡³äºå¦‚ä½•é€šè¿‡æ–‡ç« åˆ—è¡¨è·å–æ–‡ç«  idï¼Œè¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥çœ‹æºç ã€‚</p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>ç¨‹åºä½¿ç”¨<code>fire</code>æ¥ä»å‘½ä»¤è¡Œæ¥æ”¶å‚æ•°ï¼Œå¦‚ä½•ä½¿ç”¨<code>fire</code>è¯·å‚è€ƒ <a href="https://secsilm.github.io/2017/04/22/python-fire/#%E6%9B%B4%E6%96%B0" target="_blank" rel="noopener">Python è‡ªåŠ¨ç”Ÿæˆå‘½ä»¤è¡Œå·¥å…· - fire ç®€ä»‹ Â· Lee&#39;s Space Station</a>ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å¸®åŠ©ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python csdn2md.py -- --<span class="built_in">help</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Type:        <span class="keyword">function</span></span><br><span class="line">String form: &lt;<span class="keyword">function</span> to_md_files at 0x000001CACC8C5E18&gt;</span><br><span class="line">File:        d:\chromedownload\mdfiles\csdn2md.py</span><br><span class="line">Line:        47</span><br><span class="line">Docstring:   å¯¼å‡ºä¸º Markdown æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">Args:</span><br><span class="line">    total_pages: åšå®¢æ–‡ç« åœ¨æ‘˜è¦æ¨¡å¼ä¸‹çš„æ€»é¡µæ•°</span><br><span class="line">    filename: å«æœ‰ cookies å­—ç¬¦ä¸²çš„ txt æ–‡ä»¶å</span><br><span class="line">    start: ä» start é¡µå¼€å§‹å¯¼å‡º (default: &#123;1&#125;)</span><br><span class="line">    stop: åˆ° stop é¡µåœæ­¢ (default: &#123;None&#125;)</span><br><span class="line">    hexo: æ˜¯å¦æ·»åŠ  hexo æ–‡ç« å¤´éƒ¨å­—ç¬¦ä¸²ï¼ˆdefault: &#123;True&#125;ï¼‰</span><br><span class="line">    md_dir: md æ–‡ä»¶å¯¼å‡ºç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•ï¼ˆdefault: .ï¼‰</span><br><span class="line"></span><br><span class="line">Usage:       csdn2md.py USERNAME TOTAL_PAGES COOKIE_FILE [START] [STOP] [HEXO] [MD_DIR]</span><br><span class="line">             csdn2md.py --username USERNAME --total-pages TOTAL_PAGES --cookie-file COOKIE_FILE [--start START] [--stop STOP] [--hexo HEXO] [--md-dir MD_DIR]</span><br></pre></td></tr></table></figure><p>ä»å¸®åŠ©å¯ä»¥çœ‹å‡ºï¼Œä½ éœ€è¦æä¾›ç”¨æˆ·å<code>username</code>ã€åšå®¢æ€»é¡µæ•°<code>total-pages</code>å’Œ cookie æ–‡ä»¶å<code>cookie-file</code>ï¼Œå¯é€‰å‚æ•°ä¸º<code>start</code>ã€<code>stop</code>ï¼ˆé»˜è®¤ä¸º<code>None</code>ï¼Œå³ä¸€ç›´åˆ°åšå®¢æ–‡ç« æœ€åä¸€é¡µï¼‰ã€<code>hexo</code>å’Œ<code>md-dir</code>ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ éœ€è¦å¯¼å‡ºåšå®¢çš„ç¬¬ä¸€é¡µæ–‡ç« åˆ°å½“å‰ç›®å½•ä¸‹çš„<code>mdfiles</code>ç›®å½•ï¼Œä½ çš„åšå®¢æ€»é¡µæ•°ä¸º<code>3</code>ï¼Œé‚£ä¹ˆåªéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python csdn2md.py --username u010099080 --total-pages 3 --cookie-file cookies.txt --stop 1 --md-dir mdfiles</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">2017-12-25 11:54:08 INFO: Page 1</span><br><span class="line">2017-12-25 11:54:08 INFO: Exporting ã€TensorFlowã€‘ç†è§£ Estimators å’Œ Datasets ...</span><br><span class="line">2017-12-25 11:54:08 INFO: Exporting Windows 10 èµ„æºç®¡ç†å™¨é»‘è‰²é£æ ¼ ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•æ¦‚è¿° ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting ä½¿ç”¨é›†æˆå­¦ä¹ æå‡æœºå™¨å­¦ä¹ ç®—æ³•æ€§èƒ½ ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting ã€TensorFlow | TensorBoardã€‘ç†è§£ TensorBoard ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting ã€Pythonã€‘Numpy ä¸­çš„ shuffle VS permutation ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting ã€TensorFlowã€‘DNNRegressor çš„ç®€å•ä½¿ç”¨ ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting XGBoost åœ¨ Windows 10 å’Œ Ubuntu ä¸Šçš„å®‰è£… ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting ã€Pythonã€‘è‡ªåŠ¨ç”Ÿæˆå‘½ä»¤è¡Œå·¥å…· - fire ç®€ä»‹ ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting å¥‡å¼‚å€¼åˆ†è§£ SVD çš„æ•°å­¦è§£é‡Š ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting ã€Pythonã€‘ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ä¸ªæ•° ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting ã€TensorFlowã€‘TensorFlow çš„å·ç§¯ç¥ç»ç½‘ç»œ CNN - TensorBoardç‰ˆ ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting ä½¿ç”¨ tree å‘½ä»¤æ ¼å¼åŒ–è¾“å‡ºç›®å½•ç»“æ„ ...</span><br><span class="line">2017-12-25 11:54:11 INFO: Exporting VSCode Markdown PDF å¯¼å‡ºæˆPDFæŠ¥ phantomjs binary does not exist é”™è¯¯çš„è§£å†³åŠæ³• ...</span><br><span class="line">2017-12-25 11:54:11 INFO: Exporting ã€Pythonã€‘numpy ä¸­çš„ copy é—®é¢˜è¯¦è§£ ...</span><br><span class="line">2017-12-25 11:54:11 INFO: Done!</span><br></pre></td></tr></table></figure><p><code>mdfiles</code>æ–‡ä»¶å¤¹ï¼š</p><p><img src="https://i.imgur.com/UK5pcCz.png" alt="mdfiles"></p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>å½“ç„¶ï¼Œå¯¼å‡ºçš„æ–‡ä»¶ä¸­ Front-matter ä¸­çš„ <code>tags</code> è¿˜æ˜¯éœ€è¦è‡ªå·±æ·»åŠ ï¼Œå› ä¸ºæˆ‘æƒ³è‡ªå·±å†é‡æ–°åŠ æ ‡ç­¾è€Œä¸æ˜¯ä½¿ç”¨åŸæ¥çš„æ ‡ç­¾ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨åŸæ¥çš„æ ‡ç­¾ï¼Œé‚£ä¹ˆåªéœ€æŠŠè¯·æ±‚è¿”å› json æ•°æ®ä¸­çš„<code>categories</code>æå–å‡ºæ¥åŠ è¿›å»å³å¯ã€‚</p><p>Merry Christmas! ğŸ˜„</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;CSDN çœŸæ˜¯ğŸ’Šï¼Œç»å¸¸æ€§çš„ä¸èƒ½è®¿é—®ï¼Œè€Œä¸”å¦‚æœä¸ç”¨å¹¿å‘Šæ’ä»¶çš„è¯é¡µé¢ç®€ç›´ä¸èƒ½çœ‹ï¼Œå‰æ®µæ—¶é—´åˆæŒ‚äº†ï¼Œå‘äº†ä¸ªå¸–å­åæ§½äº†ä¸€ä¸‹ï¼š&lt;a href=&quot;https://www.v2ex.com/t/416648#reply35&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
      
    
    </summary>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ç†è§£ Estimators å’Œ Datasets</title>
    <link href="http://yoursite.com/2017/12/22/understanding-estimators-datasets/"/>
    <id>http://yoursite.com/2017/12/22/understanding-estimators-datasets/</id>
    <published>2017-12-22T10:30:15.000Z</published>
    <updated>2017-12-24T15:08:35.711Z</updated>
    
    <content type="html"><![CDATA[<p>Google åœ¨ 2017 å¹´ 9 æœˆ 12 å·çš„åšæ–‡ <a href="https://developers.googleblog.com/2017/09/introducing-tensorflow-datasets.html" target="_blank" rel="noopener">Introduction to TensorFlow Datasets and Estimators</a> ä¸­ä»‹ç»äº†æ–°å¼•å…¥çš„ä¸¤ä¸ªæ–°ç‰¹æ€§ <a href="https://www.tensorflow.org/programmers_guide/datasets" target="_blank" rel="noopener">Datasets</a> å’Œ <a href="https://www.tensorflow.org/programmers_guide/estimators" target="_blank" rel="noopener">Estimators</a>ï¼š</p><ul><li><p>Datasetsï¼šåˆ›å»ºä¸€ä¸ªè¾“å…¥ç®¡é“ï¼ˆinput pipelinesï¼‰æ¥ä¸ºä½ çš„æ¨¡å‹è¯»å–æ•°æ®ï¼Œåœ¨è¿™ä¸ª pipelines ä¸­ä½ å¯ä»¥åšä¸€äº›æ•°æ®é¢„å¤„ç†ï¼Œå°½é‡éƒ½ä½¿ç”¨ TensorFlow è‡ªå·±çš„å‡½æ•°ï¼Œå³ <code>tf</code> å¼€å¤´çš„å‡½æ•°ï¼ˆæ¯”å¦‚ <code>tf.reshape</code>ï¼‰ï¼Œè¿™æ ·å¯ä»¥æé«˜ç¨‹åºæ‰§è¡Œæ•ˆç‡ã€‚</p></li><li><p>Estimatorsï¼šè¿™æ˜¯æ¨¡å‹çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè€Œ Estimators çš„æ ¸å¿ƒéƒ¨åˆ†åˆ™æ˜¯ä¸€ä¸ª <code>model_fn</code> å‡½æ•°ï¼ˆåé¢ä¼šç»†è®²ï¼‰ï¼Œä½ åœ¨è¿™ä¸ªå‡½æ•°ä¸­å®šä¹‰ä½ çš„æ¨¡å‹æ¶æ„ï¼Œè¾“å…¥æ˜¯ç‰¹å¾å’Œæ ‡ç­¾ï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªå®šä¹‰å¥½çš„ estimatorã€‚</p></li></ul><p><img src="https://i.imgur.com/CSw2x5g.png" alt="tensorflow architecture"><br><em>TensorFlow æ¶æ„ï¼Œå›¾è‡ª <a href="https://developers.googleblog.com/2017/09/introducing-tensorflow-datasets.html" target="_blank" rel="noopener">Google Developers Blog</a></em></p><p>å®é™…ä¸Šè¿™ä¸¤ä¸ªç‰¹æ€§å¹¶ä¸æ˜¯ç¬¬ä¸€æ¬¡å¼•å…¥ï¼Œåªä¸è¿‡ä¹‹å‰æ˜¯æ”¾åœ¨ <code>tf.contrib</code> é‡Œï¼Œè€Œè¿™æ¬¡æ˜¯å¼•å…¥åˆ°äº† TensorFlow æ ¸å¿ƒç»„ä»¶ä¸­ï¼Œæ„å‘³ç€å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚æˆ‘ 6 æœˆä»½çš„æ—¶å€™ä¹Ÿå†™è¿‡ä¸€ç¯‡<a href="http://blog.csdn.net/u010099080/article/details/72824899" target="_blank" rel="noopener">åšæ–‡</a>ç®€å•è¯´äº†ä¸‹ <code>tf.contrib.learn.DNNRegressor</code> çš„ä½¿ç”¨ï¼Œå®é™…ä¸Šè¿™å°±æ˜¯ Estimators å†…ç½®çš„ä¸€ä¸ªæ¨¡å‹ï¼ˆestimatorï¼‰ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯é«˜å±‚ APIï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ºäº†åˆ›å»ºä¸€ä¸ªæ¨¡å‹ä½ ä¸ç”¨å†å†™ä¸€äº›å¾ˆåº•å±‚çš„ä»£ç ï¼ˆæ¯”å¦‚å®šä¹‰æƒé‡åç½®é¡¹ï¼‰ï¼Œå¯ä»¥åƒ scikit-learn å’Œ Keras é‚£æ ·å¾ˆè½»æ¾çš„å‡ è¡Œä»£ç åˆ›å»ºä¸€ä¸ªæ¨¡å‹ï¼Œä¾¿äºå¿«é€Ÿå®ç°ã€‚</p><p>æœ¬ç¯‡åšæ–‡å°±æ˜¯è¯•å›¾å°†è¿™ä¸¤ä¸ªé«˜å±‚ API ç»“åˆèµ·æ¥ï¼Œä½¿ç”¨ TensorFlow çš„æ•°æ®æ ¼å¼ TFRecords æ¥å®ç°ä¸€ä¸ªåœ¨ <a href="https://www.cs.toronto.edu/~kriz/cifar.html" target="_blank" rel="noopener">CIFAR-10</a> æ•°æ®é›†ä¸Šçš„ CNN æ¨¡å‹ã€‚å®Œæ•´ä»£ç å¯åœ¨<a href="">æˆ‘çš„ GitHub</a> ä¸Šæ‰¾åˆ°ã€‚</p><blockquote><p>Noteï¼šæœ¬ç¯‡åšæ–‡ä¸­çš„æ¨¡å‹å¹¶ä¸æ˜¯ç»“æœæœ€å¥½çš„æ¨¡å‹ï¼Œä»…ä»…æ˜¯ä¸ºäº†å±•ç¤ºå¦‚ä½•å°† Estimators å’Œ Datasets ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚</p></blockquote><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>ä½ å¯ä»¥ä½¿ç”¨ <code>python cifar10-estimator-dataset.py --help</code> æ¥æŸ¥çœ‹å¯é€‰å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">       USAGE: cifar10-estimator-dataset.py [flags]</span><br><span class="line">flags:</span><br><span class="line"></span><br><span class="line">cifar10-estimator-dataset.py:</span><br><span class="line">  --batch_size: Batch size</span><br><span class="line">    (default: &apos;64&apos;)</span><br><span class="line">    (an integer)</span><br><span class="line">  --dropout_rate: Dropout rate</span><br><span class="line">    (default: &apos;0.5&apos;)</span><br><span class="line">    (a number)</span><br><span class="line">  --eval_dataset: Filename of evaluation dataset</span><br><span class="line">    (default: &apos;eval.tfrecords&apos;)</span><br><span class="line">  --learning_rate: Learning rate</span><br><span class="line">    (default: &apos;0.001&apos;)</span><br><span class="line">    (a number)</span><br><span class="line">  --model_dir: Filename of testing dataset</span><br><span class="line">    (default: &apos;models/cifar10_cnn_model&apos;)</span><br><span class="line">  --num_epochs: Number of training epochs</span><br><span class="line">    (default: &apos;10&apos;)</span><br><span class="line">    (an integer)</span><br><span class="line">  --test_dataset: Filename of testing dataset</span><br><span class="line">    (default: &apos;test.tfrecords&apos;)</span><br><span class="line">  --train_dataset: Filename of training dataset</span><br><span class="line">    (default: &apos;train.tfrecords&apos;)</span><br></pre></td></tr></table></figure><p>TFRecords å’Œ TensorBoard æ–‡ä»¶ï¼ˆåŒ…æ‹¬æˆ‘åšçš„æ‰€æœ‰ runï¼‰è¾ƒå¤§ï¼Œæ²¡æœ‰æ”¾åˆ° GitHub ä¸Šï¼Œä½ å¯ä»¥ä»ç™¾åº¦ç›˜ä¸Šè·å–ï¼š</p><ul><li><a href="https://pan.baidu.com/s/1jImZOGY" target="_blank" rel="noopener">TFRecords</a>ï¼ˆ133.4 MBï¼‰ï¼Œå¯†ç ï¼š<code>dp7u</code></li><li><a href="https://pan.baidu.com/s/1dFew7SH" target="_blank" rel="noopener">TensorBoard</a>ï¼ˆ1.45 GBï¼‰ï¼Œå¯†ç ï¼š<code>6885</code></li></ul><h2 id="æ¨¡å‹æ¶æ„"><a href="#æ¨¡å‹æ¶æ„" class="headerlink" title="æ¨¡å‹æ¶æ„"></a>æ¨¡å‹æ¶æ„</h2><p>ä¸ºäº†è®©å¤§å®¶å¯¹æ¨¡å‹æ¶æ„å…ˆæœ‰ä¸ªæ¸…æ™°åœ°äº†è§£ï¼Œæˆ‘å…ˆæŠŠ TensorBoard ï¼ˆä¸ç†Ÿæ‚‰ TensorBoard çš„è¯å¯ä»¥å‚è€ƒ<a href="http://blog.csdn.net/u010099080/article/details/77426577" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼‰ä¸­æ˜¾ç¤ºçš„æ¨¡å‹æ¶æ„å›¾è´´å‡ºæ¥ï¼ˆæ•°æ®é›†æˆ‘ä¹Ÿå°±ä¸ä»‹ç»äº†ï¼Œè¿™æ˜¯ä¸ªå¾ˆå¸¸ç”¨çš„æ•°æ®é›†ï¼Œå¦‚æœ‰ä¸ç†Ÿæ‚‰çš„å¯ä»¥å‚çœ‹<a href="http://blog.csdn.net/u010099080/article/details/53906810#%E6%95%B0%E6%8D%AE%E9%9B%86" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼‰ï¼š</p><p><img src="https://i.imgur.com/D1Qz5it.png" alt="cnn model"><em>æ¨¡å‹æ¶æ„</em></p><p>å¯ä»¥çœ‹åˆ°ä¸¤å±‚å·ç§¯å±‚ï¼Œä¸¤å±‚æ± åŒ–å±‚ï¼Œä¸¤å±‚ BN å±‚ï¼Œä¸€å±‚ dropoutï¼Œä¸‰å±‚å…¨è¿æ¥å±‚ï¼ˆ<code>DENSE</code>ï¼‰ã€‚</p><h2 id="è¯»å–æ•°æ®é›†"><a href="#è¯»å–æ•°æ®é›†" class="headerlink" title="è¯»å–æ•°æ®é›†"></a>è¯»å–æ•°æ®é›†</h2><p>åœ¨ç»™æ¨¡å‹ã€Œå–‚ã€æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p><ol><li><p>åˆ›å»ºä¸€ä¸ª <code>Dataset</code> å¯¹è±¡æ¥è¡¨ç¤ºæˆ‘ä»¬çš„æ•°æ®é›†ï¼Œæœ‰å¤šç§æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>Dataset</code> å¯¹è±¡ï¼Œæˆ‘è¯´å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„ï¼š</p><ul><li><code>tf.data.Dataset.from_tensor_slices()</code>ï¼šè¿™ç§æ–¹æ³•é€‚åˆäºä½ çš„æ•°æ®é›†æ˜¯ numpy æ•°ç»„ç±»å‹çš„ã€‚</li><li><strong><code>tf.data.TFRecordDataset()</code></strong>ï¼š<strong>è¿™æ˜¯æœ¬æ–‡æ‰€ä½¿ç”¨çš„æ–¹æ³•</strong>ï¼Œé€‚åˆäºä½ çš„æ•°æ®é›†æ˜¯ TFRecords ç±»å‹çš„ã€‚</li><li><code>tf.data.TextLineDataset()</code>ï¼šé€‚åˆäºä½ çš„æ•°æ®é›†æ˜¯ txt æ ¼å¼çš„ã€‚</li></ul></li><li><p>å¯¹æ•°æ®é›†è¿›è¡Œä¸€äº›é¢„å¤„ç†ï¼š</p><ul><li><code>Dataset.map()</code>ï¼šå’Œæ™®é€šçš„ <code>map</code> å‡½æ•°ä¸€æ ·ï¼Œå¯¹æ•°æ®é›†è¿›è¡Œä¸€äº›å˜æ¢ï¼Œä¾‹å¦‚å›¾åƒæ•°æ®é›†çš„ç±»å‹è½¬æ¢ï¼ˆuint8 -&gt; float32ï¼‰ä»¥åŠ <code>reshape</code> ç­‰ã€‚</li><li><code>Dataset.shuffle()</code>ï¼šæ‰“ä¹±æ•°æ®é›†</li><li><code>Dataset.batch()</code>ï¼šå°†æ•°æ®é›†åˆ‡åˆ†ä¸ºç‰¹å®šå¤§å°çš„ batch</li><li><code>Dataset.repeat()</code>ï¼šå°†æ•°æ®é›†é‡å¤å¤šæ¬¡ã€‚å¦‚æœä¸ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨ç¬¬ä¸€æ¬¡éå†åˆ°æ•°æ®é›†çš„ç»“å°¾çš„æ—¶å€™ï¼Œä¼šæŠ›å‡ºä¸€ä¸ª <code>tf.errors.OutOfRangeError</code> å¼‚å¸¸ï¼Œè¡¨ç¤ºæ•°æ®é›†å·²ç»éå†å®Œæ¯•ã€‚ä½†æ˜¯å®é™…ä¸­æˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹æ•°æ®é›†è¿­ä»£è®­ç»ƒä¸æ­¢ä¸€æ¬¡ï¼Œè¿™æ—¶å€™å°±è¦ç”¨ <code>repeat()</code> æ¥é‡å¤æ•°æ®é›†å¤šæ¬¡ã€‚å¦‚æœä¸åŠ ä»»ä½•å‚æ•°ï¼Œé‚£ä¹ˆè¡¨ç¤ºé‡å¤æ•°æ®é›†æ— ç©·å¤šæ¬¡ã€‚</li></ul></li><li><p>ä½¿ç”¨ <code>Iterator</code> çš„ <code>get_next()</code> æ–¹æ³•æ¥æ¯æ¬¡è·å–ä¸€ä¸ª batch çš„æ•°æ®ï¼ˆå‡å¦‚ä½ æ˜¯ä½¿ç”¨ mini-batch è®­ç»ƒçš„è¯ï¼‰ã€‚ç›®å‰ TensorFlow æä¾›å››ç§ <code>Iterator</code>ï¼ˆè¯¦ç»†è§ <a href="https://www.tensorflow.org/programmers_guide/datasets#creating_an_iterator" target="_blank" rel="noopener">Creating an iterator</a>ï¼‰ï¼š</p><ul><li><strong>one-shot</strong>ï¼š<strong>è¿™æ˜¯æœ¬æ–‡ç¨‹åºæ‰€ä½¿ç”¨çš„æ–¹æ³•</strong>ï¼Œä½¿ç”¨ <code>Dataset.make_one_shot_iterator()</code> æ¥åˆ›å»ºï¼Œä¸éœ€è¦åˆå§‹åŒ–ã€‚å®˜æ–¹æœ‰è¿™ä¹ˆä¸€å¥è¯ï¼š<em>Note: Currently, one-shot iterators are the only type that is easily usable with an Estimator.</em> ä¸è¿‡å‘¢ï¼Œæˆ‘ä¹Ÿå‘ç°å¤–å›½å‹äºº Peter Roelants å†™äº†ä¸ªä¾‹å­å°†ä¸‹é¢çš„ initializable Iterator å’Œ Estimator ä¸€èµ·ä½¿ç”¨ï¼Œè§ <a href="https://gist.github.com/peterroelants/9956ec93a07ca4e9ba5bc415b014bcca" target="_blank" rel="noopener">Example using TensorFlow Estimator, Experiment &amp; Dataset on MNIST data</a>ã€‚</li><li>initializableï¼šä½¿ç”¨ <code>Dataset.make_initializable_iterator()</code> åˆ›å»ºï¼Œéœ€è¦ä½¿ç”¨ <code>iterator.initializer</code> åˆå§‹åŒ–ã€‚è¯¥æ–¹å¼å¯ä»¥å…è®¸ä½ è‡ªå®šä¹‰æ•°æ®é›†ï¼Œä¾‹å¦‚ä½ çš„æ•°æ®é›†æ˜¯ <code>range(0, max_value)</code>ï¼Œè¿™é‡Œé¢ <code>max_value</code> æ˜¯ä¸€ä¸ª <code>Tensor</code>ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ä½ éœ€è¦èµ‹å€¼ã€‚</li><li>reinitializableï¼šè¿™æ˜¯ç§æ¯”è¾ƒå¤æ‚çš„æ–¹å¼ï¼Œç®€å•æ¥è¯´ä¹Ÿå°±æ˜¯ä½¿ä½ å¯ä»¥ä»å¤šä¸ªä¸åŒçš„ <code>Dataset</code> å¯¹è±¡è·å–æ•°æ®ï¼Œè¯¦ç»†å¯è§ <a href="https://www.tensorflow.org/programmers_guide/datasets#creating_an_iterator" target="_blank" rel="noopener">Creating an iterator</a>ã€‚</li><li>feedableï¼šåŒæ ·æ¯”è¾ƒå¤æ‚ï¼Œå½“ç„¶æ›´çµæ´»ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„ <code>Dataset</code> å¯¹è±¡å’Œ <code>tf.Session.run</code> ä½¿ç”¨ä¸åŒçš„ <code>Iterator</code>ï¼Œè¯¦ç»†å¯è§ <a href="https://www.tensorflow.org/programmers_guide/datasets#creating_an_iterator" target="_blank" rel="noopener">Creating an iterator</a>ã€‚</li></ul></li></ol><p>åœ¨ Estimator ä¸­ï¼Œæˆ‘ä»¬è¾“å…¥å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»è¿”å›ç‰¹å¾å’Œæ ‡ç­¾ï¼ˆæˆ–è€…åªæœ‰ç‰¹å¾ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¸Šé¢çš„å†…å®¹å†™åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ã€‚å› ä¸ºè®­ç»ƒè¾“å…¥å’ŒéªŒè¯è¾“å…¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥éœ€è¦ä¸¤ä¸ªè¾“å…¥å‡½æ•°ï¼š<code>train_input_fn</code> å’Œ <code>eval_input_fn</code>ã€‚ä¸ºäº†ä¿æŒæ–‡ç« ç®€æ´ï¼Œæˆ‘ä¸‹é¢åªåˆ—å‡º <code>train_input_fn</code>ï¼Œ<code>eval_input_fn</code> å’Œå…¶å¤§åŒå°å¼‚ã€‚</p><blockquote><p>æ­¤å¤„æˆ‘ä½¿ç”¨äº† <code>tf.data.TFRecordDataset</code>ï¼Œæ‰€ä»¥ä½ éœ€è¦å°†ä½ çš„æ•°æ®é›†å†™æˆ TFRecords æ ¼å¼ï¼Œæ¯”å¦‚ <code>train.tfrecords</code>ã€‚TFRecords æ ¼å¼æ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæ ·æœ¬ï¼ˆrecordï¼‰ï¼Œå…³äºå¦‚ä½•å°†æ•°æ®é›†å†™æˆ TFRecords æ ¼å¼ï¼Œæˆ‘å°†åœ¨å¦ä¸€ç¯‡åšæ–‡ä¸­è¯´æ˜ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_input_fn</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    è®­ç»ƒè¾“å…¥å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ª batch çš„ features å’Œ labels</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    train_dataset = tf.data.TFRecordDataset(FLAGS.train_dataset)</span><br><span class="line">    train_dataset = train_dataset.map(parser)</span><br><span class="line">    <span class="comment"># num_epochs ä¸ºæ•´ä¸ªæ•°æ®é›†çš„è¿­ä»£æ¬¡æ•°</span></span><br><span class="line">    train_dataset = train_dataset.repeat(FLAGS.num_epochs)</span><br><span class="line">    train_dataset = train_dataset.batch(FLAGS.batch_size)</span><br><span class="line">    train_iterator = train_dataset.make_one_shot_iterator()</span><br><span class="line"></span><br><span class="line">    features, labels = train_iterator.get_next()</span><br><span class="line">    <span class="keyword">return</span> features, labels</span><br></pre></td></tr></table></figure><p>è€Œå…¶ä¸­çš„ <code>map</code> å‡½æ•°çš„å‚æ•° <code>parser</code> ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°†å›¾ç‰‡å’Œæ ‡ç­¾ä» TFRecords ä¸­è§£æå‡ºæ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parser</span><span class="params">(record)</span>:</span></span><br><span class="line">    keys_to_features = &#123;</span><br><span class="line">        <span class="string">'image_raw'</span>: tf.FixedLenFeature((), tf.string),</span><br><span class="line">        <span class="string">'label'</span>: tf.FixedLenFeature((), tf.int64)</span><br><span class="line">    &#125;</span><br><span class="line">    parsed = tf.parse_single_example(record, keys_to_features)</span><br><span class="line">    image = tf.decode_raw(parsed[<span class="string">'image_raw'</span>], tf.uint8)</span><br><span class="line">    image = tf.cast(image, tf.float32)</span><br><span class="line">    label = tf.cast(parsed[<span class="string">'label'</span>], tf.int32)</span><br><span class="line">    <span class="keyword">return</span> image, label</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤ï¼Œå…³äºæ¨¡å‹çš„ input pipeline å°±å·®ä¸å¤šç»“æŸäº†ã€‚ä¸‹é¢å°±æ˜¯æ¨¡å‹çš„æ ¸å¿ƒéƒ¨åˆ†äº†ï¼šå®šä¹‰ä¸€ä¸ªæ¨¡å‹å‡½æ•° <code>model_fn</code>ã€‚</p><h2 id="å®šä¹‰æ¨¡å‹å‡½æ•°"><a href="#å®šä¹‰æ¨¡å‹å‡½æ•°" class="headerlink" title="å®šä¹‰æ¨¡å‹å‡½æ•°"></a>å®šä¹‰æ¨¡å‹å‡½æ•°</h2><p>ä¸Šé¢æ˜¯å®šä¹‰äº† input pipelineï¼Œé‚£ä¹ˆç°åœ¨è¯¥æ¥å®šä¹‰æ¨¡å‹æ¶æ„äº†ã€‚æ¨¡å‹å¤§è‡´æ¶æ„å°±æ˜¯ä¸Šé¢çš„æ¨¡å‹æ¶æ„å›¾ã€‚è¯¥å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªå®šä¹‰å¥½çš„ <code>tf.estimator.EstimatorSpec</code> å¯¹è±¡ï¼Œå¯¹äºä¸åŒçš„ <code>mode</code>ï¼Œæ‰€å¿…é¡»æä¾›çš„å‚æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼š</p><ul><li>è®­ç»ƒæ¨¡å¼ï¼Œå³ <code>mode == tf.estimator.ModeKeys.TRAIN</code>ï¼Œå¿…é¡»æä¾›çš„æ˜¯ <code>loss</code> å’Œ <code>train_op</code>ã€‚</li><li>éªŒè¯æ¨¡å¼ï¼Œå³ <code>mode == tf.estimator.ModeKeys.EVAL</code>ï¼Œå¿…é¡»æä¾›çš„æ˜¯ <code>loss</code>ã€‚</li><li>é¢„æµ‹æ¨¡å¼ï¼Œå³ <code>mode == tf.estimator.ModeKeys.PREDICT</code>ï¼Œå¿…é¡»æä¾›çš„æ˜¯ <code>predicitions</code>ã€‚</li></ul><blockquote><p>ä¸ºä¿æŒæ–‡ç« ç®€æ´ï¼Œæˆ‘çœç•¥äº†ä¸€äº›é‡å¤æ€§ä»£ç ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cifar_model_fn</span><span class="params">(features, labels, mode)</span>:</span></span><br><span class="line">    <span class="string">"""Model function for cifar10 model"""</span></span><br><span class="line">    <span class="comment"># è¾“å…¥å±‚</span></span><br><span class="line">    x = tf.reshape(features, [<span class="number">-1</span>, <span class="number">32</span>, <span class="number">32</span>, <span class="number">3</span>])</span><br><span class="line">    <span class="comment"># ç¬¬ä¸€å±‚å·ç§¯å±‚</span></span><br><span class="line">    x = tf.layers.conv2d(inputs=x, filters=<span class="number">64</span>, kernel_size=[</span><br><span class="line">                             <span class="number">3</span>, <span class="number">3</span>], padding=<span class="string">'same'</span>, activation=tf.nn.relu, name=<span class="string">'CONV1'</span>)</span><br><span class="line">    x = tf.layers.batch_normalization(</span><br><span class="line">        inputs=x, training=mode == tf.estimator.ModeKeys.TRAIN, name=<span class="string">'BN1'</span>)</span><br><span class="line">    <span class="comment"># ç¬¬ä¸€å±‚æ± åŒ–å±‚</span></span><br><span class="line">    x = tf.layers.max_pooling2d(inputs=x, pool_size=[</span><br><span class="line">                                    <span class="number">3</span>, <span class="number">3</span>], strides=<span class="number">2</span>, padding=<span class="string">'same'</span>, name=<span class="string">'POOL1'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä½ å¯ä»¥æ·»åŠ æ›´å¤šçš„å·ç§¯å±‚å’Œæ± åŒ–å±‚ â€¦â€¦</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…¨è¿æ¥å±‚</span></span><br><span class="line">    x = tf.reshape(x, [<span class="number">-1</span>, <span class="number">8</span> * <span class="number">8</span> * <span class="number">128</span>])</span><br><span class="line">    x = tf.layers.dense(inputs=x, units=<span class="number">512</span>, activation=tf.nn.relu, name=<span class="string">'DENSE1'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä½ å¯ä»¥æ·»åŠ æ›´å¤šçš„å…¨è¿æ¥å±‚ â€¦â€¦</span></span><br><span class="line"></span><br><span class="line">    logits = tf.layers.dense(inputs=x, units=<span class="number">10</span>, name=<span class="string">'FINAL'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¢„æµ‹</span></span><br><span class="line">    predictions = &#123;</span><br><span class="line">        <span class="string">'classes'</span>: tf.argmax(input=logits, axis=<span class="number">1</span>, name=<span class="string">'classes'</span>),</span><br><span class="line">        <span class="string">'probabilities'</span>: tf.nn.softmax(logits, name=<span class="string">'softmax_tensor'</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> mode == tf.estimator.ModeKeys.PREDICT:</span><br><span class="line">        <span class="keyword">return</span> tf.estimator.EstimatorSpec(mode=mode, predictions=predictions)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—æŸå¤±ï¼ˆå¯¹äº TRAIN å’Œ EVAL æ¨¡å¼ï¼‰</span></span><br><span class="line">    onehot_labels = tf.one_hot(indices=tf.cast(labels, tf.int32), depth=<span class="number">10</span>)</span><br><span class="line">    loss = tf.losses.softmax_cross_entropy(onehot_labels, logits, scope=<span class="string">'LOSS'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è¯„ä¼°æ–¹æ³•</span></span><br><span class="line">    accuracy, update_op = tf.metrics.accuracy(</span><br><span class="line">        labels=labels, predictions=predictions[<span class="string">'classes'</span>], name=<span class="string">'accuracy'</span>)</span><br><span class="line">    batch_acc = tf.reduce_mean(tf.cast(</span><br><span class="line">        tf.equal(tf.cast(labels, tf.int64), predictions[<span class="string">'classes'</span>]), tf.float32))</span><br><span class="line">    tf.summary.scalar(<span class="string">'batch_acc'</span>, batch_acc)</span><br><span class="line">    tf.summary.scalar(<span class="string">'streaming_acc'</span>, update_op)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®­ç»ƒé…ç½®ï¼ˆå¯¹äº TRAIN æ¨¡å¼ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> mode == tf.estimator.ModeKeys.TRAIN:</span><br><span class="line">        update_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS)</span><br><span class="line">        optimizer = tf.train.RMSPropOptimizer(learning_rate=FLAGS.learning_rate)</span><br><span class="line">        <span class="keyword">with</span> tf.control_dependencies(update_ops):</span><br><span class="line">            train_op = optimizer.minimize(</span><br><span class="line">                loss=loss, global_step=tf.train.get_global_step())</span><br><span class="line">        <span class="keyword">return</span> tf.estimator.EstimatorSpec(mode=mode, loss=loss, train_op=train_op)</span><br><span class="line"></span><br><span class="line">    eval_metric_ops = &#123;</span><br><span class="line">        <span class="string">'accuracy'</span>: (accuracy, update_op)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tf.estimator.EstimatorSpec(mode=mode, loss=loss, eval_metric_ops=eval_metric_ops)</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œinput pipeline å’Œæ¨¡å‹éƒ½å·²ç»å®šä¹‰å¥½äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å®é™…çš„ run äº†ã€‚</p><h2 id="Run"><a href="#Run" class="headerlink" title="Run"></a>Run</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª <code>tf.estimator.Estimator</code> å¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cifar10_classifier = tf.estimator.Estimator(</span><br><span class="line">        model_fn=cifar_model_fn, model_dir=FLAGS.model_dir)</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>model_dir</code> æ˜¯ç”¨äºå­˜æ”¾æ¨¡å‹æ–‡ä»¶å’Œ TensorBoard æ–‡ä»¶çš„ç›®å½•ã€‚</p><p>ç„¶åå¼€å§‹è®­ç»ƒå’ŒéªŒè¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cifar10_classifier.train(input_fn=train_input_fn)</span><br><span class="line">eval_results = cifar10_classifier.evaluate(input_fn=eval_input_fn)</span><br></pre></td></tr></table></figure><p>ç¨‹åºç»“æŸåä½ ä¾¿å¯ä»¥åœ¨ä½ çš„ <code>model_dir</code> é‡Œçœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ–‡ä»¶ç»“æ„ï¼š</p><p><img src="https://i.imgur.com/ZIO86mY.png" alt="model_dir"><br><em><code>model_dir</code> ä¸­çš„æ–‡ä»¶ç»“æ„</em></p><p>ç„¶åä½ å¯ä»¥ä½¿ç”¨ <code>tensorboard --logdir=/your/model/dir</code>ï¼ˆLinux ä¸­ä½ å¯èƒ½éœ€è¦ä½¿ç”¨ <code>python -m tensorboard.main --logdir=/your/model/dir</code>ï¼‰æ¥åœ¨ TensorBoard ä¸­æŸ¥çœ‹è®­ç»ƒä¿¡æ¯ï¼Œé»˜è®¤åªæœ‰ <code>SCALARS</code> å’Œ <code>GRAPHS</code> é¢æ¿æ˜¯æœ‰æ•ˆçš„ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±ä½¿ç”¨ <code>tf.summary</code> æ¥æ‰‹åŠ¨æ·»åŠ  summary ä¿¡æ¯ã€‚</p><p><img src="https://i.imgur.com/mjtQ8Da.png" alt="scalars"><br><em>SCALARS é¢æ¿</em></p><p><img src="https://i.imgur.com/p9aHnKU.png" alt="graphs"><br><em>GRAPHS é¢æ¿</em></p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨ Datasets å’Œ Estimators æ¥è®­ç»ƒæ¨¡å‹å¤§è‡´å°±æ˜¯è¿™ä¹ˆå‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li>å®šä¹‰è¾“å…¥å‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­å¯¹ä½ çš„æ•°æ®é›†åšä¸€äº›å¿…è¦çš„é¢„å¤„ç†ï¼Œè¿”å› features å’Œ labelsã€‚</li><li>å®šä¹‰æ¨¡å‹å‡½æ•°ï¼Œè¿”å› <code>tf.estimator.EstimatorSpec</code> å¯¹è±¡ã€‚</li><li>ä½¿ç”¨æ¨¡å‹å‡½æ•°åˆ›å»º <code>tf.estimator.Estimator</code> å¯¹è±¡ã€‚</li><li>ä½¿ç”¨åˆ›å»ºå¥½çš„å¯¹è±¡ train and evaluateã€‚</li></ol><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><h3 id="å…³äº-num-epochs"><a href="#å…³äº-num-epochs" class="headerlink" title="å…³äº num_epochs"></a>å…³äº <code>num_epochs</code></h3><p>å¦‚æœä½ è®¾ç½® <code>num_epochs</code> ä¸ºæ¯”å¦‚è¯´ 30ï¼Œç„¶è€Œä½ åœ¨è®­ç»ƒçš„æ—¶å€™çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INFO:tensorflow:global_step/sec: 0.476364</span><br><span class="line">INFO:tensorflow:loss = 0.137512, step = 14901 (209.924 sec)</span><br><span class="line">INFO:tensorflow:global_step/sec: 0.477139</span><br><span class="line">INFO:tensorflow:loss = 0.0203241, step = 15001 (209.583 sec)</span><br><span class="line">INFO:tensorflow:global_step/sec: 0.477511</span><br><span class="line">INFO:tensorflow:loss = 0.132834, step = 15101 (209.419 sec)</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥çœ‹åˆ° <code>step</code> å·²ç»ä¸Šä¸‡äº†ï¼Œè¿™æ˜¯å› ä¸ºè¿™é‡Œçš„ <code>step</code> æŒ‡çš„æ˜¯ä¸€ä¸ª batch çš„è®­ç»ƒè¿­ä»£ï¼Œè€Œ <code>num_epochs</code> è®¾ä¸º 30 æ„å‘³ç€ä½ è¦æŠŠæ•´ä¸ªè®­ç»ƒé›†éå† 30 æ¬¡ï¼ˆä¹Ÿæ˜¯æˆ‘ä»¬é€šå¸¸çš„åšæ³•ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡å¦‚ä½ æœ‰ 50000 ä¸ªæ ·æœ¬ï¼Œbatch å¤§å°ä¸º 50ï¼Œé‚£ä¹ˆä½ çš„æ•°æ®é›†å°†è¢«åˆ‡åˆ†ä¸º 1000 ä¸ª batchï¼Œä¹Ÿå°±æ˜¯éå†ä¸€éæ•°æ®é›†éœ€è¦ 1000 stepï¼Œæ‰€ä»¥è¯´ <code>num_epochs</code> ä¸º 30 æ—¶ï¼Œä½ çš„ç¨‹åºéœ€è¦åˆ° <code>step=30000</code> æ‰ä¼šè®­ç»ƒç»“æŸã€‚æ‰€ä»¥åˆ‡è®° <code>num_epochs</code> è¡¨ç¤ºçš„æ˜¯æ•´ä¸ªè®­ç»ƒé›†çš„è¿­ä»£æ¬¡æ•°ã€‚</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol><li><a href="https://developers.googleblog.com/2017/09/introducing-tensorflow-datasets.html" target="_blank" rel="noopener">Introduction to TensorFlow Datasets and Estimators</a></li><li><a href="https://www.tensorflow.org/programmers_guide/datasets" target="_blank" rel="noopener">Importing Data | TensorFlow</a></li><li><a href="https://www.tensorflow.org/extend/estimators" target="_blank" rel="noopener">Creating Estimators in tf.estimator | TensorFlow</a></li><li><a href="https://gist.github.com/peterroelants/9956ec93a07ca4e9ba5bc415b014bcca" target="_blank" rel="noopener">Example using TensorFlow Estimator, Experiment &amp; Dataset on MNIST data</a></li><li><a href="https://medium.com/onfido-tech/higher-level-apis-in-tensorflow-67bfb602e6c0" target="_blank" rel="noopener">Higher-Level APIs in TensorFlow â€“ Onfido Tech â€“ Medium</a></li></ol><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Google åœ¨ 2017 å¹´ 9 æœˆ 12 å·çš„åšæ–‡ &lt;a href=&quot;https://developers.googleblog.com/2017/09/introducing-tensorflow-datasets.html&quot; target=&quot;_blank&quot; rel=
      
    
    </summary>
    
    
      <category term="TensorFlow" scheme="http://yoursite.com/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>Windows 10 èµ„æºç®¡ç†å™¨é»‘è‰²é£æ ¼</title>
    <link href="http://yoursite.com/2017/10/26/windows10-dark-theme/"/>
    <id>http://yoursite.com/2017/10/26/windows10-dark-theme/</id>
    <published>2017-10-26T14:47:00.000Z</published>
    <updated>2017-12-24T12:53:19.643Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ¥æ°´ä¸€ç¯‡ï¼Œè¯´è¯´æˆ‘å‰å‡ å¤©æŸå¤©ä¸Šåˆåˆæ­¥å®ç°äº†æˆ‘ä¸€ç›´æƒ³å¼„çš„ä¸œè¥¿ï¼šWindows 10 èµ„æºç®¡ç†å™¨é»‘è‰²é£æ ¼ï¼Œç”¨äº†å‡ å¤©ï¼Œæ•´ä½“ä¸Šæ„Ÿè§‰è¿˜ä¸é”™ï¼Œå½“ç„¶ä¹Ÿæœ‰ç‚¹å°ç‘•ç–µï¼Œæˆ‘ä¼šåœ¨åé¢è¯´ã€‚</p><blockquote><p>æ‰€æœ‰å›¾å¯å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æŸ¥çœ‹å¤§å›¾ã€‚</p></blockquote><hr><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>è¿™é‡Œæˆ‘ä¼šåˆ—å‡ºå¯¹æœ¬æ–‡çš„æ›´æ–°ã€‚</p><ul><li>2017 å¹´ 11 æœˆ 2 æ—¥ï¼šå¢åŠ é—®é¢˜ #5ã€‚</li></ul><hr><h2 id="å…ˆç¹ä¸ºå¿«"><a href="#å…ˆç¹ä¸ºå¿«" class="headerlink" title="å…ˆç¹ä¸ºå¿«"></a>å…ˆç¹ä¸ºå¿«</h2><p>å®ç°åçš„ç•Œé¢æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="https://i.imgur.com/PmKOXrF.png" alt="ä¸»ç•Œé¢"><br><em>ä¸»ç•Œé¢</em></p><p><img src="https://i.imgur.com/9X8085S.png" alt=""></p><font color="gray">*æ–‡ä»¶åˆ—è¡¨*</font><p><img src="https://i.imgur.com/tPhk6R6.png" alt=""></p><font color="gray">*é€‰ä¸­çŠ¶æ€*</font><p><img src="https://i.imgur.com/PGOZFUM.png" alt=""></p><font color="gray">*ä»»åŠ¡ç®¡ç†å™¨*</font><p><img src="https://i.imgur.com/caTobn6.png" alt=""></p><font color="gray">*å¤åˆ¶*</font><p><img src="https://i.imgur.com/AmonnUg.png" alt=""></p><font color="gray">*è®°äº‹æœ¬*</font><p><img src="https://i.imgur.com/Zr0EKDg.png" alt=""></p><font color="gray">*Word*</font><p><strong>WARNING! æ“ä½œé£é™©å¾ˆå¤§ï¼Œå­˜åœ¨ä¸ç¨³å®šå› ç´ ï¼Œè¯·ä¸‰æ€åè¡Œï¼Œå‡ºäº†ä»€ä¹ˆå¹ºè›¾å­ä¸è¦èµ–æˆ‘æ²¡æœ‰äº‹å…ˆæé†’å“¦ï¼</strong></p><p>å¥½äº†ï¼Œçœ‹åˆ°è¿™é‡Œä½ è¿˜æƒ³å¼„çš„è¯ï¼Œé‚£å°±æ¥ç€å¾€ä¸‹çœ‹å§ã€‚</p><hr><h2 id="å®‰è£…å¼€å§‹å‰"><a href="#å®‰è£…å¼€å§‹å‰" class="headerlink" title="å®‰è£…å¼€å§‹å‰"></a>å®‰è£…å¼€å§‹å‰</h2><p>åœ¨å®‰è£…å¼€å§‹å‰ï¼Œæœ‰å‡ ä»¶éœ€è¦ä½ ç¡®å®šçš„äº‹æƒ…ï¼š</p><ul><li><p>ä½ çš„ Windows ç‰ˆæœ¬ã€‚ç›®å‰æ”¯æŒçš„ Windows ç‰ˆæœ¬ä¸º 1607 (Build 14393) - Anniversary å‘¨å¹´æ›´æ–°å’Œ 1703 (Build 15063) - Creators åˆ›æ„è€…æ›´æ–°ã€‚ä½ å¯ä»¥åœ¨ <code>è®¾ç½®</code> --&gt; <code>ç³»ç»Ÿ</code> --&gt; <code>å…³äº</code> ä¸­æŸ¥çœ‹ä½ çš„ç³»ç»Ÿç‰ˆæœ¬ã€‚<br><img src="https://i.imgur.com/sFihaa1.png" alt=""></p><font color="gray">*æˆ‘çš„ç‰ˆæœ¬å·*</font></li><li><p>è®¾ç½®ç³»ç»Ÿè¿˜åŸç‚¹</p></li><li>å¦‚æœä½ å®‰è£…è¿‡å…¶ä»–è¡¥ä¸ï¼ˆUxStyleï¼ŒUltraUXThemePatcherï¼‰ï¼Œé‚£ä¹ˆè¯·å¸è½½æ‰</li></ul><hr><h2 id="ä¸‰ä¸ªå·¥å…·"><a href="#ä¸‰ä¸ªå·¥å…·" class="headerlink" title="ä¸‰ä¸ªå·¥å…·"></a>ä¸‰ä¸ªå·¥å…·</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸‹è½½å°†ä¼šç”¨åˆ°çš„å·¥å…·ï¼š</p><ul><li><a href="http://www.msfn.org/board/topic/170375-oldnewexplorer-118/" target="_blank" rel="noopener">OldNewExplorer.rar</a></li><li><a href="https://scope10.deviantart.com/art/Penumbra-10-Windows-10-visual-style-568740374" target="_blank" rel="noopener">penumbra_10___windows_10_visual_style_by_scope10-d9em2vq.zip</a></li><li><a href="https://www.syssel.net/hoefs/software_uxtheme.php?lang=en" target="_blank" rel="noopener">UltraUXThemePatcher_3.3.1.exe</a></li></ul><p><img src="https://i.imgur.com/3NkWQ8q.png" alt=""></p><font color="gray">*ä¸‰ä¸ªå·¥å…·*</font><p>ä¸‹è½½å®Œæˆè§£å‹åç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">|   UltraUXThemePatcher_3.3.1.exe</span><br><span class="line">|</span><br><span class="line">+---OldNewExplorer</span><br><span class="line">|       OldNewExplorer32.dll</span><br><span class="line">|       OldNewExplorer64.dll</span><br><span class="line">|       OldNewExplorerCfg.exe</span><br><span class="line">|       readme.txt</span><br><span class="line">|</span><br><span class="line">\---penumbra_10___windows_10_visual_style_by_scope10-d9em2vq</span><br><span class="line">    |   Preview Image.png</span><br><span class="line">    |</span><br><span class="line">    +---Automated Theme Reset Script</span><br><span class="line">    |       Instructions.txt</span><br><span class="line">    |       Reapply visual style (Penumbra 10).xml</span><br><span class="line">    |       Reapply visual style script.ba_</span><br><span class="line">    |       ThemeSwitcher.ex_</span><br><span class="line">    |</span><br><span class="line">    +---Font</span><br><span class="line">    |       LICENSE.txt</span><br><span class="line">    |       OpenSans-Bold.ttf</span><br><span class="line">    |       OpenSans-BoldItalic.ttf</span><br><span class="line">    |       OpenSans-ExtraBold.ttf</span><br><span class="line">    |       OpenSans-ExtraBoldItalic.ttf</span><br><span class="line">    |       OpenSans-Italic.ttf</span><br><span class="line">    |       OpenSans-Light.ttf</span><br><span class="line">    |       OpenSans-LightItalic.ttf</span><br><span class="line">    |       OpenSans-Regular.ttf</span><br><span class="line">    |       OpenSans-Semibold.ttf</span><br><span class="line">    |       OpenSans-SemiboldItalic.ttf</span><br><span class="line">    |</span><br><span class="line">    \---Visual style</span><br><span class="line">        |   Installation instructions + info.txt</span><br><span class="line">        |</span><br><span class="line">        +---Build 14393 - Version 1607 (Anniversary Update)</span><br><span class="line">        |   |   Penumbra 10.theme</span><br><span class="line">        |   |   Penumbra 10s.theme</span><br><span class="line">        |   |   Penumbra 10w.theme</span><br><span class="line">        |   |   Penumbra 10ws.theme</span><br><span class="line">        |   |</span><br><span class="line">        |   \---Penumbra 10</span><br><span class="line">        |       |   Penumbra 10.msstyles</span><br><span class="line">        |       |   Penumbra 10s.msstyles</span><br><span class="line">        |       |   Penumbra 10w.msstyles</span><br><span class="line">        |       |   Penumbra 10ws.msstyles</span><br><span class="line">        |       |</span><br><span class="line">        |       +---Shell</span><br><span class="line">        |       |   \---NormalColor</span><br><span class="line">        |       |       |   1.txt</span><br><span class="line">        |       |       |   shellstyle.dll</span><br><span class="line">        |       |       |   shellstyle_original.dll</span><br><span class="line">        |       |       |</span><br><span class="line">        |       |       \---en-US</span><br><span class="line">        |       |               shellstyle.dll.mui</span><br><span class="line">        |       |</span><br><span class="line">        |       \---Wallpaper</span><br><span class="line">        |               1.png</span><br><span class="line">        |</span><br><span class="line">        \---Build 15063 - Version 1703 (Creators Update)</span><br><span class="line">            |   Penumbra 10.theme</span><br><span class="line">            |   Penumbra 10s.theme</span><br><span class="line">            |   Penumbra 10w.theme</span><br><span class="line">            |   Penumbra 10ws.theme</span><br><span class="line">            |</span><br><span class="line">            \---Penumbra 10</span><br><span class="line">                |   Penumbra 10.msstyles</span><br><span class="line">                |   Penumbra 10s.msstyles</span><br><span class="line">                |   Penumbra 10w.msstyles</span><br><span class="line">                |   Penumbra 10ws.msstyles</span><br><span class="line">                |</span><br><span class="line">                +---Shell</span><br><span class="line">                |   \---NormalColor</span><br><span class="line">                |       |   shellstyle.dll</span><br><span class="line">                |       |</span><br><span class="line">                |       \---en-US</span><br><span class="line">                |               shellstyle.dll.mui</span><br><span class="line">                |</span><br><span class="line">                \---Wallpaper</span><br><span class="line">                        1.png</span><br></pre></td></tr></table></figure><hr><h2 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h2><p>æœ€å¥½æŠŠè¿™ä¸‰ä¸ªå·¥å…·è§£å‹åæ”¾åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œæ”¾åœ¨ C ç›˜ï¼Œç„¶åæˆ‘ä»¬å°±å¼€å§‹æ­£å¼çš„å®‰è£…å§ :-)</p><h3 id="1-UltraUXThemePatcher"><a href="#1-UltraUXThemePatcher" class="headerlink" title="#1 UltraUXThemePatcher"></a>#1 UltraUXThemePatcher</h3><p>é¦–å…ˆæ˜¯è¿è¡Œ <code>UltraUXThemePatcher_3.3.1.exe</code>ï¼ŒæŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥çš„å®‰è£…å°±è¡Œï¼Œåœ¨è¿›è¡Œåˆ°æŸä¸€æ­¥çš„æ—¶å€™ä¼šæ˜¾ç¤ºä½ çš„ç³»ç»Ÿä¿¡æ¯ï¼Œçœ‹ä¸€çœ‹æ˜¯å¦æ­£ç¡®ï¼Œæ­£ç¡®çš„è¯å°±ä¸‹ä¸€æ­¥å¾€ä¸‹èµ°ï¼Œå®Œæˆåéœ€è¦é‡å¯ç”µè„‘ã€‚</p><h3 id="2-å¯é€‰-OldNewExplorer"><a href="#2-å¯é€‰-OldNewExplorer" class="headerlink" title="#2[å¯é€‰] OldNewExplorer"></a>#2[å¯é€‰] OldNewExplorer</h3><blockquote><p>ä½ å¯ä»¥è‡ªå·±å°è¯•åˆ°åº•å‹¾é€‰å“ªäº›ï¼Œä»¥æ‰¾åˆ°ä½ æœ€å–œæ¬¢çš„é£æ ¼</p></blockquote><p>è¿™ä¸€æ­¥å…¶å®æ˜¯ç¦æ‰åŠŸèƒ½åŒºã€‚è¿è¡Œ <code>OldNewExplorer</code> ä¸­çš„ <code>OldNewExplorerCfg.exe</code>ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å›¾ç¤ºé€‰æ‹©ï¼šç„¶åç‚¹å‡» <code>Install</code> ã€‚</p><p><img src="https://i.imgur.com/oWRdFJF.png" alt=""></p><font color="gray">*OldNewExplorer*</font><p><strong>ä½†æ˜¯ä½ å¦‚æœå–æ¶ˆè¿™äº›æ›´æ”¹çš„è¯</strong>ï¼Œé‚£å°±ç›´æ¥ç‚¹å‡» <code>Uninstall</code>ï¼Œç„¶å<strong>ä¸å‹¾é€‰</strong>æ‰€æœ‰é¡¹ï¼Œç‚¹å‡» <code>Install</code> ã€‚</p><h3 id="3-å¤åˆ¶æ–‡ä»¶"><a href="#3-å¤åˆ¶æ–‡ä»¶" class="headerlink" title="#3 å¤åˆ¶æ–‡ä»¶"></a>#3 å¤åˆ¶æ–‡ä»¶</h3><ul><li>å¦‚æœä½ çš„ Windows ç‰ˆæœ¬æ˜¯ <strong>1607</strong>ï¼Œé‚£ä¹ˆå¤åˆ¶ <code>penumbra_10___windows_10_visual_style_by_scope10-d9em2vq\Visual style\Build 14393 - Version 1607 (Anniversary Update)</code> åˆ° <code>C:\Windows\Resources\Themes</code></li><li>å¦‚æœä½ çš„ Windows ç‰ˆæœ¬æ˜¯ <strong>1703</strong>ï¼Œé‚£ä¹ˆå¤åˆ¶ <code>penumbra_10___windows_10_visual_style_by_scope10-d9em2vq\Visual style\Build 15063 - Version 1703 (Creators Update)</code> åˆ° <code>C:\Windows\Resources\Themes</code></li></ul><h3 id="4-è®¾ç½®ä¸»é¢˜"><a href="#4-è®¾ç½®ä¸»é¢˜" class="headerlink" title="#4 è®¾ç½®ä¸»é¢˜"></a>#4 è®¾ç½®ä¸»é¢˜</h3><p>å¥½äº†ï¼Œä½ ç°åœ¨å¯ä»¥è®¾ç½®æ–°çš„ä¸»é¢˜äº†ï¼Œå°±åƒä½ å¾€å¸¸æ”¹ä¸»é¢˜ä¸€æ ·ï¼Œåœ¨ <code>ä¸ªæ€§åŒ–</code> æˆ–è€… <code>è®¾ç½®</code> ä¸­æ”¹éƒ½è¡Œã€‚</p><p><img src="https://i.imgur.com/t4aOUHw.png" alt=""></p><font color="gray">*é€‰æ‹©ä¸»é¢˜*</font><h3 id="5-åˆ«æ€¥ï¼Œè¿˜æœ‰ä¸€ç‚¹"><a href="#5-åˆ«æ€¥ï¼Œè¿˜æœ‰ä¸€ç‚¹" class="headerlink" title="#5 åˆ«æ€¥ï¼Œè¿˜æœ‰ä¸€ç‚¹"></a>#5 åˆ«æ€¥ï¼Œè¿˜æœ‰ä¸€ç‚¹</h3><p>å…¶å®åˆ°ä¸Šé¢å·²ç»å®Œäº†ï¼Œä½†æ˜¯å½“ä½ é”å±æˆ–è€…é‡å¯ç”µè„‘åï¼Œä½ å‘ç°ä¸»é¢˜åˆå˜å›æ¥äº†ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªè®¡åˆ’ä»»åŠ¡è‡ªåŠ¨æ‰§è¡Œã€‚</p><ul><li>æ‰¾åˆ° <code>penumbra_10___windows_10_visual_style_by_scope10-d9em2vq\Automated Theme Reset Script</code> ï¼Œå°† <code>Reapply visual style script.ba_</code> å’Œ <code>ThemeSwitcher.ex_</code> åˆ†åˆ«æ”¹ä¸º <code>Reapply visual style script.bat</code> å’Œ <code>ThemeSwitcher.exe</code> ã€‚</li><li>å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¤åˆ¶åˆ° <code>C:\Windows\Resources\Themes</code> ã€‚</li><li><code>win+R</code> è¿è¡Œ <code>Taskschd.msc</code> è°ƒå‡ºä»»åŠ¡è®¡åˆ’ç¨‹åºï¼Œç‚¹å‡» <code>æ“ä½œ</code> --&gt; <code>å¯¼å…¥ä»»åŠ¡</code> ï¼Œé€‰æ‹© <code>penumbra_10___windows_10_visual_style_by_scope10-d9em2vq\Automated Theme Reset Script\Reapply visual style (Penumbra 10).xml</code> ï¼Œç„¶åç¡®å®šã€‚</li></ul><p>å¥½äº†ï¼Œè¿™å°±å…¨éƒ¨å®Œæˆäº†ã€‚</p><hr><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å…¶å®è¿˜æ˜¯æœ‰ç‚¹ä¸å®Œç¾çš„ï¼Œä½†æ˜¯åœ¨æˆ‘çš„å¯æ¥å—èŒƒå›´ä¹‹å†…ã€‚æš‚ä¸”å°±è¿™ä¹ˆå¤šï¼Œæƒ³åˆ°äº†æˆ–è€…ä»¥åé‡åˆ°äº†æˆ‘å†åŠ ã€‚</p><h3 id="1-å¼€å§‹-å›¾æ ‡"><a href="#1-å¼€å§‹-å›¾æ ‡" class="headerlink" title="#1  å¼€å§‹ å›¾æ ‡"></a>#1  <code>å¼€å§‹</code> å›¾æ ‡</h3><p><code>å¼€å§‹</code> å›¾æ ‡å˜æˆäº†ç±»ä¼¼ Cortana çš„åœ†å½¢ï¼Œä½ å¯ä»¥åœ¨ä¸Šé¢çš„ <code>ä¸»ç•Œé¢</code> å›¾çš„å·¦ä¸‹è§’çœ‹åˆ°ã€Œä¸€åŒçœ¼ç›ã€ï¼Œå…¶å®ç¬¬ä¸€ä¸ªæ˜¯å¼€å§‹èœå•ï¼Œç¬¬äºŒä¸ªæ˜¯ Cortana ã€‚</p><h3 id="2-Chrome-åœ°å€æ "><a href="#2-Chrome-åœ°å€æ " class="headerlink" title="#2 Chrome åœ°å€æ "></a>#2 Chrome åœ°å€æ </h3><p>Chrome çš„åœ°å€æ å˜æˆäº†é»‘è‰²èƒŒæ™¯ã€‚</p><p><img src="https://i.imgur.com/4klhOks.png" alt=""></p><h3 id="3-å³é”®å­—ä½“"><a href="#3-å³é”®å­—ä½“" class="headerlink" title="#3 å³é”®å­—ä½“"></a>#3 å³é”®å­—ä½“</h3><p>å³é”®èœå•ä¸­æ–‡å˜æˆäº†å®‹ä½“å­—ä½“ï¼Œæˆ‘æ‰¾äº†æ‰¾æ–¹æ³•è²Œä¼¼å¯ä»¥æ”¹ï¼Œä¸è¿‡æˆ‘æ²¡è¯•ï¼Œæœ‰è°è¯•äº†æˆåŠŸäº†çš„è¯å¯ä»¥åœ¨è¯„è®ºåŒºè¯´ä¸‹æˆ–è€…ç§ä¿¡æˆ‘ï¼Œè°¢è°¢ :-)</p><h3 id="4-Word-èƒŒæ™¯"><a href="#4-Word-èƒŒæ™¯" class="headerlink" title="#4 Word èƒŒæ™¯"></a>#4 Word èƒŒæ™¯</h3><p>Word ä¸­èƒŒæ™¯ä¼šæ˜¾ç¤ºä¸ºé»‘è‰²ï¼Œå…¶ä»–åŠå…¬è½¯ä»¶å¦‚ Excelã€PPTéƒ½ä¼šæœ‰ä¸åŒç¨‹åº¦å½±å“ã€‚</p><h3 id="5-PotPlayer-å³é”®èœå•"><a href="#5-PotPlayer-å³é”®èœå•" class="headerlink" title="#5 PotPlayer å³é”®èœå•"></a>#5 PotPlayer å³é”®èœå•</h3><p>PotPlayer å³é”®èœå•å˜ä¸ºå…¨ç°ï¼Œçœ‹ä¸æ¸…å­—äº†ã€‚</p><p><img src="https://i.imgur.com/wjPoCg9.png" alt="potplayer"></p><hr><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://scope10.deviantart.com/art/Penumbra-10-Windows-10-visual-style-568740374" target="_blank" rel="noopener">Penumbra 10 - Windows 10 visual style</a></li><li><a href="https://www.youtube.com/watch?v=7GgIjEDYe6g" target="_blank" rel="noopener">How to Install a Dark Theme for File Explorer!</a></li></ul><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©æ¥æ°´ä¸€ç¯‡ï¼Œè¯´è¯´æˆ‘å‰å‡ å¤©æŸå¤©ä¸Šåˆåˆæ­¥å®ç°äº†æˆ‘ä¸€ç›´æƒ³å¼„çš„ä¸œè¥¿ï¼šWindows 10 èµ„æºç®¡ç†å™¨é»‘è‰²é£æ ¼ï¼Œç”¨äº†å‡ å¤©ï¼Œæ•´ä½“ä¸Šæ„Ÿè§‰è¿˜ä¸é”™ï¼Œå½“ç„¶ä¹Ÿæœ‰ç‚¹å°ç‘•ç–µï¼Œæˆ‘ä¼šåœ¨åé¢è¯´ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰€æœ‰å›¾å¯å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æŸ¥çœ‹å¤§å›¾ã€‚&lt;/p&gt;
&lt;/blockquot
      
    
    </summary>
    
    
      <category term="Windows" scheme="http://yoursite.com/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•æ¦‚è¿°</title>
    <link href="http://yoursite.com/2017/10/08/gradient-descent-methods/"/>
    <id>http://yoursite.com/2017/10/08/gradient-descent-methods/</id>
    <published>2017-10-08T13:41:00.000Z</published>
    <updated>2017-12-23T04:54:22.559Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸæ–‡ä½œè€…ç®€ä»‹ï¼š<a href="http://ruder.io/" target="_blank" rel="noopener">Sebastian Ruder</a> æ˜¯æˆ‘éå¸¸å–œæ¬¢çš„ä¸€ä¸ªåšå®¢ä½œè€…ï¼Œæ˜¯ NLP æ–¹å‘çš„åšå£«ç”Ÿï¼Œç›®å‰ä¾›èŒäºä¸€å®¶åš NLP ç›¸å…³æœåŠ¡çš„çˆ±å°”å…°å…¬å¸ <a href="http://aylien.com/" target="_blank" rel="noopener">AYLIEN</a>ï¼Œåšå®¢ä¸»è¦æ˜¯å†™æœºå™¨å­¦ä¹ ã€NLP å’Œæ·±åº¦å­¦ä¹ ç›¸å…³çš„æ–‡ç« ã€‚</p><ul><li>æœ¬æ–‡åŸæ–‡æ˜¯ <a href="http://ruder.io/optimizing-gradient-descent/index.html" target="_blank" rel="noopener">An overview of gradient descent optimization algorithms</a>ï¼ŒåŒæ—¶ä½œè€…ä¹Ÿåœ¨ arXiv ä¸Šå‘äº†ä¸€ç¯‡åŒæ ·å†…å®¹çš„ <a href="https://arxiv.org/abs/1609.04747" target="_blank" rel="noopener">è®ºæ–‡</a>ã€‚</li><li>æœ¬æ–‡ç»“åˆäº†ä¸¤è€…æ¥ç¿»è¯‘ï¼Œä½†æ˜¯é˜…è¯»åŸæ–‡æˆ‘ä¸ªäººå»ºè®®è¯»åšå®¢ä¸­çš„ï¼Œæ„Ÿè§‰ä½“éªŒæ›´å¥½ç‚¹ã€‚</li><li>æ–‡ä¸­æ‹¬å·ä¸­æˆ–è€…å¼•ç”¨å—ä¸­çš„ <em>æ–œä½“å­—</em> ä¸ºå¯¹åº”çš„è‹±æ–‡åŸæ–‡æˆ–è€…æˆ‘è‡ªå·±æ³¨é‡Šçš„è¯ï¼ˆä¼šæ ‡æ˜ <code>è¯‘è€…æ³¨</code>ï¼‰ï¼Œå¦åˆ™ä¸ºåŸæ–‡ä¸­æœ¬æ¥å°±æœ‰çš„è¯ã€‚</li><li>ä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œæˆ‘åœ¨å¼•ç”¨åºå·ååŠ äº†æ‰€å¼•ç”¨è®ºæ–‡çš„é¢˜ç›®ï¼Œç”¨ <em>æ–œä½“å­—</em> è¡¨ç¤ºï¼Œä¾‹å¦‚ Learning rate schedules [11ï¼Œ<em>A stochastic approximation method</em>] ã€‚</li><li>æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡å‡ºã€‚ç¿»è¯‘å°½é‡éµå¾ªåŸæ–‡æ„æ€ï¼Œä½†ä¸æ„å‘³ç€é€å­—é€å¥ã€‚</li><li>æœ¬æ–‡ä¹Ÿæ”¾åœ¨ <a href="https://github.com/secsilm/awesome-posts" target="_blank" rel="noopener">æˆ‘ GitHub ä¸Šçš„ awesome-posts é¡¹ç›®</a> ä¸Šï¼Œé€‰å–æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ é¢†åŸŸå†…æ¯”è¾ƒå¥½çš„è‹±æ–‡æ–‡ç« è¿›è¡Œç¿»è¯‘ï¼Œæ¬¢è¿å„ä½ star ã€‚</li></ul></blockquote><a id="more"></a><hr><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>æ¢¯åº¦ä¸‹é™ç®—æ³•è™½ç„¶æœ€è¿‘è¶Šæ¥è¶Šæµè¡Œï¼Œä½†æ˜¯å§‹ç»ˆæ˜¯ä½œä¸ºä¸€ä¸ªã€Œé»‘ç®±ã€åœ¨ä½¿ç”¨ï¼Œå› ä¸ºå¯¹ä»–ä»¬çš„ä¼˜ç‚¹å’Œç¼ºç‚¹çš„å®é™…è§£é‡Šï¼ˆpractical explainationsï¼‰å¾ˆéš¾å®ç°ã€‚è¿™ç¯‡æ–‡ç« è‡´åŠ›äºç»™è¯»è€…æä¾›è¿™äº›ç®—æ³•å·¥ä½œåŸç†çš„ä¸€ä¸ªç›´è§‚ç†è§£ã€‚åœ¨è¿™ç¯‡æ¦‚è¿°ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶æ¢¯åº¦ä¸‹é™çš„ä¸åŒå˜ä½“ï¼Œæ€»ç»“æŒ‘æˆ˜ï¼Œä»‹ç»æœ€å¸¸è§çš„ä¼˜åŒ–ç®—æ³•ï¼Œä»‹ç»å¹¶è¡Œå’Œåˆ†å¸ƒå¼è®¾ç½®çš„æ¶æ„ï¼Œå¹¶ä¸”ä¹Ÿç ”ç©¶äº†å…¶ä»–æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç­–ç•¥ã€‚</p><hr><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>æ¢¯åº¦ä¸‹é™æ˜¯æœ€æµè¡Œçš„ä¼˜åŒ–ç®—æ³•ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯ç›®å‰ä¼˜åŒ–ç¥ç»ç½‘ç»œæœ€å¸¸ç”¨çš„ç®—æ³•ã€‚åŒæ—¶ï¼Œæ¯ä¸€ä¸ªæœ€å…ˆè¿›çš„æ·±åº¦å­¦ä¹ åº“éƒ½åŒ…å«äº†æ¢¯åº¦ä¸‹é™ç®—æ³•çš„å„ç§å˜ä½“çš„å®ç°ï¼ˆä¾‹å¦‚ <a href="http://lasagne.readthedocs.io/en/latest/modules/updates.html" target="_blank" rel="noopener">lasagne</a>ï¼Œ<a href="http://caffe.berkeleyvision.org/tutorial/solver.html" target="_blank" rel="noopener">caffe</a>ï¼Œ<a href="https://keras.io/optimizers/" target="_blank" rel="noopener">keras</a>ï¼‰ã€‚ç„¶è€Œå§‹ç»ˆæ˜¯ä½œä¸ºä¸€ä¸ªã€Œé»‘ç®±ã€åœ¨ä½¿ç”¨ï¼Œå› ä¸ºå¯¹ä»–ä»¬çš„ä¼˜ç‚¹å’Œç¼ºç‚¹çš„å®é™…è§£é‡Šå¾ˆéš¾å®ç°ã€‚è¿™ç¯‡æ–‡ç« è‡´åŠ›äºç»™è¯»è€…æä¾›è¿™äº›ç®—æ³•å·¥ä½œåŸç†çš„ä¸€ä¸ªç›´è§‚ç†è§£ã€‚æˆ‘ä»¬é¦–å…ˆä»‹ç»æ¢¯åº¦ä¸‹é™çš„ä¸åŒå˜ä½“ï¼Œç„¶åç®€å•æ€»ç»“ä¸‹åœ¨è®­ç»ƒä¸­çš„æŒ‘æˆ˜ã€‚æ¥ç€ï¼Œæˆ‘ä»¬é€šè¿‡å±•ç¤ºä»–ä»¬è§£å†³è¿™äº›æŒ‘æˆ˜çš„åŠ¨æœºä»¥åŠå¦‚ä½•æ¨å¯¼æ›´æ–°è§„åˆ™æ¥ä»‹ç»æœ€å¸¸ç”¨çš„ä¼˜åŒ–ç®—æ³•ã€‚æˆ‘ä»¬ä¹Ÿä¼šç®€è¦ä»‹ç»ä¸‹åœ¨å¹¶è¡Œå’Œåˆ†å¸ƒå¼æ¶æ„ä¸­çš„æ¢¯åº¦ä¸‹é™ã€‚æœ€åï¼Œæˆ‘ä»¬ä¼šç ”ç©¶æœ‰åŠ©äºæ¢¯åº¦ä¸‹é™çš„å…¶ä»–ç­–ç•¥ã€‚</p><p>æ¢¯åº¦ä¸‹é™æ˜¯ä¸€ç§æœ€å°åŒ–ç›®æ ‡å‡½æ•° $J(\theta)$ çš„æ–¹æ³•ï¼Œå…¶ä¸­ $\theta \in \mathbb{R^d}$ æ˜¯æ¨¡å‹å‚æ•°ï¼Œè€Œæœ€å°åŒ–ç›®æ ‡å‡½æ•°æ˜¯é€šè¿‡åœ¨å…¶å…³äº $\theta$ çš„ <a href="https://zh.wikipedia.org/wiki/%E6%A2%AF%E5%BA%A6" target="_blank" rel="noopener">æ¢¯åº¦</a> $\nabla_\theta J(\theta)$ çš„ç›¸åæ–¹å‘æ¥æ›´æ–° $\theta$ æ¥å®ç°çš„ã€‚è€Œå­¦ä¹ ç‡ï¼ˆlearning rateï¼‰åˆ™å†³å®šäº†åœ¨åˆ°è¾¾ï¼ˆå±€éƒ¨ï¼‰æœ€å°å€¼çš„è¿‡ç¨‹ä¸­æ¯ä¸€æ­¥èµ°å¤šé•¿ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æ²¿ç€ç›®æ ‡å‡½æ•°çš„ä¸‹å¡æ–¹å‘æ¥è¾¾åˆ°ä¸€ä¸ªå±±è°·ã€‚å¦‚æœä½ å¯¹æ¢¯åº¦ä¸‹é™ä¸ç†Ÿæ‚‰ï¼Œä½ å¯ä»¥åœ¨ <a href="http://cs231n.github.io/optimization-1/" target="_blank" rel="noopener">è¿™é‡Œ</a> æ‰¾åˆ°ä¸€ä¸ªå¾ˆå¥½çš„å…³äºä¼˜åŒ–ç¥ç»ç½‘ç»œçš„ä»‹ç»ã€‚</p><hr><h2 id="Gradient-descent-variants"><a href="#Gradient-descent-variants" class="headerlink" title="Gradient descent variants"></a>Gradient descent variants</h2><p>ä¾æ®è®¡ç®—ç›®æ ‡å‡½æ•°æ¢¯åº¦ä½¿ç”¨çš„æ•°æ®é‡çš„ä¸åŒï¼Œæœ‰ä¸‰ç§æ¢¯åº¦ä¸‹é™çš„å˜ä½“ã€‚æ ¹æ®æ•°æ®é‡çš„å¤§å°ï¼Œæˆ‘ä»¬åœ¨å‚æ•°æ›´æ–°çš„å‡†ç¡®æ€§å’Œæ‰§è¡Œæ›´æ–°æ‰€éœ€æ—¶é—´ä¹‹é—´åšäº†ä¸€ä¸ªæƒè¡¡ã€‚</p><h3 id="Batch-gradient-descent"><a href="#Batch-gradient-descent" class="headerlink" title="Batch gradient descent"></a>Batch gradient descent</h3><p>æ ‡å‡†çš„æ¢¯åº¦ä¸‹é™ï¼Œå³æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆbatch gradient descentï¼‰ï¼ˆ <em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° BGD</em> ï¼‰ï¼Œåœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸Šè®¡ç®—æŸå¤±å‡½æ•°å…³äºå‚æ•° $\theta$ çš„æ¢¯åº¦ã€‚</p><script type="math/tex; mode=display">\theta = \theta - \eta \cdot \nabla_\theta J( \theta)</script><p>ç”±äºä¸ºäº†ä¸€æ¬¡å‚æ•°æ›´æ–°æˆ‘ä»¬éœ€è¦åœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸Šè®¡ç®—æ¢¯åº¦ï¼Œå¯¼è‡´ BGD å¯èƒ½ä¼šéå¸¸æ…¢ï¼Œè€Œä¸”åœ¨è®­ç»ƒé›†å¤ªå¤§è€Œä¸èƒ½å…¨éƒ¨è½½å…¥å†…å­˜çš„æ—¶å€™ä¼šå¾ˆæ£˜æ‰‹ã€‚BGD ä¹Ÿä¸å…è®¸æˆ‘ä»¬åœ¨çº¿æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œå³å®æ—¶å¢åŠ æ–°çš„è®­ç»ƒæ ·æœ¬ã€‚</p><p>ä¸‹é¢æ˜¯ BGD çš„ä»£ç ç‰‡æ®µï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(nb_epochs):</span><br><span class="line">    params_grad = evaluate_gradient(loss_function, data, params)</span><br><span class="line">    params = params - learning_rate * params_grad</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>nb_epochs</code> æ˜¯æˆ‘ä»¬é¢„å…ˆå®šä¹‰å¥½çš„è¿­ä»£æ¬¡æ•°ï¼ˆepochsï¼‰ï¼Œæˆ‘ä»¬é¦–å…ˆåœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸Šè®¡ç®—æŸå¤±å‡½æ•°å…³äºæ¨¡å‹å‚æ•° <code>params</code> çš„æ¢¯åº¦å‘é‡ <code>params_grad</code>ã€‚å…¶å®ç›®å‰æœ€æ–°çš„æ·±åº¦å­¦ä¹ åº“éƒ½å·²ç»æä¾›äº†å…³äºä¸€äº›å‚æ•°çš„é«˜æ•ˆè‡ªåŠ¨æ±‚å¯¼ã€‚å¦‚æœä½ è¦è‡ªå·±æ±‚å¯¼æ±‚æ¢¯åº¦ï¼Œé‚£ä½ æœ€å¥½ä½¿ç”¨æ¢¯åº¦æ£€æŸ¥ï¼ˆgradient checkingï¼‰ï¼Œåœ¨ <a href="http://cs231n.github.io/neural-networks-3/" target="_blank" rel="noopener">è¿™é‡Œ</a> æŸ¥çœ‹å…³äºå¦‚ä½•è¿›è¡Œåˆé€‚çš„æ¢¯åº¦æ£€æŸ¥çš„æç¤ºã€‚</p><p>ç„¶åæˆ‘ä»¬åœ¨æ¢¯åº¦çš„åæ–¹å‘æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œè€Œå­¦ä¹ ç‡å†³å®šäº†æ¯æ¬¡æ›´æ–°çš„æ­¥é•¿å¤§å°ã€‚BGD å¯¹äºå‡¸è¯¯å·®æ›²é¢ï¼ˆconvex error surfaceï¼‰ä¿è¯æ”¶æ•›åˆ°å…¨å±€æœ€ä¼˜ç‚¹ï¼Œè€Œå¯¹äºéå‡¸æ›²é¢ï¼ˆnon-convex surfaceï¼‰åˆ™æ˜¯å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚</p><h3 id="Stochastic-gradient-descent"><a href="#Stochastic-gradient-descent" class="headerlink" title="Stochastic gradient descent"></a>Stochastic gradient descent</h3><p>éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆ <em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° SGD</em> ï¼‰åˆ™æ˜¯æ¯æ¬¡ä½¿ç”¨ä¸€ä¸ªè®­ç»ƒæ ·æœ¬ $x^{(i)}$ å’Œæ ‡ç­¾ $y^{(i)}$ è¿›è¡Œä¸€æ¬¡å‚æ•°æ›´æ–°ã€‚</p><script type="math/tex; mode=display">\theta = \theta - \eta \cdot \nabla_\theta J(\theta;x^{x(i)};y^{(i)})</script><p>BGD å¯¹äºå¤§æ•°æ®é›†æ¥è¯´æ‰§è¡Œäº†å¾ˆå¤šå†—ä½™çš„è®¡ç®—ï¼Œå› ä¸ºåœ¨æ¯ä¸€æ¬¡å‚æ•°æ›´æ–°å‰éƒ½è¦è®¡ç®—å¾ˆå¤šç›¸ä¼¼æ ·æœ¬çš„æ¢¯åº¦ã€‚SGD é€šè¿‡ä¸€æ¬¡æ‰§è¡Œä¸€æ¬¡æ›´æ–°è§£å†³äº†è¿™ç§å†—ä½™ã€‚å› æ­¤é€šå¸¸ SGD çš„é€Ÿåº¦ä¼šéå¸¸å¿«è€Œä¸”å¯ä»¥è¢«ç”¨äºåœ¨çº¿å­¦ä¹ ã€‚SGD ä»¥é«˜æ–¹å·®çš„ç‰¹ç‚¹è¿›è¡Œè¿ç»­å‚æ•°æ›´æ–°ï¼Œå¯¼è‡´ç›®æ ‡å‡½æ•°ä¸¥é‡éœ‡è¡ï¼Œå¦‚å›¾ 1 æ‰€ç¤ºã€‚</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Stogra.png" alt=""><br><em>å›¾ 1ï¼šSGD éœ‡è¡ï¼Œæ¥è‡ª <a href="https://upload.wikimedia.org/wikipedia/commons/f/f3/Stogra.png" target="_blank" rel="noopener">Wikipedia</a></em></p><p>BGD èƒ½å¤Ÿæ”¶æ•›åˆ°ï¼ˆå±€éƒ¨ï¼‰æœ€ä¼˜ç‚¹ï¼Œç„¶è€Œ SGD çš„éœ‡è¡ç‰¹ç‚¹å¯¼è‡´å…¶å¯ä»¥è·³åˆ°æ–°çš„æ½œåœ¨çš„å¯èƒ½æ›´å¥½çš„å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚å·²ç»æœ‰ç ”ç©¶æ˜¾ç¤ºå½“æˆ‘ä»¬æ…¢æ…¢çš„é™ä½å­¦ä¹ ç‡æ—¶ï¼ŒSGD æ‹¥æœ‰å’Œ BGD ä¸€æ ·çš„æ”¶æ•›æ€§èƒ½ï¼Œå¯¹äºéå‡¸å’Œå‡¸æ›²é¢å‡ ä¹åŒæ ·èƒ½å¤Ÿè¾¾åˆ°å±€éƒ¨æˆ–è€…å…¨å±€æœ€ä¼˜ç‚¹ã€‚</p><p>ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼Œåªæ˜¯åŠ äº†ä¸ªå¾ªç¯å’Œåœ¨æ¯ä¸€ä¸ªè®­ç»ƒæ ·æœ¬ä¸Šè®¡ç®—æ¢¯åº¦ã€‚æ³¨æ„ä¾æ® <a href="http://ruder.io/optimizing-gradient-descent/index.html#shufflingandcurriculumlearning" target="_blank" rel="noopener">è¿™é‡Œ</a> çš„è§£é‡Šï¼Œæˆ‘ä»¬åœ¨æ¯æ¬¡è¿­ä»£çš„æ—¶å€™éƒ½æ‰“ä¹±è®­ç»ƒé›†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(nb_epochs):</span><br><span class="line">    np.random.shuffle(data)</span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> data:</span><br><span class="line">        params_grad = evaluate_gradient(loss_function, example, params)</span><br><span class="line">        params = params - learning_rate * params_grad</span><br></pre></td></tr></table></figure><h3 id="Mini-batch-gradient-descent"><a href="#Mini-batch-gradient-descent" class="headerlink" title="Mini-batch gradient descent"></a>Mini-batch gradient descent</h3><p>Mini-batch gradient descentï¼ˆ <em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° MBGD</em> ï¼‰åˆ™æ˜¯åœ¨ä¸Šé¢ä¸¤ç§æ–¹æ³•ä¸­é‡‡å–äº†ä¸€ä¸ªæŠ˜ä¸­çš„åŠæ³•ï¼šæ¯æ¬¡ä»è®­ç»ƒé›†ä¸­å–å‡º $n$ ä¸ªæ ·æœ¬ä½œä¸ºä¸€ä¸ª mini-batchï¼Œä»¥æ­¤æ¥è¿›è¡Œä¸€æ¬¡å‚æ•°æ›´æ–°ã€‚</p><script type="math/tex; mode=display">\theta = \theta - \eta \cdot \nabla_\theta J( \theta; x^{(i:i+n)}; y^{(i:i+n)})</script><p>è¿™æ ·åšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p><ul><li>å‡å°å‚æ•°æ›´æ–°çš„æ–¹å·®ï¼Œè¿™æ ·å¯ä»¥æœ‰æ›´ç¨³å®šçš„æ”¶æ•›ã€‚</li><li>åˆ©ç”¨ç°åœ¨æœ€å…ˆè¿›çš„æ·±åº¦å­¦ä¹ åº“å¯¹çŸ©é˜µè¿ç®—è¿›è¡Œäº†é«˜åº¦ä¼˜åŒ–çš„ç‰¹ç‚¹ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—è®¡ç®— mini-batch çš„æ¢¯åº¦æ›´é«˜æ•ˆã€‚</li></ul><p>é€šå¸¸æ¥è¯´ mini-batch çš„å¤§å°ä¸º 50 åˆ° 256 ä¹‹é—´ï¼Œä½†æ˜¯ä¹Ÿä¼šå› ä¸ºä»»åŠ¡çš„å·®å¼‚è€Œä¸åŒã€‚MBGD æ˜¯è®­ç»ƒç¥ç»ç½‘ç»œæ—¶çš„å¸¸ç”¨æ–¹æ³•ï¼Œè€Œä¸”é€šå¸¸å³ä½¿å®é™…ä¸Šä½¿ç”¨çš„æ˜¯ MBGDï¼Œä¹Ÿä¼šä½¿ç”¨ SGD è¿™ä¸ªè¯æ¥ä»£æ›¿ã€‚æ³¨æ„ï¼šåœ¨æœ¬æ–‡æ¥ä¸‹æ¥ä¿®æ”¹ SGD æ—¶ï¼Œä¸ºäº†ç®€å•èµ·è§æˆ‘ä»¬ä¼šçœç•¥å‚æ•° $x^{(i:i+n)}; y^{(i:i+n)}$ã€‚</p><p>ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼Œæˆ‘ä»¬æ¯æ¬¡ä½¿ç”¨ mini-batch ä¸º 50 çš„æ ·æœ¬é›†æ¥è¿›è¡Œè¿­ä»£ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(nb_epochs):</span><br><span class="line">    np.random.shuffle(data)</span><br><span class="line">    <span class="keyword">for</span> batch <span class="keyword">in</span> get_batches(data, batch_size=<span class="number">50</span>):</span><br><span class="line">        params_grad = evaluate_gradient(loss_function, batch, params)</span><br><span class="line">        params = params - learning_rate * params_grad</span><br></pre></td></tr></table></figure><hr><h2 id="Challenges"><a href="#Challenges" class="headerlink" title="Challenges"></a>Challenges</h2><p>æ ‡å‡†çš„ MBGD å¹¶ä¸ä¿è¯å¥½çš„æ”¶æ•›ï¼Œä¹Ÿæå‡ºäº†ä¸€ä¸‹éœ€è¦è¢«è§£å†³çš„æŒ‘æˆ˜ï¼š</p><ul><li><strong>é€‰æ‹©ä¸€ä¸ªå¥½çš„å­¦ä¹ ç‡æ˜¯éå¸¸å›°éš¾çš„</strong>ã€‚å¤ªå°çš„å­¦ä¹ ç‡å¯¼è‡´æ”¶æ•›éå¸¸ç¼“æ…¢ï¼Œè€Œå¤ªå¤§çš„å­¦ä¹ ç‡åˆ™ä¼šé˜»ç¢æ”¶æ•›ï¼Œå¯¼è‡´æŸå¤±å‡½æ•°åœ¨æœ€ä¼˜ç‚¹é™„è¿‘éœ‡è¡ç”šè‡³å‘æ•£ã€‚</li><li>Learning rate schedules [11ï¼Œ<em>A stochastic approximation method</em>] è¯•å›¾åœ¨è®­ç»ƒæœŸé—´è°ƒæ•´å­¦ä¹ ç‡å³é€€ç«ï¼ˆannealingï¼‰ï¼Œæ ¹æ®å…ˆå‰å®šä¹‰å¥½çš„ä¸€ä¸ªè§„åˆ™æ¥å‡å°å­¦ä¹ ç‡ï¼Œæˆ–è€…ä¸¤æ¬¡è¿­ä»£ä¹‹é—´ç›®æ ‡å‡½æ•°çš„æ”¹å˜ä½äºä¸€ä¸ªé˜ˆå€¼çš„æ—¶å€™ã€‚ç„¶è€Œè¿™äº›è§„åˆ™å’Œé˜ˆå€¼ä¹Ÿæ˜¯éœ€è¦åœ¨è®­ç»ƒå‰å®šä¹‰å¥½çš„ï¼Œæ‰€ä»¥<strong>ä¹Ÿä¸èƒ½åšåˆ°è‡ªé€‚åº”æ•°æ®çš„ç‰¹ç‚¹</strong> [10ï¼Œ<em>Learning rate schedules for faster stochastic gradient search</em>]ã€‚</li><li>å¦å¤–ï¼Œ<strong>ç›¸åŒçš„å­¦ä¹ ç‡è¢«åº”ç”¨åˆ°æ‰€æœ‰å‚æ•°æ›´æ–°ä¸­</strong>ã€‚å¦‚æœæˆ‘ä»¬çš„æ•°æ®æ¯”è¾ƒç¨€ç–ï¼Œç‰¹å¾æœ‰éå¸¸å¤šä¸åŒçš„é¢‘ç‡ï¼Œé‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬å¯èƒ½å¹¶ä¸æƒ³è¦ä»¥ç›¸åŒçš„ç¨‹åº¦æ›´æ–°ä»–ä»¬ï¼Œåè€Œæ˜¯å¯¹æ›´å°‘å‡ºç°çš„ç‰¹å¾ç»™äºˆæ›´å¤§çš„æ›´æ–°ã€‚</li><li>å¯¹äºç¥ç»ç½‘ç»œæ¥è¯´ï¼Œå¦ä¸€ä¸ªæœ€å°åŒ–é«˜åº¦éå‡¸è¯¯å·®å‡½æ•°çš„å…³é”®æŒ‘æˆ˜æ˜¯<strong>é¿å…é™·å…¥ä»–ä»¬å¤§é‡çš„æ¬¡å±€éƒ¨æœ€ä¼˜ç‚¹ï¼ˆsuboptimalï¼‰</strong>ã€‚Dauphin ç­‰äºº [19ï¼Œ<em>Identifying and attacking the saddle point problem in high-dimensional non-convex optimization</em>] æŒ‡å‡ºäº‹å®ä¸Šå›°éš¾æ¥è‡ªäºéç‚¹è€Œä¸æ˜¯å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œå³æŸå¤±å‡½æ•°åœ¨è¯¥ç‚¹çš„ä¸€ä¸ªç»´åº¦ä¸Šæ˜¯ä¸Šå¡ï¼ˆslopes upï¼‰ï¼ˆ <em>è¯‘è€…æ³¨ï¼šæ–œç‡ä¸ºæ­£</em> ï¼‰ï¼Œè€Œåœ¨å¦ä¸€ä¸ªç»´åº¦ä¸Šæ˜¯ä¸‹å¡ï¼ˆslopes downï¼‰ï¼ˆ <em>è¯‘è€…æ³¨ï¼šæ–œç‡ä¸ºè´Ÿ</em> ï¼‰ã€‚è¿™äº›éç‚¹é€šå¸¸è¢«ä¸€ä¸ªå…·æœ‰ç›¸åŒè¯¯å·®çš„å¹³é¢æ‰€åŒ…å›´ï¼Œè¿™ä½¿å¾—å¯¹äº SGD æ¥è¯´éå¸¸éš¾äºé€ƒè„±ï¼Œå› ä¸ºåœ¨å„ä¸ªç»´åº¦ä¸Šæ¢¯åº¦éƒ½è¶‹è¿‘äº 0 ã€‚</li></ul><hr><h2 id="Gradient-descent-optimization-algorithms"><a href="#Gradient-descent-optimization-algorithms" class="headerlink" title="Gradient descent optimization algorithms"></a>Gradient descent optimization algorithms</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¼šæ¦‚è¿°ä¸€äº›åœ¨æ·±åº¦å­¦ä¹ ç¤¾åŒºå¸¸ç”¨çš„ç®—æ³•ï¼Œè¿™äº›ç®—æ³•è§£å†³äº†æˆ‘ä»¬å‰é¢æåˆ°çš„æŒ‘æˆ˜ã€‚æˆ‘ä»¬ä¸ä¼šè®¨è®ºå®é™…ä¸Šåœ¨é«˜ç»´æ•°æ®é›†ä¸Šä¸å¯è¡Œçš„ç®—æ³•ï¼Œä¾‹å¦‚äºŒé˜¶æ–¹æ³•ä¸­çš„ <a href="https://en.wikipedia.org/wiki/Newton%27s_method_in_optimization" target="_blank" rel="noopener">ç‰›é¡¿æ³•</a>ã€‚</p><h3 id="Momentum"><a href="#Momentum" class="headerlink" title="Momentum"></a>Momentum</h3><p>SGD åœ¨é‡åˆ°æ²Ÿå£‘ï¼ˆravinesï¼‰ä¼šæ¯”è¾ƒå›°éš¾ï¼Œå³åœ¨ä¸€ä¸ªç»´åº¦ä¸Šæ¯”å¦ä¸€ä¸ªç»´åº¦æ›´é™¡å³­çš„æ›²é¢ [1ï¼Œ<em>Two problems with backpropagation and other steepest-descent learning procedures for networks</em>] ï¼Œè¿™äº›æ›²é¢é€šå¸¸åŒ…å›´ç€å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚åœ¨è¿™äº›åœºæ™¯ä¸­ï¼ŒSGD éœ‡è¡ä¸”ç¼“æ…¢çš„æ²¿ç€æ²Ÿå£‘çš„ä¸‹å¡æ–¹å‘æœç€å±€éƒ¨æœ€ä¼˜ç‚¹å‰è¿›ï¼Œå¦‚å›¾ 2 æ‰€ç¤ºã€‚</p><p><img src="http://ruder.io/content/images/2015/12/without_momentum.gif" alt="SGD without momentum"><br><em>å›¾ 2ï¼šä¸å¸¦åŠ¨é‡çš„ SGD</em></p><p>åŠ¨é‡ï¼ˆMomentumï¼‰[2ï¼Œ<em>On the momentum term in gradient descent learning algorithms</em>] æ˜¯ä¸€ç§åœ¨ç›¸å…³æ–¹å‘åŠ é€Ÿ SGD çš„æ–¹æ³•ï¼Œå¹¶ä¸”èƒ½å¤Ÿå‡å°‘éœ‡è¡ï¼Œå¦‚å›¾ 3 æ‰€ç¤ºã€‚</p><p><img src="http://ruder.io/content/images/2015/12/with_momentum.gif" alt="SGD without momentum"><br><em>å›¾ 3ï¼šå¸¦åŠ¨é‡çš„ SGD</em></p><p>å®ƒåœ¨å½“å‰çš„æ›´æ–°å‘é‡ä¸­åŠ å…¥äº†å…ˆå‰ä¸€æ­¥çš„çŠ¶æ€ï¼š</p><script type="math/tex; mode=display">\begin{aligned}v\_t &= \gamma v\_{t-1} + \eta \nabla\_\theta J( \theta) \\\\\theta &= \theta - v\_t\end{aligned}</script><p>æ³¨æ„ï¼šä¸€äº›å®ç°å¯èƒ½æ”¹å˜äº†å…¬å¼ä¸­çš„ç¬¦å·ã€‚åŠ¨é‡é¡¹ $\gamma$ é€šå¸¸è®¾ç½®ä¸º 0.9 æˆ–è€…ç›¸ä¼¼çš„å€¼ã€‚</p><p>æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨åŠ¨é‡æ—¶ï¼Œç±»ä¼¼äºæˆ‘ä»¬æŠŠçƒæ¨ä¸‹å±±çš„è¿‡ç¨‹ã€‚åœ¨çƒä¸‹å±±çš„è¿‡ç¨‹ä¸­ï¼Œçƒç´¯ç§¯åŠ¨é‡ä½¿å…¶é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼ˆç›´åˆ°è¾¾åˆ°å…¶æœ€ç»ˆé€Ÿåº¦ï¼Œå¦‚æœæœ‰ç©ºæ°”é˜»åŠ›çš„è¯ï¼Œå³ $\gamma \lt 1$ï¼‰ã€‚ç›¸åŒçš„äº‹æƒ…ä¹Ÿå‘ç”Ÿåœ¨æˆ‘ä»¬çš„å‚æ•°æ›´æ–°ä¸­ï¼šå¯¹äºæ¢¯åº¦æŒ‡å‘æ–¹å‘ç›¸åŒçš„ç»´åº¦åŠ¨é‡é¡¹å¢å¤§ï¼Œå¯¹äºæ¢¯åº¦æ”¹å˜æ–¹å‘çš„ç»´åº¦åŠ¨é‡é¡¹å‡å°ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬è·å¾—äº†æ›´å¿«çš„æ”¶æ•›å¹¶å‡å°‘äº†éœ‡è¡ã€‚</p><h3 id="Nesterov-accelerated-gradient"><a href="#Nesterov-accelerated-gradient" class="headerlink" title="Nesterov accelerated gradient"></a>Nesterov accelerated gradient</h3><p>ç„¶è€Œï¼Œä¸€ä¸ªçƒç›²ç›®çš„æ²¿ç€æ–œå¡ä¸‹å±±ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªèªæ˜çš„çƒï¼Œä»–çŸ¥é“å°†è¦å»å“ªå¹¶å¯ä»¥åœ¨æ–œå¡å˜æˆä¸Šå¡å‰å‡é€Ÿã€‚</p><p>Nesterov accelerated gradientï¼ˆ <em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° NAG</em> ï¼‰[7ï¼Œ<em>A method for unconstrained convex minimization problem with the rate of convergence o(1/k2)</em>] å°±æ˜¯è¿™æ ·ä¸€ç§ç»™äºˆæˆ‘ä»¬çš„åŠ¨é‡é¡¹é¢„çŸ¥èƒ½åŠ›çš„æ–¹æ³•ã€‚æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬ä½¿ç”¨åŠ¨é‡é¡¹ $\gamma v_{t-1}$ æ¥æ›´æ–° $\theta$ã€‚å› æ­¤è®¡ç®— $\theta-\gamma v_{t-1}$ ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå…³äºçš„å‚æ•°ä¸‹ä¸€ä¸ªä½ç½®çš„ä¼°è®¡ï¼ˆè¿™é‡Œçœç•¥äº†æ¢¯åº¦é¡¹ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•ç²—æš´çš„æƒ³æ³•ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥é€šè¿‡è®¡ç®— $\theta$ ä¸‹ä¸€ä¸ªä½ç½®è€Œä¸æ˜¯å½“å‰ä½ç½®çš„æ¢¯åº¦æ¥å®ç°ã€Œå‘å‰çœ‹ã€ã€‚</p><script type="math/tex; mode=display">\\begin{aligned}v\_t &= \gamma v\_{t-1} + \eta \nabla\_\theta J( \theta - \gamma v\_{t-1} ) \\\\\\theta &= \theta - v\_t\\end{aligned}</script><p>æˆ‘ä»¬ä»ç„¶è®¾ç½® $\gamma$ ä¸º 0.9ã€‚åŠ¨é‡æ³•é¦–å…ˆè®¡ç®—å½“å‰æ¢¯åº¦ï¼ˆå›¾ 4 ä¸­çš„å°è“è‰²å‘é‡ï¼‰,ç„¶ååœ¨æ›´æ–°ç´¯ç§¯æ¢¯åº¦ï¼ˆupdated accumulated gradientï¼‰æ–¹å‘ä¸Šå¤§å¹…åº¦çš„è·³è·ƒï¼ˆå›¾ 4 ä¸­çš„å¤§è“è‰²å‘é‡ï¼‰ã€‚ä¸æ­¤ä¸åŒçš„æ˜¯ï¼ŒNAG é¦–å…ˆåœ¨å…ˆå‰çš„ç´¯ç§¯æ¢¯åº¦ï¼ˆprevious accumulated gradientï¼‰æ–¹å‘ä¸Šè¿›è¡Œå¤§å¹…åº¦çš„è·³è·ƒï¼ˆå›¾ 4 ä¸­çš„æ£•è‰²å‘é‡ï¼‰ï¼Œè¯„ä¼°è¿™ä¸ªæ¢¯åº¦å¹¶åšä¸€ä¸‹ä¿®æ­£ï¼ˆå›¾ 4 ä¸­çš„çº¢è‰²å‘é‡ï¼‰ï¼Œè¿™å°±æ„æˆä¸€æ¬¡å®Œæ•´çš„ NAG æ›´æ–°ï¼ˆå›¾ 4 ä¸­çš„ç»¿è‰²å‘é‡ï¼‰ã€‚è¿™ç§é¢„æœŸæ›´æ–°é˜²æ­¢æˆ‘ä»¬è¿›è¡Œçš„å¤ªå¿«ï¼Œä¹Ÿå¸¦æ¥äº†æ›´é«˜çš„ç›¸åº”é€Ÿåº¦ï¼Œè¿™åœ¨ä¸€äº›ä»»åŠ¡ä¸­éå¸¸æœ‰æ•ˆçš„æå‡äº† RNN çš„æ€§èƒ½ [8ï¼Œ<em>Advances in Optimizing Recurrent Networks</em>] ã€‚</p><p><img src="http://ruder.io/content/images/2016/09/nesterov_update_vector.png" alt="Nesterov update"><br><em>å›¾ 4ï¼šNesterov æ›´æ–°ï¼Œæ¥è‡ª <a href="http://www.cs.toronto.edu/~tijmen/csc321/slides/lecture_slides_lec6.pdf" target="_blank" rel="noopener">G. Hinton&#39;s lecture 6c</a></em></p><p>å¯ä»¥åœ¨ <a href="">è¿™é‡Œ</a> æŸ¥çœ‹å¯¹ NAG çš„å¦ä¸€ç§ç›´è§‚è§£é‡Šï¼Œæ­¤å¤– Ilya Sutskever åœ¨ä»–çš„åšå£«è®ºæ–‡ä¸­ä¹Ÿç»™å‡ºäº†è¯¦ç»†è§£é‡Š [9ï¼Œ<em>Training Recurrent neural Networks</em>] ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å·²ç»èƒ½å¤Ÿä¾æ®è¯¯å·®å‡½æ•°çš„æ–œç‡æ¥è°ƒæ•´æ›´æ–°ï¼Œå¹¶åŠ å¿« SGD çš„é€Ÿåº¦ï¼Œæ­¤å¤–æˆ‘ä»¬ä¹Ÿæƒ³æ ¹æ®æ¯ä¸ªå‚æ•°çš„é‡è¦æ€§æ¥å†³å®šè¿›è¡Œæ›´å¤§è¿˜æ˜¯æ›´å°çš„æ›´æ–°ã€‚</p><h3 id="Adagrad"><a href="#Adagrad" class="headerlink" title="Adagrad"></a>Adagrad</h3><p>Adagrad [3ï¼Œ<em>Adaptive Subgradient Methods for Online Learning and Stochastic Optimization</em>] å°±æ˜¯è¿™æ ·ä¸€ç§è§£å†³è¿™ä¸ªé—®é¢˜çš„åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–ç®—æ³•ï¼šæ ¹æ®å‚æ•°æ¥è°ƒæ•´å­¦ä¹ ç‡ï¼Œå¯¹äºä¸å¸¸è§çš„å‚æ•°ç»™äºˆæ›´å¤§çš„æ›´æ–°ï¼Œè€Œå¯¹äºå¸¸è§çš„ç»™äºˆæ›´å°çš„æ›´æ–°ã€‚å› æ­¤ï¼ŒAdagrad éå¸¸é€‚ç”¨äºç¨€ç–æ•°æ®ã€‚Dean ç­‰äºº [4ï¼Œ<em>Large Scale Distributed Deep Networks</em>] å‘ç° Adagrad èƒ½å¤Ÿå¤§å¹…æé«˜ SGD çš„é²æ£’æ€§ï¼Œå¹¶åœ¨ Google ç”¨å…¶è®­ç»ƒå¤§è§„æ¨¡ç¥ç»ç½‘ç»œï¼Œè¿™å…¶ä¸­å°±åŒ…æ‹¬ <a href="http://www.wired.com/2012/06/google-x-neural-network/" target="_blank" rel="noopener">åœ¨ YouTube ä¸­å­¦ä¹ è¯†åˆ«çŒ«</a>ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒPennington ç­‰äºº [5ï¼Œ<em>Glove: Global Vectors for Word Representation</em>] ä½¿ç”¨ Adagrad æ¥è®­ç»ƒ GloVe è¯åµŒå…¥ï¼Œå› ä¸ºç½•è§çš„è¯æ±‡éœ€è¦æ¯”å¸¸è§è¯æ›´å¤§çš„æ›´æ–°ã€‚</p><p>å‰é¢æˆ‘ä»¬åœ¨å¯¹æ‰€æœ‰å‚æ•° $\theta$ æ›´æ–°æ—¶æ¯ä¸ªå‚æ•° $\theta_i$ ä½¿ç”¨ç›¸åŒçš„å­¦ä¹ ç‡ $\eta$ã€‚Adagrad åœ¨æ¯ä¸ªæ—¶é—´ç‚¹ $t$ å¯¹æ¯ä¸ªå‚æ•° $ \theta_i $ ä½¿ç”¨çš„å­¦ä¹ ç‡éƒ½ä¸åŒï¼Œæˆ‘ä»¬é¦–å…ˆå±•ç°æ¯ä¸ªå‚æ•°çš„æ›´æ–°ï¼Œç„¶åå†å‘é‡åŒ–ã€‚ç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä½¿ç”¨ $g_{t,i}$ æ¥è¡¨ç¤ºç›®æ ‡å‡½æ•°å…³äºå‚æ•° $\theta_i$ åœ¨æ—¶é—´ç‚¹ $t$ æ—¶çš„æ¢¯åº¦ï¼š</p><script type="math/tex; mode=display">g\_{t, i} = \nabla\_\theta J( \theta\_i )</script><p>SGD åœ¨æ¯ä¸ªæ—¶é—´ç‚¹ $t$ å¯¹æ¯ä¸ªå‚æ•° $\theta_i$ çš„æ›´æ–°å˜ä¸ºï¼š</p><script type="math/tex; mode=display">\theta\_{t+1,i} = \theta\_{t,i} - \eta \cdot g_{t,i}</script><p>åœ¨è¿™ä¸ªæ›´æ–°è§„åˆ™é‡Œï¼ŒAdagrad åœ¨æ¯ä¸ªæ—¶é—´ç‚¹ $t$ å¯¹æ¯ä¸ªå‚æ•° $\theta_i$ éƒ½ä¼šåŸºäºè¿‡å»çš„æ¢¯åº¦ä¿®æ”¹å­¦ä¹ ç‡ $\eta$ã€‚</p><script type="math/tex; mode=display">\theta\_{t+1, i} = \theta\_{t, i} - \dfrac{\eta}{\sqrt{G\_{t, ii} + \epsilon}} \cdot g_{t, i}</script><p>å…¶ä¸­ $G_{t} \in \mathbb{R}^{d \times d}$ æ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µï¼Œå¯¹è§’å…ƒç´  $G_t[i, i]$ æ˜¯å‚æ•° $\theta_i$ ä»å¼€å§‹åˆ°æ—¶é—´ç‚¹ $t$ ä¸ºæ­¢çš„æ¢¯åº¦å¹³æ–¹å’Œ [25]ï¼Œ$\epsilon$ æ˜¯ä¸€ä¸ªå¹³æ»‘é¡¹ï¼Œç”¨äºé˜²æ­¢åˆ†æ¯ä¸º 0 ï¼Œé€šå¸¸ä¸º $10^{-8}$ å·¦å³ã€‚æœ‰è¶£çš„æ˜¯ï¼Œå¦‚æœå»æ‰å¼€æ–¹æ“ä½œï¼Œç®—æ³•æ€§èƒ½ä¼šå¤§å¹…ä¸‹é™ã€‚</p><p>ç”±äº $G_t$ çš„å¯¹è§’å…ƒç´ æ˜¯å…³äºæ‰€æœ‰å‚æ•°çš„è¿‡å»çš„æ¢¯åº¦çš„å¹³æ–¹å’Œï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„å®ç°å‘é‡åŒ–ï¼Œå³ä½¿ç”¨ç‚¹ä¹˜ $\odot$ ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{G\_{t} + \epsilon}} \odot g_{t}</script><p>Adagrad æœ€å¤§çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯æˆ‘ä»¬å¯ä»¥ä¸ç”¨æ‰‹åŠ¨çš„è°ƒæ•´å­¦ä¹ ç‡ã€‚å¤§å¤šæ•°å®ç°ä½¿ç”¨ä¸€ä¸ªé»˜è®¤å€¼ 0.01 ã€‚</p><p>Adagrad ä¸»è¦çš„ç¼ºç‚¹æ˜¯åˆ†æ¯ä¸­ç´¯ç§¯çš„å¹³æ–¹å’Œæ¢¯åº¦ï¼šç”±äºæ¯ä¸€ä¸ªæ–°æ·»åŠ çš„é¡¹éƒ½æ˜¯æ­£çš„ï¼Œå¯¼è‡´ç´¯ç§¯å’Œåœ¨è®­ç»ƒæœŸé—´ä¸æ–­å¢å¤§ã€‚è¿™åè¿‡æ¥å¯¼è‡´å­¦ä¹ ç‡ä¸æ–­å‡å°ï¼Œæœ€ç»ˆå˜æˆæ— é™å°ï¼Œè¿™æ—¶ç®—æ³•å·²ç»ä¸èƒ½å†ç»§ç»­å­¦ä¹ æ–°ä¸œè¥¿äº†ã€‚ä¸‹é¢çš„è¿™ä¸ªç®—æ³•å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="Adadelta"><a href="#Adadelta" class="headerlink" title="Adadelta"></a>Adadelta</h3><p>Adadelta [6ï¼Œ<em>ADADELTA: An Adaptive Learning Rate Method</em>] æ˜¯ Adagrad çš„æ‰©å±•ï¼Œæ—¨åœ¨å¸®åŠ©ç¼“è§£åè€…å­¦ä¹ ç‡å•è°ƒä¸‹é™çš„é—®é¢˜ã€‚ä¸ Adagrad ç´¯ç§¯è¿‡å»æ‰€æœ‰æ¢¯åº¦çš„å¹³æ–¹å’Œä¸åŒï¼ŒAdadelta é™åˆ¶åœ¨è¿‡å»æŸä¸ªçª—å£å¤§å°ä¸º $w$ çš„å¤§å°å†…çš„æ¢¯åº¦ã€‚</p><p>å­˜å‚¨å…ˆå‰ $w$ ä¸ªæ¢¯åº¦çš„å¹³æ–¹æ•ˆç‡ä¸é«˜ï¼ŒAdadelta çš„æ¢¯åº¦å¹³æ–¹å’Œè¢«é€’å½’çš„å®šä¹‰ä¸ºè¿‡å»æ‰€æœ‰æ¢¯åº¦å¹³æ–¹çš„è¡°å‡å¹³å‡å€¼ï¼ˆdecaying averageï¼‰ã€‚åœ¨ $t$ æ—¶åˆ»çš„å¹³å‡å€¼ $E[g^2]_t$ ä»…ä»…å–å†³äºå…ˆå‰çš„å¹³å‡å€¼å’Œå½“å‰çš„æ¢¯åº¦ï¼š</p><script type="math/tex; mode=display">E[g^2]\_t = \gamma E[g^2]\_{t-1} + (1-\gamma)g_t^2</script><p>å…¶ä¸­ $\gamma$ ç±»ä¼¼äºåŠ¨é‡é¡¹ï¼Œæˆ‘ä»¬åŒæ ·è®¾ç½®ä¸º 0.9 å·¦å³ã€‚ä¸ºæ¸…æ¥šèµ·è§ï¼Œæˆ‘ä»¬æ ¹æ®å‚æ•°æ›´æ–°å‘é‡ $\Delta \theta_t$ æ¥é‡å†™ä¸€èˆ¬çš„ SGD æ›´æ–°å…¬å¼ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\Delta \theta\_t &= - \eta \cdot g\_{t, i} \\\\\theta\_{t+1} &= \theta\_t + \Delta \theta_t \\\\\end{aligned}</script><p>å…ˆå‰æˆ‘ä»¬æ¨å¯¼è¿‡çš„ Adagrad çš„å‚æ•°æ›´æ–°å‘é‡æ˜¯ï¼š</p><script type="math/tex; mode=display">\Delta \theta\_t = - \dfrac{\eta}{\sqrt{G\_{t} + \epsilon}} \odot g_{t}</script><p>æˆ‘ä»¬ç°åœ¨ç”¨è¿‡å»æ¢¯åº¦å¹³æ–¹å’Œçš„è¡°å‡å¹³å‡ $E[g^2]_t$ æ¥ä»£æ›¿å¯¹è§’çŸ©é˜µ $G_t$ï¼š</p><script type="math/tex; mode=display">\Delta \theta\_t = - \dfrac{\eta}{\sqrt{E[g^2]\_t + \epsilon}} g_{t}</script><p>ç”±äºåˆ†æ¯åªæ˜¯ä¸€ä¸ªæ¢¯åº¦çš„å‡æ–¹è¯¯å·®ï¼ˆRoot Mean Squaredï¼ŒRMSï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç¼©å†™æ¥ä»£æ›¿ï¼š</p><script type="math/tex; mode=display">\Delta \theta\_t = - \dfrac{\eta}{RMS[g]\_{t}} g_t</script><p>ä½œè€…æ³¨æ„åˆ°è¿™ä¸ªæ›´æ–°ä¸­çš„å•ä½ï¼ˆunitsï¼‰ä¸åŒ¹é…ï¼ˆSGDï¼ŒåŠ¨é‡å’Œ Adagrad ä¹Ÿæ˜¯ï¼‰ï¼Œå³æ›´æ–°å‘é‡åº”è¯¥å…·æœ‰å’Œå‚æ•°ä¸€æ ·çš„å•ä½ã€‚ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»–ä»¬é¦–å…ˆå®šä¹‰äº†å¦ä¸€ä¸ªæŒ‡æ•°è¡°å‡å¹³å‡,ä½†æ˜¯è¿™æ¬¡ä¸æ˜¯å…³äºæ¢¯åº¦çš„å¹³æ–¹ï¼Œè€Œæ˜¯å…³äºå‚æ•°æ›´æ–°çš„å¹³æ–¹ï¼š</p><script type="math/tex; mode=display">E[\Delta \theta^2]\_t = \gamma E[\Delta \theta^2]\_{t-1} + (1 - \gamma) \Delta \theta^2_t</script><p>é‚£ä¹ˆå‚æ•°æ›´æ–°çš„å‡æ–¹è¯¯å·®æ˜¯ï¼š</p><script type="math/tex; mode=display">RMS[\Delta \theta]\_{t} = \sqrt{E[\Delta \theta^2]_t + \epsilon}</script><p>ç”±äº $RMS[\Delta \theta]_{t}$ æœªçŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šä¸€æ­¥çš„æ¥ä¼°è®¡ã€‚ç”¨å¸¦æœ‰ $RMS[\Delta \theta]_{t-1}$ çš„å‚æ•°æ›´æ–°è§„åˆ™ä»£æ›¿å­¦ä¹ ç‡ $\eta$ å°±å¾—åˆ°äº† Adadelta æœ€ç»ˆçš„æ›´æ–°è§„åˆ™ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\Delta \theta\_t &= - \dfrac{RMS[\Delta \theta]\_{t-1}}{RMS[g]\_{t}} g\_{t} \\\\\theta\_{t+1} &= \theta\_t + \Delta \theta\_t \\\\\end{aligned}</script><p>ä½¿ç”¨ Adadelta æ—¶æˆ‘ä»¬ç”šè‡³ä¸éœ€è¦æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„å­¦ä¹ ç‡ï¼Œå› ä¸ºå®ƒå·²ç»ä¸åœ¨æ›´æ–°è§„åˆ™ä¸­äº†ã€‚</p><h3 id="RMSprop"><a href="#RMSprop" class="headerlink" title="RMSprop"></a>RMSprop</h3><p>RMSprop æ˜¯ä¸€ç§æœªå‘å¸ƒçš„è‡ªé€‚åº”å­¦ä¹ ç‡çš„æ–¹æ³•ï¼Œç”± Geoff Hinton åœ¨ <a href="http://www.cs.toronto.edu/~tijmen/csc321/slides/lecture_slides_lec6.pdf" target="_blank" rel="noopener">Lecture 6e of his Coursera Class</a> ä¸­æå‡ºã€‚</p><p>RMSprop å’Œ Adadelta åœ¨åŒä¸€æ—¶é—´è¢«ç‹¬ç«‹åœ°å‘æ˜å‡ºæ¥ï¼Œéƒ½æ˜¯ä¸ºäº†è§£å†³ Adagrad çš„å­¦ä¹ ç‡é€’å‡é—®é¢˜ã€‚äº‹å®ä¸Š RMSprop ä¸æˆ‘ä»¬ä¸Šé¢è®¨è®ºè¿‡çš„ Adadelta çš„ç¬¬ä¸€ä¸ªæ›´æ–°å‘é‡ä¸€æ¨¡ä¸€æ ·ï¼š</p><script type="math/tex; mode=display">\begin{aligned}E[g^2]\_t &= 0.9 E[g^2]\_{t-1} + 0.1 g^2\_t \\\\\theta\_{t+1} &= \theta\_t - \dfrac{\eta}{\sqrt{E[g^2]\_t + \epsilon}} g\_{t} \\\\\end{aligned}</script><p>RMSprop ä¹Ÿæ˜¯å°†å­¦ä¹ ç‡é™¤ä»¥å¹³æ–¹æ¢¯åº¦çš„æŒ‡æ•°è¡°å‡å¹³å‡å€¼ã€‚Hinton å»ºè®®å°† $\gamma$ è®¾ä¸º 0.9 ï¼Œé»˜è®¤å­¦ä¹ ç‡ $\eta$ è®¾ä¸º 0.001 ã€‚</p><h3 id="Adam"><a href="#Adam" class="headerlink" title="Adam"></a>Adam</h3><p>Adaptive Moment Estimation (Adam) [15ï¼Œ<em>Adam: a Method for Stochastic Optimization</em>] æ˜¯å¦ä¸€ç§ä¸ºæ¯ä¸ªå‚æ•°è®¡ç®—è‡ªé€‚åº”å­¦ä¹ ç‡çš„æ–¹æ³•ã€‚é™¤äº†åƒ Adadelta å’Œ RMSprop ä¸€æ ·å­˜å‚¨å†å²å¹³æ–¹æ¢¯åº¦ $v_t$ çš„æŒ‡æ•°è¡°å‡å¹³å‡å€¼å¤–ï¼ŒAdam ä¹Ÿå­˜å‚¨å†å²æ¢¯åº¦ $m_t$ çš„æŒ‡æ•°è¡°å‡å¹³å‡å€¼ï¼Œç±»ä¼¼äºåŠ¨é‡ï¼š</p><script type="math/tex; mode=display">\begin{aligned}m\_t &= \beta\_1 m\_{t-1} + (1 - \beta\_1) g\_t \\\\v\_t &= \beta\_2 v\_{t-1} + (1 - \beta\_2) g\_t^2 \\\\\end{aligned}</script><p>å…¶ä¸­ $m_t$ å’Œ $v_t$ åˆ†åˆ«æ˜¯æ¢¯åº¦åœ¨ç¬¬ä¸€æ—¶åˆ»ï¼ˆå¹³å‡å€¼ï¼Œthe meanï¼‰å’Œç¬¬äºŒæ—¶åˆ»ï¼ˆæœªä¸­å¿ƒåŒ–çš„æ–¹å·®ï¼Œthe uncentered varianceï¼‰çš„ä¼°è®¡å€¼ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ–¹æ³•çš„åç§°ã€‚ç”±äº $m_t$ å’Œ $v_t$ ç”¨é›¶å‘é‡åˆå§‹åŒ–ï¼ŒAdam çš„ä½œè€…å‘ç°ä»–ä»¬è¶‹å‘äº 0 ï¼Œç‰¹åˆ«æ˜¯æœ€å¼€å§‹çš„æ—¶å€™ï¼ˆ<em>the initial time steps</em>ï¼‰å’Œè¡°å‡ç‡å¾ˆå°çš„æ—¶å€™ï¼ˆå³ $\beta_1$ å’Œ $\beta_2$ æ¥è¿‘äº 1ï¼‰ã€‚</p><p>ä»–ä»¬é€šè¿‡è®¡ç®—åå·®çº æ­£çš„ï¼ˆbias-correctedï¼‰çš„ç¬¬ä¸€å’Œç¬¬äºŒæ—¶åˆ»çš„ä¼°è®¡å€¼æ¥æŠµæ¶ˆè¿™ä¸ªé—®é¢˜ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\hat{m}\_t &= \dfrac{m\_t}{1 - \beta^t\_1} \\\\\hat{v}\_t &= \dfrac{v\_t}{1 - \beta^t\_2}\end{aligned}</script><p>ç„¶åä»–ä»¬ä½¿ç”¨è¿™äº›å…¬å¼æ¥æ›´æ–°å‚æ•°ï¼Œå°±åƒ Adadelta å’Œ RMSprop ä¸€æ ·ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} \hat{m}\_t</script><p>ä½œè€…å»ºè®® $\beta_1$ çš„é»˜è®¤å€¼ä¸º 0.9 ï¼Œ $\beta_2$ çš„é»˜è®¤å€¼ä¸º 0.999 ï¼Œ$\epsilon$ çš„é»˜è®¤å€¼ä¸º $10^{-8}$ ã€‚ä»–ä»¬è¯æ˜ Adam åœ¨å®è·µä¸­éå¸¸æœ‰æ•ˆï¼Œè€Œä¸”å¯¹æ¯”å…¶ä»–è‡ªé€‚åº”å­¦ä¹ ç‡ç®—æ³•ä¹Ÿæœ‰ä¼˜åŠ¿ã€‚</p><h3 id="AdaMax"><a href="#AdaMax" class="headerlink" title="AdaMax"></a>AdaMax</h3><p>Adam çš„æ›´æ–°è§„åˆ™ä¸­çš„ $v_t$ æˆæ¯”ä¾‹çš„ç¼©æ”¾äº†æ¢¯åº¦ï¼Œæ­£æ¯”äºå†å²æ¢¯åº¦çš„ $\ell_2$ èŒƒæ•°ï¼ˆé€šè¿‡ $v_{t-1}$ é¡¹ï¼‰å’Œå½“å‰æ¢¯åº¦ $|g_t|^2$ï¼ˆ<em>è¯‘è€…æ³¨ï¼šæ­¤æ®µè¯æˆ‘éå¸¸ä¸ç¡®å®šæ˜¯è¿™ä¹ˆç¿»è¯‘çš„ï¼Œè´´ä¸ŠåŸæ–‡ï¼šThe $v_t$ factor in the Adam update rule scales the gradient inversely proportionally to the $\ell_2$ norm of the past gradients (via the vtâˆ’1vtâˆ’1 term) and current gradient $|g_t|^2$</em>ï¼‰ï¼š</p><script type="math/tex; mode=display">v\_t = \beta\_2 v\_{t-1} + (1 - \beta\_2) |g\_t|^2</script><p>æˆ‘ä»¬å¯ä»¥å°†æ­¤æ¨å¹¿åˆ° $\ell_p$ èŒƒæ•°ã€‚æ³¨æ„ Kingma å’Œ Ba ä¹Ÿå°† $\beta_2$ å‚æ•°åŒ–ä¸º $\beta_2^p$ï¼š</p><script type="math/tex; mode=display">v\_t = \beta\_2^p v\_{t-1} + (1 - \beta\_2^p) |g\_t|^p</script><p>å½“ $p$ éå¸¸å¤§çš„æ—¶å€™é€šå¸¸ä¼šå¯¼è‡´æ•°å€¼ä¸Šçš„ä¸ç¨³å®šï¼ˆ<em>numerically unstable</em>ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯å®é™…ä¸­é€šå¸¸ä½¿ç”¨ $\ell_1$ å’Œ $\ell_2$ çš„åŸå› ã€‚ç„¶è€Œï¼Œ$\ell_\infty$ é€šå¸¸ä¹Ÿä¼šæ¯”è¾ƒç¨³å®šã€‚å› æ­¤ï¼Œä½œè€…æå‡ºäº† AdaMaxï¼ˆKingma and Ba, 2015ï¼‰ï¼Œæ˜¾ç¤ºäº†ç»“åˆäº† $\ell_\infty$ çš„ $v_t$ ä¹Ÿèƒ½å¤Ÿæ”¶æ•›åˆ°ä¸‹é¢çš„æ›´ç¨³å®šçš„å€¼ã€‚ä¸ºäº†é¿å…ä¸ Adam æ··æ·†ï¼Œæˆ‘ä»¬ä½¿ç”¨ $u_t$ æ¥è¡¨ç¤ºæ— é™èŒƒæ•°çº¦æŸçš„ $v_t$ï¼ˆinfinity norm-constrainedï¼‰ï¼š</p><script type="math/tex; mode=display">\begin{aligned}u\_t &= \beta\_2^\infty v\_{t-1} + (1 - \beta\_2^\infty) |g\_t|^\infty\\\\              & = \max(\beta\_2 \cdot v\_{t-1}, |g\_t|)\end{aligned}</script><p>æˆ‘ä»¬ç°åœ¨å¯ä»¥å°†æ­¤åŠ è¿› Adam çš„æ›´æ–°è§„åˆ™é‡Œï¼Œç”¨ $u_t$ ä»£æ›¿ $\sqrt{\hat{v}_t} + \epsilon$ï¼Œå¾—åˆ° AdaMax çš„æ›´æ–°è§„åˆ™ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{u\_t} \hat{m}\_t</script><p>æ³¨æ„åˆ° $u_t$ ä¾èµ–äº <strong>max</strong> æ“ä½œï¼Œè¿™ä¸åƒ Adam ä¸­çš„ $m_t$ å’Œ $v_t$ é‚£æ ·å®¹æ˜“è¶‹å‘äº 0ï¼ˆ<em>bias towards zero</em>ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸éœ€è¦ä¸º $u_t$ è®¡ç®—åå·®çº æ­£çš„åŸå› ã€‚å»ºè®®çš„é»˜è®¤å€¼æ˜¯ $\eta = 0.002$ï¼Œ$\beta_1 = 0.9$ å’Œ $\beta_2 = 0.999$ ã€‚</p><h3 id="Nadam"><a href="#Nadam" class="headerlink" title="Nadam"></a>Nadam</h3><p> æ­£å¦‚å‰é¢è¯´çš„é‚£æ ·ï¼ŒAdam å¯ä»¥çœ‹æˆ RMSprop å’ŒåŠ¨é‡çš„ç»„åˆï¼šRMSprop è´¡çŒ®äº†å†å²å¹³æ–¹æ¢¯åº¦çš„æŒ‡æ•°è¡°å‡çš„å¹³å‡å€¼ $v_t$ ï¼Œè€ŒåŠ¨é‡åˆ™è´Ÿè´£å†å²æ¢¯åº¦çš„æŒ‡æ•°è¡°å‡å¹³å‡å€¼ $m_t$ ã€‚æˆ‘ä»¬ä¹Ÿçœ‹åˆ° NAG è¦ä¼˜äºæ™®é€šçš„åŠ¨é‡ã€‚</p><p>Nadamï¼ˆNesterov-accelerated Adaptive Moment Estimationï¼‰[24ï¼Œ<em>Incorporating Nesterov Momentum into Adam</em>] ç»“åˆäº† Adam å’Œ NAG ã€‚ä¸ºäº†å°† NAG èè¿› Adam ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹å…¶ä¸­çš„åŠ¨é‡é¡¹ $m_t$ ã€‚</p><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å½“å‰çš„ç¬¦å·å›é¡¾ä¸€ä¸‹åŠ¨é‡æ›´æ–°è§„åˆ™ï¼š</p><script type="math/tex; mode=display">\begin{aligned}g\_t &= \nabla\_{\theta\_t}J(\theta\_t)\\\\m\_t &= \gamma m\_{t-1} + \eta g\_t\\\\\theta_{t+1} &= \theta\_t - m\_t\end{aligned}</script><p>å…¶ä¸­ $J$ æ˜¯æˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°ï¼Œ$\gamma$ æ˜¯åŠ¨é‡è¡°å‡é¡¹ï¼Œ$\eta$ æ˜¯æˆ‘ä»¬çš„æ­¥é•¿ã€‚å°† $m_t$ ä»£å…¥ä¸Šé¢çš„ç¬¬ä¸‰ä¸ªå¼å­å±•å¼€å¾—åˆ°ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_t - ( \gamma m\_{t-1} + \eta g_t)</script><p>è¿™å†æ¬¡è¯æ˜äº†åŠ¨é‡æ›´æ–°æ¶‰åŠä¸¤ä¸ªæ–¹å‘ï¼šå…ˆå‰åŠ¨é‡å‘é‡çš„æ–¹å‘å’Œå½“å‰æ¢¯åº¦çš„æ–¹å‘ã€‚</p><p>åœ¨è®¡ç®—æ¢¯åº¦å‰é€šè¿‡åŠ¨é‡æ›´æ–°å‚æ•°ï¼Œè¿™ä½¿å¾— NAG å…è®¸æˆ‘ä»¬åœ¨æ¢¯åº¦æ–¹å‘ä¸Šæ‰§è¡Œä¸€ä¸ªæ›´å‡†ç¡®çš„æ­¥éª¤ã€‚å› æ­¤æˆ‘ä»¬åªéœ€æ›´æ”¹ $g_t$ æ¥å°† NAG èè¿›å»ï¼š</p><script type="math/tex; mode=display">\begin{aligned}g\_t &= \nabla\_{\theta\_t}J(\theta\_t - \gamma m\_{t-1})\\\\m\_t &= \gamma m_{t-1} + \eta g\_t\\\\\theta\_{t+1} &= \theta\_t - m\_t\end{aligned}</script><p>Dozat æå‡ºæŒ‰ä»¥ä¸‹æ–¹å¼æ¥ä¿®æ”¹ NAG ï¼šä¸åº”ç”¨åŠ¨é‡æ­¥éª¤ä¸¤æ¬¡ä¸åŒçš„æ˜¯ â€”â€” ä¸€æ¬¡ç”¨æ¥æ›´æ–°æ¢¯åº¦ $g<em>t$ å’Œ ä¸€æ¬¡ç”¨æ¥æ›´æ–°å‚æ•° $\theta\</em>{t+1}$ ï¼Œæˆ‘ä»¬ç°åœ¨ç›´æ¥å¯¹å½“å‰å‚æ•°åº”ç”¨ä¸€ä¸ªã€Œå‘å‰çœ‹çš„ã€ï¼ˆ<em>look-ahead</em>ï¼‰åŠ¨é‡å‘é‡ï¼š</p><script type="math/tex; mode=display">\begin{aligned}g\_t &= \nabla\_{\theta\_t}J(\theta\_t)\\\\m\_t &= \gamma m\_{t-1} + \eta g\_t\\\\\theta\_{t+1} &= \theta\_t - (\gamma m\_t + \eta g\_t)\end{aligned}</script><p>æ³¨æ„æˆ‘ä»¬ç°åœ¨ä¸å†ä½¿ç”¨å¦‚ä¸Šé¢å±•å¼€çš„åŠ¨é‡æ›´æ–°è§„åˆ™ä¸­çš„å…ˆå‰åŠ¨é‡å‘é‡ $m_{t-1}$ ï¼Œè€Œæ˜¯ä½¿ç”¨å½“å‰åŠ¨é‡å‘é‡ $m_t$ æ¥ã€Œå‘å‰çœ‹ã€ã€‚ä¸ºäº†å°† Nesterov åŠ¨é‡åŠ è¿› Adam ï¼Œç›¸ä¼¼åœ°æˆ‘ä»¬å¯ä»¥ç”¨å½“å‰åŠ¨é‡å‘é‡ä»£æ›¿å…ˆå‰åŠ¨é‡å‘é‡ã€‚é¦–é€‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ Adam çš„æ›´æ–°è§„åˆ™ï¼ˆæ³¨æ„æˆ‘ä»¬ä¸ç”¨ä¿®æ”¹ $\hat v_t$ï¼‰ï¼š</p><script type="math/tex; mode=display">\begin{aligned} m\_t &= \beta\_1 m\_{t-1} + (1 - \beta\_1) g\_t\\\\\hat{m}\_t & = \frac{m\_t}{1 - \beta^t\_1}\\\\\theta\_{t+1} &= \theta\_{t} - \frac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} \hat{m}\_t\end{aligned}</script><p>å°† $\hat m_t$ å’Œ $m_t$ å®šä¹‰ä»£å…¥å±•å¼€å¾—åˆ°ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} (\dfrac{\beta\_1 m\_{t-1}}{1 - \beta^t\_1} + \dfrac{(1 - \beta\_1) g\_t}{1 - \beta^t\_1})</script><p>æ³¨æ„åˆ° $\dfrac{m_{t-1}}{1-\beta_1^t}$ æ˜¯å…ˆå‰åŠ¨é‡å‘é‡ $m_{t-1}$ çš„åå·®ä¿®æ­£ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ $m_{t-1}$ æ¥ä»£æ›¿ä¹‹ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} (\beta\_1 \hat{m}\_{t-1} + \dfrac{(1 - \beta\_1) g\_t}{1 - \beta^t_1})</script><p>è¿™ä¸ªå¼å­ä¸æˆ‘ä»¬ä¸Šé¢å±•å¼€å¾—åˆ°çš„åŠ¨é‡æ›´æ–°è§„åˆ™éå¸¸ç›¸ä¼¼ã€‚æˆ‘ä»¬å¯ä»¥åŠ è¿› Nesterov åŠ¨é‡ï¼Œå°±åƒæˆ‘ä»¬ä¹‹å‰ä¸€æ ·ç®€å•åœ°ç”¨å½“å‰åŠ¨é‡å‘é‡çš„åå·®ä¿®æ­£ä¼°è®¡ $\hat m<em>t$ æ¥ä»£æ›¿å…ˆå‰åŠ¨é‡å‘é‡çš„åå·®ä¿®æ­£ä¼°è®¡ $\hat m</em>{t-1}$ï¼Œå¾—åˆ° Nadam çš„æ›´æ–°è§„åˆ™ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} (\beta\_1 \hat{m}\_t + \dfrac{(1 - \beta\_1) g\_t}{1 - \beta^t_1})</script><h3 id="Visualization-of-algorithms"><a href="#Visualization-of-algorithms" class="headerlink" title="Visualization of algorithms"></a>Visualization of algorithms</h3><p>ä¸‹é¢çš„ä¸¤ä¸ªåŠ¨ç”»ï¼ˆæ¥è‡ª <a href="https://twitter.com/alecrad" target="_blank" rel="noopener">Alec Radford</a>ï¼‰æä¾›äº†å¯¹å½“å‰ä¼˜åŒ–ç®—æ³•è¡Œä¸ºçš„ç›´è§‚è§£é‡Šã€‚ä¹Ÿå¯ä»¥åœ¨ <a href="http://cs231n.github.io/neural-networks-3/" target="_blank" rel="noopener">è¿™é‡Œ</a> æŸ¥çœ‹ Karpathy å¯¹è¿™äº›åŠ¨ç”»çš„æè¿°å’Œå¯¹æˆ‘ä»¬è®¨è®ºè¿‡çš„ç®—æ³•çš„è§£é‡Šã€‚</p><p><img src="http://ruder.io/content/images/2016/09/contours_evaluation_optimizers.gif" alt="SGD optimization on loss surface contours"><br><em>å›¾ 5ï¼šåœ¨æŸå¤±æ›²é¢ç­‰å€¼çº¿ä¸Šçš„ SGD ä¼˜åŒ–</em></p><p>åœ¨å›¾ 5 ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»–ä»¬åœ¨æŸå¤±æ›²é¢çš„ç­‰å€¼çº¿ä¸Šï¼ˆ<a href="https://www.sfu.ca/~ssurjano/beale.html" target="_blank" rel="noopener">the Beale function</a>ï¼‰éšæ—¶é—´çš„å˜åŒ–è¶‹åŠ¿ã€‚æ³¨æ„åˆ° Adadelta ã€Adagrad å’Œ RMSprop å‡ ä¹ç«‹å³å¼€å§‹åœ¨æ­£ç¡®çš„æ–¹å‘ä¸‹é™å¹¶æ”¶æ•›é€Ÿåº¦å‡ ä¹ä¸€æ ·å¿«ï¼Œç„¶è€ŒåŠ¨é‡å’Œ NAG åˆ™ã€Œè„±è½¨ã€äº†ã€‚ä¸è¿‡ç”±äº NAG çš„ã€Œå‘å‰çœ‹ã€èƒ½åŠ›ä½¿å…¶å¾ˆå¿«çš„çº æ­£æ–¹å‘å¹¶æœç€æœ€å°ç‚¹å‰è¿›ã€‚</p><blockquote><p><em>è¯‘è€…æ³¨ï¼šæ–¹ä¾¿èµ·è§æˆ‘æŠŠ Beale å‡½æ•°çš„å›¾åƒå’Œè§£æå¼æ”¾åœ¨è¿™é‡Œã€‚</em></p><p><img src="https://www.sfu.ca/~ssurjano/beale.png" alt="Beale Function"></p><script type="math/tex; mode=display">f(\mathbf x) = (1.5-x_1+x_1x_2)^2 + (2.25-x_1+x_1x_2^2)^2 + (2.625-x_1+x_1+x_2^3)^2</script><p>é€šå¸¸æ¥è¯´è¯¥å‡½æ•°çš„å®šä¹‰åŸŸä¸º $x_i \in [-4.5, 4.5]$ ï¼Œå…¶ä¸­ $i = 1, 2$ ã€‚å…¨å±€æœ€å°ç‚¹ä¸º $f(\mathbf{x^*}) = 0$ ï¼Œå½“ $\mathbf{x^*} = (3, 0.5)$ æ—¶ ã€‚</p></blockquote><p><img src="http://ruder.io/content/images/2016/09/saddle_point_evaluation_optimizers.gif" alt="SGD optimization on saddle point"><br><em>å›¾ 6ï¼šåœ¨éç‚¹å¤„çš„ SGD ä¼˜åŒ–</em></p><p>å›¾ 6 æ˜¾ç¤ºäº†åœ¨éç‚¹å¤„çš„ç®—æ³•è¡Œä¸ºï¼Œå³è¯¥ç‚¹åœ¨ä¸€ä¸ªæ–¹å‘æ–œç‡ä¸ºæ­£ï¼Œå…¶ä»–æ–¹å‘æ–œç‡ä¸ºè´Ÿï¼Œæ­£å¦‚æˆ‘ä»¬ä¹‹å‰æåˆ°çš„è¿™å¯¹äº SGD æ˜¯ä¸€ä¸ªéš¾ç‚¹ã€‚æ³¨æ„åˆ° SGD ã€åŠ¨é‡å’Œ NAG å¾ˆéš¾æ‰“ç ´å¯¹ç§°æ€§ï¼Œå°½ç®¡åä¸¤è€…æœ€ç»ˆé€ƒç¦»çš„éç‚¹ï¼Œä½†æ˜¯ Adagrad ã€RMSprop å’Œ Adadelta å¾ˆå¿«æœç€æ–œç‡ä¸ºè´Ÿçš„æ–¹å‘å‰è¿›äº†ã€‚</p><p>å¯ä»¥çœ‹åˆ°è‡ªé€‚åº”å­¦ä¹ ç‡çš„æ–¹æ³•ï¼Œä¾‹å¦‚ Adagrad ã€Adadelta ã€RMSprop å’Œ Adam åœ¨è¿™äº›åœºæ™¯ä¸­æ˜¯æœ€åˆé€‚çš„å¹¶ä¸”æä¾›äº†æœ€å¥½çš„æ”¶æ•›ã€‚</p><h3 id="Which-optimizer-to-use"><a href="#Which-optimizer-to-use" class="headerlink" title="Which optimizer to use?"></a>Which optimizer to use?</h3><p>é‚£ä¹ˆï¼Œä½ åº”è¯¥ä½¿ç”¨å“ªç§ä¼˜åŒ–ç®—æ³•å‘¢ï¼Ÿå¦‚æœä½ çš„æ•°æ®æ¯”è¾ƒç¨€ç–ï¼Œé‚£ä¹ˆä½¿ç”¨è‡ªé€‚åº”å­¦ä¹ ç‡çš„ç®—æ³•å¾ˆå¯èƒ½ä¼šè®©ä½ å¾—åˆ°æœ€å¥½çš„ç»“æœã€‚å¦å¤–ä¸€ä¸ªå¥½å¤„æ˜¯ä½ ä¸ç”¨å»è°ƒèŠ‚å­¦ä¹ ç‡ï¼Œä½¿ç”¨é»˜è®¤çš„è®¾ç½®å¯èƒ½å°±ä¼šè®©ä½ è¾¾åˆ°æœ€å¥½çš„æ•ˆæœã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒRMSprop æ˜¯ Adagrad çš„ä¸€ç§æ‰©å±•ï¼Œç”¨æ¥è§£å†³åè€…å­¦ä¹ ç‡é€æ¸é€’å‡çš„é—®é¢˜ã€‚å®ƒå’Œ Adadelta éå¸¸åƒï¼Œé™¤äº† Adadelta åœ¨æ›´æ–°è§„åˆ™çš„åˆ†å­ä¸Šä½¿ç”¨å‚æ•°æ›´æ–°çš„ RMS ï¼ˆ<em>è¯‘è€…æ³¨ï¼šå‡æ–¹è¯¯å·®</em>ï¼‰ã€‚Adam æœ€ç»ˆåœ¨ RMSprop çš„åŸºç¡€ä¸ŠåŠ äº†åå·®ä¿®æ­£å’ŒåŠ¨é‡ã€‚åœ¨è¿™æ–¹é¢ï¼ŒRMSprop ã€Adadelta å’Œ Adam éå¸¸ç›¸ä¼¼ï¼Œåœ¨ç›¸ä¼¼çš„ç¯å¢ƒä¸‹ä¹Ÿè¡¨ç°åœ°ä¸€æ ·å¥½ã€‚Kingma ç­‰äºº [15ï¼Œ<em>Adam: a Method for Stochastic Optimization</em>] è¡¨ç¤ºéšç€æ¢¯åº¦è¶Šæ¥è¶Šç¨€ç–ï¼ŒAdam çš„åå·®ä¿®æ­£ä½¿å…¶ç•¥å¾®ä¼˜äº RMSprop ã€‚åœ¨è¿™ä¸ªæ–¹é¢æ€»ä½“ä¸Šæ¥è¯´ Adam å¯èƒ½æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p><p>æœ‰è¶£çš„æ˜¯ï¼Œè®¸å¤šæœ€è¿‘çš„è®ºæ–‡ä»…ä»…ä½¿ç”¨æ™®é€šçš„ä¸å¸¦åŠ¨é‡ SGD å’Œä¸€ä¸ªç®€å•çš„å­¦ä¹ ç‡é€€ç«æœºåˆ¶ï¼ˆ<em>annealing schedule</em>ï¼‰ã€‚æ­£å¦‚æˆ‘ä»¬å‰é¢æ‰€è®¨è®ºçš„ï¼ŒSGD é€šå¸¸ä¼šæ‰¾åˆ°æœ€ä¼˜ç‚¹ï¼Œä½†æ˜¯ç›¸æ¯”å…¶ä»–ä¸€äº›ä¼˜åŒ–ç®—æ³•å¯èƒ½èŠ±è´¹çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œæ›´ä¾èµ–äºä¸€ä¸ªå¥½çš„åˆå§‹åŒ–å’Œé€€ç«æœºåˆ¶ï¼Œè€Œä¸”ä¹Ÿå¯èƒ½é™·å…¥éç‚¹è€Œä¸æ˜¯å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚æ‰€ä»¥ï¼Œ<strong>å¦‚æœä½ æ¯”è¾ƒå…³å¿ƒæ”¶æ•›é€Ÿåº¦å¹¶ä¸”åœ¨è®­ç»ƒä¸€ä¸ªæ·±åº¦æˆ–è€…å¤æ‚çš„ç¥ç»ç½‘ç»œï¼Œä½ åº”è¯¥é€‰æ‹©ä¸€ä¸ªè‡ªé€‚åº”å­¦ä¹ ç‡ç®—æ³•ã€‚</strong></p><hr><h2 id="Parallelizing-and-distributing-SGD"><a href="#Parallelizing-and-distributing-SGD" class="headerlink" title="Parallelizing and distributing SGD"></a>Parallelizing and distributing SGD</h2><p>é‰´äºå¤§æ•°æ®è§£å†³æ–¹æ¡ˆçš„æ™®åŠä»¥åŠä½ä»·é›†ç¾¤çš„å¯ç”¨æ€§ï¼Œä½¿ç”¨åˆ†å¸ƒå¼ SGD æ¥è¿›ä¸€æ­¥åŠ é€Ÿè®­ç»ƒæ˜¯ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„é€‰æ‹©ã€‚SGD æœ¬è´¨ä¸Šæ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼šæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æœç€æœ€ä¼˜ç‚¹å‰è¿›ã€‚SGD æä¾›äº†è¾ƒå¥½çš„æ”¶æ•›ä½†æ˜¯åœ¨å¤§æ•°æ®é›†ä¸Šå¯èƒ½ä¼šé€Ÿåº¦è¾ƒæ…¢ã€‚ç›¸åï¼Œå¼‚æ­¥æ‰§è¡Œ SGD æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯ worker ä¹‹é—´ä¸ç†æƒ³çš„é€šä¿¡å¯èƒ½ä¼šé€ æˆæ¯”è¾ƒå·®çš„æ”¶æ•›ã€‚å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸éœ€è¦å¤§å‹è®¡ç®—é›†ç¾¤ï¼Œåœ¨ä¸€å°æœºå™¨ä¸Šå¹¶è¡Œæ‰§è¡Œ SGD ã€‚ä¸‹é¢æ˜¯ç›®å‰æå‡ºçš„ç”¨äºä¼˜åŒ–å¹¶è¡Œå’Œåˆ†å¸ƒå¼ SGD çš„ç®—æ³•å’Œæ¶æ„ã€‚</p><h3 id="Hogwild"><a href="#Hogwild" class="headerlink" title="Hogwild!"></a>Hogwild!</h3><p>Niu ç­‰äºº [23ï¼Œ<em>Hogwild! : A Lock-Free Approach to Parallelizing Stochastic Gradient Descent</em>] å¼•å…¥äº†ä¸€ä¸ªæ›´æ–°æœºåˆ¶ç§°ä¸º Hogwild!ï¼Œå¯ä»¥åœ¨ CPU ä¸Šå¹¶è¡Œæ‰§è¡Œ SGD ã€‚å¤„ç†å™¨å¯ä»¥åœ¨ä¸é”å‚æ•°çš„æƒ…å†µä¸‹è®¿é—®å…±äº«å†…å­˜ã€‚ç”±äºæ²¡æ¬¡æ›´æ–°åªä¿®æ”¹ä¸€éƒ¨åˆ†å‚æ•°ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•åªé€‚åˆäºè¾“å…¥æ•°æ®æ¯”è¾ƒç¨€ç–çš„æƒ…å†µã€‚ä»–ä»¬è¡¨æ˜åœ¨è¿™ç§æƒ…å†µä¸‹è¯¥æ–¹æ³•å¯ä»¥è¾¾åˆ°å‡ ä¹æœ€ä¼˜çš„æ”¶æ•›é€Ÿåº¦ï¼Œå› ä¸ºå¤„ç†å™¨æ˜¯ä¸å¤ªå¯èƒ½è¦†ç›–æœ‰ç”¨ä¿¡æ¯çš„ã€‚</p><h3 id="Downpour-SGD"><a href="#Downpour-SGD" class="headerlink" title="Downpour SGD"></a>Downpour SGD</h3><p>Downpour SGD æ˜¯ä¸€ç§ SGD çš„å¼‚æ­¥å˜ä½“ï¼Œç”± Dean ç­‰äºº [4ï¼Œ<em>Large Scale Distributed Deep Networks</em>] åœ¨è°·æ­Œçš„ DistBelief æ¡†æ¶ï¼ˆTensorFlow çš„å‰èº«ï¼‰ä¸­ä½¿ç”¨ã€‚å®ƒåœ¨è®­ç»ƒæ•°æ®çš„å­é›†ä¸Šå¹¶è¡Œçš„è¿è¡Œä¸€ä¸ªæ¨¡å‹çš„å¤šä¸ªå‰¯æœ¬ã€‚è¿™äº›æ¨¡å‹å°†ä»–ä»¬çš„æ›´æ–°å‘é€åˆ°ä¸€ä¸ªå‚æ•°æœåŠ¡å™¨ï¼Œä»–ä»¬åˆ†å¸ƒåœ¨å¤šä¸ªæœºå™¨ä¸Šã€‚æ¯ä¸ªæœºå™¨åªè´Ÿè´£å­˜å‚¨å’Œæ›´æ–°å…¨éƒ¨æ¨¡å‹å‚æ•°çš„ä¸€éƒ¨åˆ†ã€‚ç„¶è€Œç”±äºè¿™äº›æœºå™¨å¹¶ä¸éœ€è¦ç›¸äº’é€šä¿¡ï¼Œä¾‹å¦‚å…±äº«æƒé‡æˆ–è€…æ›´æ–°ï¼Œå¯¼è‡´ä»–ä»¬çš„å‚æ•°ä¸€ç›´æœ‰å‘æ•£çš„é£é™©ï¼Œé˜»ç¢æ”¶æ•›ã€‚</p><h3 id="Delay-tolerant-Algorithms-for-SGD"><a href="#Delay-tolerant-Algorithms-for-SGD" class="headerlink" title="Delay-tolerant Algorithms for SGD"></a>Delay-tolerant Algorithms for SGD</h3><p>McMahan å’Œ Streeter [12ï¼Œ<em>Delay-Tolerant Algorithms for Asynchronous Distributed Online Learning</em>] é€šè¿‡å¼€å‘ä¸€ä¸ªå»¶è¿Ÿå®¹å¿ï¼ˆdelay-tolerantï¼‰ç®—æ³•æ¥æ‰©å±• Adagrad ä½¿å…¶å¹¶è¡ŒåŒ–ï¼Œè¯¥ç®—æ³•ä¸ä»…è‡ªé€‚åº”å†å²æ¢¯åº¦ï¼Œè€Œä¸”ä¹Ÿæ›´æ–°å»¶è¿Ÿï¼ˆdelaysï¼‰ã€‚åœ¨å®é™…ä¸­ä¹Ÿè¢«è¯æ˜è¯¥æ–¹æ³•å¾ˆæœ‰æ•ˆã€‚</p><h3 id="TensorFlow"><a href="#TensorFlow" class="headerlink" title="TensorFlow"></a>TensorFlow</h3><p>TensorFlow [13ï¼Œ<em>TensorFlow : Large-Scale Machine Learning on Heterogeneous Distributed System</em>] æ˜¯ Google æœ€è¿‘å¼€æºçš„ç”¨äºå®ç°å’Œéƒ¨ç½²å¤§è§„æ¨¡æœºå™¨å­¦ä¹ æ¨¡å‹çš„æ¡†æ¶ã€‚TensorFlow åŸºäºä»–ä»¬ä½¿ç”¨ DistBelief çš„ç»éªŒï¼Œå¹¶ä¸”å·²ç»åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œç”¨äºåœ¨å¤§èŒƒå›´çš„ç§»åŠ¨è®¾å¤‡å’Œå¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šæ‰§è¡Œè®¡ç®—ã€‚åˆ†å¸ƒå¼æ‰§è¡Œä¸­ï¼Œä¸€ä¸ªè®¡ç®—å›¾é’ˆå¯¹æ¯ä¸€ä¸ªè®¾å¤‡è¢«æ‹†åˆ†æˆå¤šä¸ªå­å›¾ï¼Œä½¿ç”¨å‘é€/æ¥æ”¶èŠ‚ç‚¹å¯¹è¿›è¡Œé€šä¿¡ã€‚</p><h3 id="Elastic-Averaging-SGD"><a href="#Elastic-Averaging-SGD" class="headerlink" title="Elastic Averaging SGD"></a>Elastic Averaging SGD</h3><p>Zhang ç­‰äºº [14ï¼Œ<em>Deep learning with Elastic Averaging SGD</em>] æå‡ºäº† Elastic Averaging SGDï¼ˆEASGDï¼‰ï¼Œå°†å¼‚æ­¥ SGD ä¸­æ¯ä¸ª worker å‚æ•°ç”¨ä¸€ä¸ªã€Œå¼¹åŠ›ã€ï¼ˆ<em>elastic force</em>ï¼‰è¿æ¥èµ·æ¥ï¼Œå³ä¸€ä¸ªç”±å‚æ•°æœåŠ¡å™¨ä¿å­˜çš„ä¸­å¿ƒå˜é‡ã€‚è¿™å…è®¸æœ¬åœ°å˜é‡åœ¨ä¸­å¿ƒå˜é‡é™„è¿‘è¿›ä¸€æ­¥éœ‡è¡ï¼Œè¿™ç†è®ºä¸Šå¯ä»¥åœ¨æ›´å¤§çš„å‚æ•°ç©ºé—´ä¸­è¿›è¡Œæ¢ç´¢ã€‚ä»–ä»¬ä»¥ç»éªŒè¯æ˜è¿™ç§å¢åŠ çš„æ¢ç´¢èƒ½åŠ›å¯ä»¥å¯»æ‰¾æ–°çš„å±€éƒ¨æœ€ä¼˜ç‚¹ä»è€Œæå‡æ€§èƒ½ã€‚</p><hr><h2 id="Additional-strategies-for-optimizing-SGD"><a href="#Additional-strategies-for-optimizing-SGD" class="headerlink" title="Additional strategies for optimizing SGD"></a>Additional strategies for optimizing SGD</h2><p>æœ€åï¼Œæˆ‘ä»¬ä»‹ç»ä¸€äº›å¯ä»¥å’Œå‰é¢è®¨è®ºçš„ç®—æ³•ä¸€èµ·ä½¿ç”¨çš„ç­–ç•¥ï¼Œç”¨ä»¥è¿›ä¸€æ­¥æå‡ SGD çš„æ€§èƒ½ã€‚å¯¹äºä¸€äº›å…¶ä»–å¸¸ç”¨çš„æŠ€å·§ï¼Œå¯ä»¥å‚è§ [22ï¼Œ<em>Efficient BackProp. Neural Networks: Tricks of the Trade</em>] ã€‚</p><h3 id="Shuffling-and-Curriculum-Learning"><a href="#Shuffling-and-Curriculum-Learning" class="headerlink" title="Shuffling and Curriculum Learning"></a>Shuffling and Curriculum Learning</h3><p>é€šå¸¸ï¼Œæˆ‘ä»¬æƒ³è¦é¿å…ç»™æ¨¡å‹æä¾›çš„è®­ç»ƒæ•°æ®æ˜¯æœ‰ç‰¹å®šé¡ºåºçš„ï¼Œå› ä¸ºè¿™ä¼šä½¿æ¨¡å‹å¸¦æœ‰åè§ã€‚å› æ­¤ï¼Œæ¯æ¬¡è¿­ä»£å®Œä¹‹åæ‰“ä¹±è®­ç»ƒæ•°æ®æ˜¯ä¸€ä¸ªå¾ˆå¥½åœ°æƒ³æ³•ã€‚</p><p>ä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œæœ‰äº›æƒ…å†µä¸‹æˆ‘ä»¬æƒ³è¦é€æ­¥è§£å†³æ›´éš¾çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†è®­ç»ƒæ•°æ®ä»¥ä¸€ç§æœ‰æ„ä¹‰çš„é¡ºåºæä¾›ç»™æ¨¡å‹ï¼Œè¿™å¯èƒ½ä¼šæå‡æ€§èƒ½å’Œå¾—åˆ°æ›´å¥½çš„æ”¶æ•›ã€‚æ„å»ºè¿™ç§æœ‰æ„ä¹‰çš„é¡ºåºçš„æ–¹æ³•ç§°ä¸ºè¯¾ç¨‹å­¦ä¹ ï¼ˆ<em>Curriculum Learning</em>ï¼‰[16ï¼Œ<em>Curriculum learning</em>] ã€‚</p><p>Zaremba å’Œ Sutskever [17ï¼Œ<em>Learning to Execute</em>] åªèƒ½è®­ç»ƒ LSTMs æ¥è¯„ä¼°ä½¿ç”¨è¯¾ç¨‹å­¦ä¹ çš„ç®€å•ç¨‹åºï¼Œè€Œä¸”è¡¨æ˜ç»„åˆæˆ–è€…æ··åˆçš„æ–¹æ³•è¦æ¯”å•ä¸€æ–¹æ³•æ›´æœ‰æ•ˆï¼Œé€šè¿‡å¢åŠ éš¾åº¦æ¥æ’åºæ ·æœ¬ã€‚</p><h3 id="Batch-normalization"><a href="#Batch-normalization" class="headerlink" title="Batch normalization"></a>Batch normalization</h3><p>ä¸ºæ–¹ä¾¿å­¦ä¹ ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæ­£è§„åŒ–ï¼ˆ<em>normalize</em>ï¼‰å‚æ•°çš„åˆå§‹å€¼ï¼Œä»¥ 0 å‡å€¼å’Œå•ä½æ–¹å·®æ¥åˆå§‹åŒ–ã€‚éšç€è®­ç»ƒçš„è¿›è¡Œå’Œæˆ‘ä»¬å°†å‚æ•°æ›´æ–°åˆ°ä¸åŒçš„ç¨‹åº¦ï¼Œæˆ‘ä»¬æŸå¤±äº†è¿™ç§æ­£è§„åŒ–ï¼Œå¯¼è‡´è®­ç»ƒé€Ÿåº¦å˜æ…¢å¹¶ä¸”éšç€ç½‘ç»œè¶Šæ¥è¶Šæ·±ï¼Œè¿™ç§å½±å“è¢«æ¸æ¸æ”¾å¤§ã€‚</p><p>Batch normalization [18ï¼Œ<em>Batch Normalization : Accelerating Deep Network Training by Reducing Internal Covariate Shift</em>] é‡æ–°ä¸ºæ¯ä¸€ä¸ª mini-batch å»ºç«‹äº†è¿™ç§æ­£è§„åŒ–å¹¶ä¸”å˜åŒ–ä¹Ÿä¼šéšç€è¿™ä¸ªæ“ä½œåå‘ä¼ æ’­ã€‚é€šè¿‡åœ¨æ¨¡å‹ä¸­åŠ å…¥æ­£è§„åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´é«˜çš„å­¦ä¹ ç‡è€Œä¸”ä¸ç”¨å¤ªå…³å¿ƒå‚æ•°çš„åˆå§‹åŒ–ã€‚Batch normalization æ­¤å¤–ä¹Ÿæ‰®æ¼”è€…æ­£åˆ™åŒ–çš„è§’è‰²ï¼Œå¯ä»¥å‡å°‘ï¼ˆç”šè‡³æœ‰äº›æ—¶å€™æ¶ˆé™¤ï¼‰Dropout çš„éœ€è¦.</p><h3 id="Early-stopping"><a href="#Early-stopping" class="headerlink" title="Early stopping"></a>Early stopping</h3><p>æ ¹æ® Geoff Hinton: &quot;<em>Early stopping (is) beautiful free lunch</em>&quot;ï¼ˆ<a href="http://www.iro.umontreal.ca/~bengioy/talks/DL-Tutorial-NIPS2015.pdf" target="_blank" rel="noopener">NIPS 2015 Tutorial slides</a>ï¼Œslide 63ï¼‰ï¼Œä½ åº”è¯¥åœ¨è®­ç»ƒæ—¶æ—¶åˆ»ç›‘è§†ç€éªŒè¯é›†è¯¯å·®ï¼Œå¹¶ä¸”åœ¨ä½ çš„éªŒè¯é›†è¯¯å·®ä¸å†è¶³å¤Ÿåœ°é™ä½æ—¶åœæ­¢è®­ç»ƒã€‚</p><h3 id="Gradient-noise"><a href="#Gradient-noise" class="headerlink" title="Gradient noise"></a>Gradient noise</h3><p>Neelakantan ç­‰äºº [21ï¼Œ<em>Adding Gradient Noise Improves Learning for Very Deep Network</em>] åœ¨æ¯æ¬¡æ¢¯åº¦æ›´æ–°æ—¶åŠ ä¸Šä¸€ä¸ªæœä»é«˜æ–¯åˆ†å¸ƒ $N(0, \sigma_t^2)$ çš„å™ªå£°ï¼š</p><script type="math/tex; mode=display">g\_{t, i} = g\_{t, i} + N(0, \sigma^2_t)</script><p>ä»–ä»¬ä¾ç…§ä¸‹é¢çš„å…¬å¼æ›´æ–°ï¼ˆ<em>anneal</em>ï¼‰æ–¹å·®ï¼š</p><script type="math/tex; mode=display">\sigma^2_t = \dfrac{\eta}{(1 + t)^\gamma}</script><p>ä»–ä»¬è¡¨æ˜æ·»åŠ è¿™ä¸ªå™ªå£°ä½¿å¾—ç½‘ç»œå¯¹è¾ƒå·®çš„åˆå§‹åŒ–æ›´å…·æœ‰é²æ£’æ€§å¹¶ä¸”å°¤å…¶å¯¹è®­ç»ƒæ·±åº¦å’Œå¤æ‚çš„ç½‘ç»œå¾ˆæœ‰å¸®åŠ©ã€‚ä»–ä»¬æ€€ç–‘æ·»åŠ çš„å™ªå£°ä½¿å¾—æ¨¡å‹æœ‰æ›´å¤šæœºä¼šé€ƒç¦»å’Œæ‰¾åˆ°æ–°çš„å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œè¿™åœ¨æ·±åº¦æ¨¡å‹ä¸­å¾ˆå¸¸è§ã€‚</p><hr><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆçœ‹äº†æ¢¯åº¦ä¸‹é™çš„ 3 ä¸­å˜ä½“ï¼Œå…¶ä¸­ mini-batch æ¢¯åº¦ä¸‹é™æœ€æµè¡Œã€‚æˆ‘ä»¬ç„¶åç ”ç©¶äº†å‡ ç§æœ€å¸¸ä½¿ç”¨çš„ç”¨äºä¼˜åŒ– SGD çš„ç®—æ³•ï¼šåŠ¨é‡ï¼ŒNesterov accelerated gradientï¼ŒAdagradï¼ŒAdadeltaï¼ŒRMSpropï¼ŒAdam ä»¥åŠä¸ºä¼˜åŒ–å¼‚æ­¥ SGD çš„ä¸åŒç®—æ³•ã€‚æœ€åï¼Œæˆ‘ä»¬è€ƒè™‘äº†ç”¨äºæå‡ SGD æ€§èƒ½çš„å…¶ä»–ç­–ç•¥ï¼Œä¾‹å¦‚ shuffling ä¸ curriculum learningï¼Œbatch normalization ä»¥åŠ early stoppingã€‚æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥ç»™ä½ æä¾›ä¸€ä¸ªå…³äºä¸åŒä¼˜åŒ–ç®—æ³•çš„è¡Œä¸ºå’ŒåŠ¨æœºçš„ç›´è§‚ç†è§£ã€‚</p><hr><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol><li>Sutton, R. S. (1986). Two problems with backpropagation and other steepest-descent learning procedures for networks. Proc. 8th Annual Conf. Cognitive Science Society.</li><li>Qian, N. (1999). On the momentum term in gradient descent learning algorithms. Neural Networks : The Official Journal of the International Neural Network Society, 12(1), 145â€“151. <a href="http://doi.org/10.1016/S0893-6080(98)00116-6" target="_blank" rel="noopener">http://doi.org/10.1016/S0893-6080(98)00116-6</a></li><li>Duchi, J., Hazan, E., &amp; Singer, Y. (2011). Adaptive Subgradient Methods for Online Learning and Stochastic Optimization. Journal of Machine Learning Research, 12, 2121â€“2159. Retrieved from <a href="http://jmlr.org/papers/v12/duchi11a.html" target="_blank" rel="noopener">http://jmlr.org/papers/v12/duchi11a.html</a></li><li>Dean, J., Corrado, G. S., Monga, R., Chen, K., Devin, M., Le, Q. V, â€¦ Ng, A. Y. (2012). Large Scale Distributed Deep Networks. NIPS 2012: Neural Information Processing Systems, 1â€“11. <a href="http://doi.org/10.1109/ICDAR.2011.95" target="_blank" rel="noopener">http://doi.org/10.1109/ICDAR.2011.95</a></li><li>Pennington, J., Socher, R., &amp; Manning, C. D. (2014). Glove: Global Vectors for Word Representation. Proceedings of the 2014 Conference on Empirical Methods in Natural Language Processing, 1532â€“1543. <a href="http://doi.org/10.3115/v1/D14-1162" target="_blank" rel="noopener">http://doi.org/10.3115/v1/D14-1162</a></li><li>Zeiler, M. D. (2012). ADADELTA: An Adaptive Learning Rate Method. Retrieved from <a href="http://arxiv.org/abs/1212.5701" target="_blank" rel="noopener">http://arxiv.org/abs/1212.5701</a></li><li>Nesterov, Y. (1983). A method for unconstrained convex minimization problem with the rate of convergence o(1/k2). Doklady ANSSSR (translated as Soviet.Math.Docl.), vol. 269, pp. 543â€“ 547.</li><li>Bengio, Y., Boulanger-Lewandowski, N., &amp; Pascanu, R. (2012). Advances in Optimizing Recurrent Networks. Retrieved from <a href="http://arxiv.org/abs/1212.0901" target="_blank" rel="noopener">http://arxiv.org/abs/1212.0901</a></li><li>Sutskever, I. (2013). Training Recurrent neural Networks. PhD Thesis.</li><li>Darken, C., Chang, J., &amp; Moody, J. (1992). Learning rate schedules for faster stochastic gradient search. Neural Networks for Signal Processing II Proceedings of the 1992 IEEE Workshop, (September), 1â€“11. <a href="http://doi.org/10.1109/NNSP.1992.253713" target="_blank" rel="noopener">http://doi.org/10.1109/NNSP.1992.253713</a></li><li>H. Robinds and S. Monro, â€œA stochastic approximation method,â€ Annals of Mathematical Statistics, vol. 22, pp. 400â€“407, 1951.</li><li>Mcmahan, H. B., &amp; Streeter, M. (2014). Delay-Tolerant Algorithms for Asynchronous Distributed Online Learning. Advances in Neural Information Processing Systems (Proceedings of NIPS), 1â€“9. Retrieved from <a href="http://papers.nips.cc/paper/5242-delay-tolerant-algorithms-for-asynchronous-distributed-online-learning.pdf" target="_blank" rel="noopener">http://papers.nips.cc/paper/5242-delay-tolerant-algorithms-for-asynchronous-distributed-online-learning.pdf</a></li><li>Abadi, M., Agarwal, A., Barham, P., Brevdo, E., Chen, Z., Citro, C., â€¦ Zheng, X. (2015). TensorFlow : Large-Scale Machine Learning on Heterogeneous Distributed Systems.</li><li>Zhang, S., Choromanska, A., &amp; LeCun, Y. (2015). Deep learning with Elastic Averaging SGD. Neural Information Processing Systems Conference (NIPS 2015), 1â€“24. Retrieved from <a href="http://arxiv.org/abs/1412.6651" target="_blank" rel="noopener">http://arxiv.org/abs/1412.6651</a></li><li>Kingma, D. P., &amp; Ba, J. L. (2015). Adam: a Method for Stochastic Optimization. International Conference on Learning Representations, 1â€“13.</li><li>Bengio, Y., Louradour, J., Collobert, R., &amp; Weston, J. (2009). Curriculum learning. Proceedings of the 26th Annual International Conference on Machine Learning, 41â€“48. <a href="http://doi.org/10.1145/1553374.1553380" target="_blank" rel="noopener">http://doi.org/10.1145/1553374.1553380</a></li><li>Zaremba, W., &amp; Sutskever, I. (2014). Learning to Execute, 1â€“25. Retrieved from <a href="http://arxiv.org/abs/1410.4615" target="_blank" rel="noopener">http://arxiv.org/abs/1410.4615</a></li><li>Ioffe, S., &amp; Szegedy, C. (2015). Batch Normalization : Accelerating Deep Network Training by Reducing Internal Covariate Shift. arXiv Preprint arXiv:1502.03167v3.</li><li>Dauphin, Y., Pascanu, R., Gulcehre, C., Cho, K., Ganguli, S., &amp; Bengio, Y. (2014). Identifying and attacking the saddle point problem in high-dimensional non-convex optimization. arXiv, 1â€“14. Retrieved from <a href="http://arxiv.org/abs/1406.2572" target="_blank" rel="noopener">http://arxiv.org/abs/1406.2572</a></li><li>Sutskever, I., &amp; Martens, J. (2013). On the importance of initialization and momentum in deep learning. <a href="http://doi.org/10.1109/ICASSP.2013.6639346" target="_blank" rel="noopener">http://doi.org/10.1109/ICASSP.2013.6639346</a></li><li>Neelakantan, A., Vilnis, L., Le, Q. V., Sutskever, I., Kaiser, L., Kurach, K., &amp; Martens, J. (2015). Adding Gradient Noise Improves Learning for Very Deep Networks, 1â€“11. Retrieved from <a href="http://arxiv.org/abs/1511.06807" target="_blank" rel="noopener">http://arxiv.org/abs/1511.06807</a></li><li>LeCun, Y., Bottou, L., Orr, G. B., &amp; MÃ¼ller, K. R. (1998). Efficient BackProp. Neural Networks: Tricks of the Trade, 1524, 9â€“50. <a href="http://doi.org/10.1007/3-540-49430-8_2" target="_blank" rel="noopener">http://doi.org/10.1007/3-540-49430-8_2</a></li><li>Niu, F., Recht, B., Christopher, R., &amp; Wright, S. J. (2011). Hogwild! : A Lock-Free Approach to Parallelizing Stochastic Gradient Descent, 1â€“22.</li><li>Dozat, T. (2016). Incorporating Nesterov Momentum into Adam. ICLR Workshop, (1), 2013â€“2016.</li><li>Duchi et al. [3] give this matrix as an alternative to the full matrix containing the outer products of all previous gradients, as the computation of the matrix square root is infeasible even for a moderate number of parameters dd.</li></ol><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åŸæ–‡ä½œè€…ç®€ä»‹ï¼š&lt;a href=&quot;http://ruder.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Sebastian Ruder&lt;/a&gt; æ˜¯æˆ‘éå¸¸å–œæ¬¢çš„ä¸€ä¸ªåšå®¢ä½œè€…ï¼Œæ˜¯ NLP æ–¹å‘çš„åšå£«ç”Ÿï¼Œç›®å‰ä¾›èŒäºä¸€å®¶åš NLP ç›¸å…³æœåŠ¡çš„çˆ±å°”å…°å…¬å¸ &lt;a href=&quot;http://aylien.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;AYLIEN&lt;/a&gt;ï¼Œåšå®¢ä¸»è¦æ˜¯å†™æœºå™¨å­¦ä¹ ã€NLP å’Œæ·±åº¦å­¦ä¹ ç›¸å…³çš„æ–‡ç« ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡åŸæ–‡æ˜¯ &lt;a href=&quot;http://ruder.io/optimizing-gradient-descent/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;An overview of gradient descent optimization algorithms&lt;/a&gt;ï¼ŒåŒæ—¶ä½œè€…ä¹Ÿåœ¨ arXiv ä¸Šå‘äº†ä¸€ç¯‡åŒæ ·å†…å®¹çš„ &lt;a href=&quot;https://arxiv.org/abs/1609.04747&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è®ºæ–‡&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡ç»“åˆäº†ä¸¤è€…æ¥ç¿»è¯‘ï¼Œä½†æ˜¯é˜…è¯»åŸæ–‡æˆ‘ä¸ªäººå»ºè®®è¯»åšå®¢ä¸­çš„ï¼Œæ„Ÿè§‰ä½“éªŒæ›´å¥½ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;æ–‡ä¸­æ‹¬å·ä¸­æˆ–è€…å¼•ç”¨å—ä¸­çš„ &lt;em&gt;æ–œä½“å­—&lt;/em&gt; ä¸ºå¯¹åº”çš„è‹±æ–‡åŸæ–‡æˆ–è€…æˆ‘è‡ªå·±æ³¨é‡Šçš„è¯ï¼ˆä¼šæ ‡æ˜ &lt;code&gt;è¯‘è€…æ³¨&lt;/code&gt;ï¼‰ï¼Œå¦åˆ™ä¸ºåŸæ–‡ä¸­æœ¬æ¥å°±æœ‰çš„è¯ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œæˆ‘åœ¨å¼•ç”¨åºå·ååŠ äº†æ‰€å¼•ç”¨è®ºæ–‡çš„é¢˜ç›®ï¼Œç”¨ &lt;em&gt;æ–œä½“å­—&lt;/em&gt; è¡¨ç¤ºï¼Œä¾‹å¦‚ Learning rate schedules [11ï¼Œ&lt;em&gt;A stochastic approximation method&lt;/em&gt;] ã€‚&lt;/li&gt;
&lt;li&gt;æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡å‡ºã€‚ç¿»è¯‘å°½é‡éµå¾ªåŸæ–‡æ„æ€ï¼Œä½†ä¸æ„å‘³ç€é€å­—é€å¥ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡ä¹Ÿæ”¾åœ¨ &lt;a href=&quot;https://github.com/secsilm/awesome-posts&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æˆ‘ GitHub ä¸Šçš„ awesome-posts é¡¹ç›®&lt;/a&gt; ä¸Šï¼Œé€‰å–æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ é¢†åŸŸå†…æ¯”è¾ƒå¥½çš„è‹±æ–‡æ–‡ç« è¿›è¡Œç¿»è¯‘ï¼Œæ¬¢è¿å„ä½ star ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="http://yoursite.com/tags/Machine-Learning/"/>
    
      <category term="Translation" scheme="http://yoursite.com/tags/Translation/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨é›†æˆå­¦ä¹ æå‡æœºå™¨å­¦ä¹ ç®—æ³•æ€§èƒ½</title>
    <link href="http://yoursite.com/2017/08/30/ensemble-methods/"/>
    <id>http://yoursite.com/2017/08/30/ensemble-methods/</id>
    <published>2017-08-30T10:47:00.000Z</published>
    <updated>2017-12-25T13:02:14.934Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¯‘è€…æ³¨ï¼šè¿™ç¯‡æ–‡ç« æ˜¯å¯¹ PythonWeekly æ¨èçš„ä¸€ç¯‡è®²é›†æˆæ¨¡å‹çš„æ–‡ç« çš„ç¿»è¯‘ï¼ŒåŸæ–‡ä¸º <a href="https://blog.statsbot.co/ensemble-learning-d1dcd548e936" target="_blank" rel="noopener">Ensemble Learning to Improve Machine Learning Results</a>ï¼Œç”± Vadim Smolyakov äº 2017 å¹´ 8 æœˆ 22 æ—¥å‘è¡¨åœ¨ Medium ä¸Šï¼ŒVadim Smolyakov æ˜¯ä¸€å MIT çš„ç ”ç©¶ç”Ÿã€‚æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿è¯„è®ºåŒºæˆ–è€…é‚®ä»¶æˆ–è€…ç§ä¿¡æŒ‡å‡ºã€‚å»ºè®®é˜…è¯»è‹±æ–‡åŸæ–‡ã€‚</p></blockquote><a id="more"></a><p><em>é›†æˆå­¦ä¹ ï¼ˆEnsemble Learningï¼‰é€šè¿‡è”åˆå‡ ä¸ªæ¨¡å‹æ¥å¸®åŠ©æé«˜æœºå™¨å­¦ä¹ ç»“æœã€‚ä¸å•ä¸€æ¨¡å‹ç›¸æ¯”ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥å¾ˆå¥½åœ°æå‡æ¨¡å‹çš„é¢„æµ‹æ€§èƒ½ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé›†æˆæ¨¡å‹åœ¨å¾ˆå¤šè‘—åæœºå™¨å­¦ä¹ æ¯”èµ›ä¸­è¢«ä¼˜å…ˆä½¿ç”¨çš„åŸå› ï¼Œä¾‹å¦‚ Netflix æ¯”èµ›ï¼ŒKDD 2009 å’Œ Kaggleã€‚</em></p><p>é›†æˆæ–¹æ³•æ˜¯ä¸€ç§å°†å‡ ç§æœºå™¨å­¦ä¹ æŠ€æœ¯ç»„åˆæˆä¸€ä¸ªé¢„æµ‹æ¨¡å‹çš„å…ƒç®—æ³•ï¼ˆmeta-algorithmï¼‰ï¼Œä»¥å‡å°æ–¹å·®ï¼ˆbaggingï¼‰ï¼Œåå·®ï¼ˆboostingï¼‰ï¼Œæˆ–è€…æ”¹è¿›é¢„æµ‹ï¼ˆstackingï¼‰ã€‚</p><p>é›†æˆæ–¹æ³•å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>åºåˆ—é›†æˆæ–¹æ³•ï¼ˆsequential ensemble methodsï¼‰ï¼ŒåŸºå­¦ä¹ å™¨ï¼ˆbase learnerï¼‰é¡ºåºç”Ÿæˆã€‚åºåˆ—æ–¹æ³•çš„åŸºæœ¬åŠ¨æœºæ˜¯<strong>åˆ©ç”¨åŸºå­¦ä¹ å™¨ä¹‹é—´çš„ä¾èµ–å…³ç³»</strong>ã€‚ç®—æ³•å¯ä»¥é€šè¿‡æé«˜è¢«åˆ†é”™æ ·æœ¬çš„æƒé‡æ¥æé«˜æ€§èƒ½ã€‚</li><li>å¹¶è¡Œé›†æˆæ–¹æ³•ï¼ˆparallel ensemble methodsï¼‰ï¼ŒåŸºå­¦ä¹ å™¨å¹¶è¡Œç”Ÿæˆã€‚å¹¶è¡Œæ–¹æ³•çš„åŸºæœ¬åŠ¨æœºæ˜¯<strong>åˆ©ç”¨åŸºå­¦ä¹ å™¨ä¹‹é—´çš„ç‹¬ç«‹æ€§</strong>ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡å¹³å‡æ¥æ˜¾è‘—é™ä½è¯¯å·®ã€‚</li></ul><p>å¤§å¤šæ•°é›†æˆæ–¹æ³•ä½¿ç”¨ä¸€ä¸ªåŸºå­¦ä¹ ç®—æ³•æ¥äº§ç”Ÿå¤šä¸ªåŒè´¨åŸºå­¦ä¹ å™¨ï¼ˆhomogeneous base learnersï¼‰ï¼Œå³ç›¸åŒç±»å‹çš„å­¦ä¹ å™¨ï¼Œè¿™å°±æ˜¯åŒè´¨é›†æˆï¼ˆhomogeneous ensemblesï¼‰ã€‚</p><p>ä¹Ÿæœ‰ä¸€äº›æ–¹æ³•ä½¿ç”¨çš„æ˜¯å¼‚è´¨å­¦ä¹ å™¨ï¼ˆheterogeneous learnerï¼‰ï¼Œå³ä¸åŒç±»å‹çš„å­¦ä¹ å™¨ï¼Œè¿™å°±æ˜¯å¼‚è´¨é›†æˆï¼ˆheterogeneous ensemblesï¼‰ã€‚ä¸ºäº†ä½¿é›†æˆæ–¹æ³•èƒ½å¤Ÿæ¯”ä»»ä½•æ„æˆå®ƒçš„å•ç‹¬çš„æ–¹æ³•æ›´å‡†ç¡®ï¼ŒåŸºå­¦ä¹ å™¨å¿…é¡»å°½å¯èƒ½çš„å‡†ç¡®å’Œå¤šæ ·ã€‚</p><hr><h2 id="Bagging"><a href="#Bagging" class="headerlink" title="Bagging"></a>Bagging</h2><p>Bagging è¡¨ç¤ºçš„æ˜¯ Bootstrap AGGregatINGã€‚é™ä½ä¸€ä¸ªä¼°è®¡çš„æ–¹å·®çš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯å¹³å‡å¤šä¸ªä¼°è®¡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªæ•°æ®é›†çš„ä¸åŒå­é›†ä¸Šï¼ˆæœ‰æ”¾å›çš„éšæœºé€‰å–ï¼‰è®­ç»ƒ $M$ ä¸ªä¸åŒçš„æ ‘ç„¶åè®¡ç®—ç»“æœçš„å¹³å‡å€¼ï¼š</p><script type="math/tex; mode=display">f(x)=\frac{1}{M}\Sigma_{m=1}^M f_m(x)</script><p>bagging ä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Bootstrapping_(statistics" target="_blank" rel="noopener">è‡ªåŠ©æŠ½æ ·æ³•</a>)ï¼ˆbootstrappingï¼‰æ¥ä¸ºæ¯ä¸ªåŸºå­¦ä¹ å™¨è·å¾—ä¸€ä¸ªæ•°æ®é›†çš„å­é›†ã€‚å¯¹äºå¦‚ä½•èšåˆå¤šä¸ªåŸºå­¦ä¹ å™¨çš„ç»“æœï¼Œbagging åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ä½¿ç”¨æŠ•ç¥¨ï¼Œè€Œåœ¨å›å½’ä»»åŠ¡é‡ä½¿ç”¨å¹³å‡ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ Iris æ•°æ®é›†ä¸Šæ‰§è¡Œåˆ†ç±»ä»»åŠ¡æ¥å­¦ä¹  baggingã€‚æˆ‘ä»¬é€‰æ‹©ä¸¤ç§åŸºå­¦ä¹ å™¨ï¼šå†³ç­–æ ‘ï¼ˆdecision treeï¼‰å’Œ kNN åˆ†ç±»å™¨ã€‚ä¸‹å›¾æ˜¾ç¤ºäº†åŸºå­¦ä¹ å™¨åœ¨ Iris ä¸Šå­¦ä¹ åˆ°çš„å†³ç­–è¾¹ç•Œå’Œä»–ä»¬ bagging é›†æˆä¹‹åå­¦ä¹ åˆ°çš„å†³ç­–è¾¹ç•Œã€‚</p><ul><li>å†³ç­–æ ‘å‡†ç¡®ç‡ï¼š0.63ï¼ˆ+/- 0.02ï¼‰</li><li>kNN å‡†ç¡®ç‡ï¼š0.70ï¼ˆ+/- 0.02ï¼‰</li><li>bagging æ ‘å‡†ç¡®ç‡ï¼š0.64ï¼ˆ+/- 0.01ï¼‰</li><li>bagging kNNå‡†ç¡®ç‡ï¼š0.59ï¼ˆ+/- 0.07ï¼‰</li></ul><p><img src="https://i.imgur.com/XA3aooQ.png" width="100%" alt="bagging"></p><center><font color="gray">*Bagging*</font></center><p>å†³ç­–æ ‘çš„è¾¹ç•Œä¸è½´å¹³è¡Œï¼Œè€Œ $k=1$ æ—¶çš„ kNN ç®—æ³•ä¸æ•°æ®ç‚¹ç´§å¯†è´´åˆã€‚è¯¥é›†æˆæ–¹æ³•ä½¿ç”¨äº† 10 ä¸ªåŸºå­¦ä¹ å™¨ï¼Œè®­ç»ƒå­é›†ç”±åŸè®­ç»ƒæ•°æ®å’Œç‰¹å¾çš„ 80% æ„æˆã€‚</p><p>å†³ç­–æ ‘é›†æˆç›¸å¯¹äº kNN é›†æˆè¾¾åˆ°äº†è¾ƒé«˜çš„å‡†ç¡®ç‡ã€‚kNN å¯¹è®­ç»ƒæ ·æœ¬çš„æ‰°åŠ¨ä¸æ•æ„Ÿï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºç¨³å®šå­¦ä¹ å™¨ï¼ˆstable learnerï¼‰ã€‚</p><blockquote><p>ç¨³å®šå­¦ä¹ å™¨çš„é›†æˆä¸å¤ªæœ‰åˆ©ï¼Œå› ä¸ºè¿™æ ·çš„é›†æˆå¹¶ä¸ä¼šæå‡æ³›åŒ–æ€§èƒ½ã€‚</p></blockquote><p>å›¾ä¸€ä¹Ÿæ˜¾ç¤ºäº†é›†æˆå¤§å°æ˜¯å¦‚ä½•æé«˜æµ‹è¯•å‡†ç¡®ç‡çš„ã€‚åŸºäºäº¤å‰éªŒè¯çš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨å¤§çº¦ 10 ä¸ªåŸºå­¦ä¹ å™¨å‰å‡†ç¡®ç‡ä¸€ç›´åœ¨å¢åŠ ï¼Œéšåè¶‹äºå¹³ç¼“ï¼Œåœ¨ 0.7 å·¦å³ä¸Šä¸‹æ³¢åŠ¨ã€‚å› æ­¤ï¼Œå†å¢åŠ è¶…è¿‡ 10 ä¸ªåŸºå­¦ä¹ å™¨ä¸ä»…æ²¡æœ‰å¾—åˆ°å‡†ç¡®ç‡çš„æå‡ï¼Œåè€Œå¢åŠ äº†è®¡ç®—å¤æ‚åº¦ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ° bagging æ ‘é›†æˆçš„å­¦ä¹ æ›²çº¿ã€‚æ³¨æ„åˆ°è®­ç»ƒæ•°æ®çš„å¹³å‡è¯¯å·®ä¸º 0.3 å’Œ æµ‹è¯•æ•°æ®çš„ U å‹è¯¯å·®æ›²çº¿ã€‚è®­ç»ƒå’Œæµ‹è¯•è¯¯å·®å·®è·æœ€å°æ—¶å‘ç”Ÿåœ¨ Training set size in percent ä¸º 80% å·¦å³ã€‚</p><blockquote><p>ä¸€ç§å¸¸ç”¨çš„é›†æˆç®—æ³•æ˜¯éšæœºæ£®æ—ã€‚</p></blockquote><p>åœ¨éšæœºæ£®æ—ç®—æ³•ä¸­ï¼Œæ¯ä¸ªæ ‘éƒ½æ˜¯åŸºäºä»åŸè®­ç»ƒæ•°æ®é›†ä¸­æœ‰æ”¾å›æŠ½æ ·ï¼ˆå³è‡ªåŠ©æŠ½æ ·æ³•ï¼‰å¾—åˆ°çš„å­é›†è®­ç»ƒçš„ã€‚å¦å¤–ï¼Œä¹Ÿå¯¹ç‰¹å¾è¿›è¡Œè‡ªåŠ©æŠ½æ ·ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å…¨éƒ¨ç‰¹å¾ã€‚</p><p>æœ€ç»ˆéšæœºæ£®æ—çš„åå·®å¯èƒ½ä¼šè½»å¾®å¢å¤§ï¼Œä½†æ˜¯ç”±äºå¹³å‡äº†å‡ ä¸ªä¸ç›¸å…³çš„æ ‘çš„ç»“æœï¼Œé™ä½äº†æ–¹å·®ï¼Œå¯¼è‡´æœ€ç»ˆæ¨¡å‹çš„æ•´ä½“æ€§èƒ½æ›´å¥½ã€‚ï¼ˆ<em>è¯‘è€…æ³¨ï¼šä¸ªäººè§‰å¾—ç±»ä¼¼äºæ—¶é—´åºåˆ—åˆ†æä¸­çš„ç§»åŠ¨å¹³å‡</em>ï¼‰</p><p><img src="https://i.imgur.com/iXTf6Ck.png" alt=""></p><p>åœ¨<a href="https://en.wikipedia.org/wiki/Random_forest#ExtraTrees" target="_blank" rel="noopener">æé™éšæœºæ ‘ï¼ˆextremely randomized treeï¼‰</a>ç®—æ³•ä¸­ï¼Œéšæœºæ€§æ›´è¿‘äº†ä¸€æ­¥ï¼šåˆ†è£‚é˜ˆå€¼æ˜¯éšæœºé€‰å–çš„ã€‚ä¸å¯»æ‰¾æœ€å…·æœ‰åˆ¤åˆ«æ€§çš„é˜ˆå€¼ä¸åŒï¼Œæé™éšæœºæ ‘ä¸ºæ¯ä¸ªå€™é€‰ç‰¹å¾é€‰å–ä¸€ä¸ªé˜ˆå€¼ï¼Œå¹¶å°†è¿™äº›é˜ˆå€¼çš„æœ€ä½³å€¼ä½œä¸ºæœ€ç»ˆçš„åˆ†å‰²é˜ˆå€¼ã€‚è¿™é€šå¸¸ä¼šé™ä½æ–¹å·®ï¼Œåå·®ä¼šç¨å¾®å¢å¤§ã€‚</p><hr><h2 id="Boosting"><a href="#Boosting" class="headerlink" title="Boosting"></a>Boosting</h2><p>Boosting æŒ‡çš„æ˜¯èƒ½å¤Ÿå°†å¼±å­¦ä¹ å™¨è½¬åŒ–ä¸ºå¼ºå­¦ä¹ å™¨çš„ä¸€ç³»åˆ—ç®—æ³•ã€‚Boosting çš„ä¸»è¦åŸç†æ˜¯ç»™ä¸€ç³»åˆ—çš„å¼±å­¦ä¹ å™¨èµ‹äºˆæƒé‡ï¼Œè¿™äº›å¼±å­¦ä¹ å™¨å„è‡ªçš„æ€§èƒ½ä»…ä»…æ¯”éšæœºçŒœæµ‹é«˜ä¸€äº›ï¼Œä¾‹å¦‚å°çš„å†³ç­–æ ‘ã€‚å…ˆå‰è¢«åˆ†é”™çš„æ ·æœ¬ä¼šè¢«ç»™äºˆæ›´å¤šæƒé‡ã€‚</p><p>åœ¨è¿›è¡Œåˆ†ç±»ä»»åŠ¡æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªåŠ æƒæŠ•ç¥¨æ¥å†³å®šæœ€ç»ˆçš„é¢„æµ‹ï¼Œè€Œåœ¨å›å½’ä»»åŠ¡æ—¶ä½¿ç”¨åŠ æƒå’Œã€‚Boosting å’Œå…¶ä»–æ–¹æ³•ä¾‹å¦‚ bagging çš„ä¸»è¦åŒºåˆ«æ˜¯åŸºå­¦ä¹ å™¨ä½¿ç”¨åŠ æƒç‰ˆæœ¬çš„æ•°æ®é›†æ¥é¡ºåºç”Ÿæˆã€‚</p><p>ä¸‹é¢çš„ç®—æ³•æ˜¯ AdaBoostï¼ˆADAptive BOOSTingï¼‰ï¼Œè¿™æ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„ boosting ç®—æ³•ï¼š</p><blockquote><ol><li>åˆå§‹åŒ–æ ·æœ¬æƒé‡ ${w_n}$ ä¸º $1/N$</li><li>for $m=1$ to $M$</li><li>é€šè¿‡æœ€å°åŒ–åŠ æƒè¯¯å·®å‡½æ•° $J_m$ è®­ç»ƒä¸€ä¸ªåˆ†ç±»å™¨ $y_m(x)$ï¼Œæ­¤å¤„ $J_m = \Sigma_{n=1}^{N} w_n^{(m)} 1[y_m(x_n) \neq t_n]$</li><li>è®¡ç®— $\epsilon_m = \dfrac{\Sigma_{n=1}^{N} w_n^{(m)}1[y_m(x_n) \neq t_n]}{\Sigma_{n=1}^{N} w_n^{(m)}}$</li><li>è®¡ç®— $\alpha_m = \text{log}(\dfrac{1-\epsilon_m}{\epsilon_m})$</li><li>æ›´æ–°æ ·æœ¬æƒé‡ï¼š$w_n^{m+1} = w_n^m e^{\alpha_m1[y_m(x_n) \neq t_n]}$</li><li>end for</li><li>ä½¿ç”¨æœ€ç»ˆçš„æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼š$Y_M(x)=\text{sign}\left(\Sigma_{m=1}{M}\alpha_my_m(x)\right)$</li></ol></blockquote><p>å…¶ä¸­ $N$ ä¸ºæ ·æœ¬æ•°ï¼Œ$M$ ä¸ºé›†æˆå¤§å°ï¼Œå³åŸºå­¦ä¹ å™¨çš„æ•°é‡ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªåŸºåˆ†ç±»å™¨ $y_1(x)$ è®­ç»ƒæ—¶æ‰€ä½¿ç”¨çš„æƒé‡å‡ä¸º $1/N$ã€‚åœ¨æ¥ä¸‹æ¥çš„ boosting å¾ªç¯ä¸­ï¼Œé‚£äº›è¢«åˆ†é”™çš„æ ·æœ¬çš„æƒé‡ä¼šè¢«å¢å¤§ï¼Œè€Œé‚£äº›è¢«åˆ†å¯¹çš„æ ·æœ¬çš„æƒé‡ä¼šå‡å°ã€‚</p><p>$\epsilon$ è¡¨ç¤ºåŸºåˆ†ç±»å™¨çš„åŠ æƒé”™è¯¯ç‡ã€‚å› æ­¤ï¼Œæƒé‡ç³»æ•° $\alpha$ ä¼šç»™äºˆå‡†ç¡®ç‡æ›´é«˜çš„åˆ†ç±»å™¨æ›´å¤§çš„æƒé‡ã€‚</p><p><img src="https://i.imgur.com/oVZftZh.png" width="100%"></p><center><font color="gray">*AdaBoost*</font></center><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ¯ä¸€ä¸ªåŸºå­¦ä¹ å™¨ç”±ä¸€ä¸ªæ·±åº¦ä¸º 1 çš„å†³ç­–æ ‘ç»„æˆï¼Œå› æ­¤å½“ n_est=1 æ—¶æ¨¡å‹åªæ˜¯åŸºäºä¸€ä¸ªç‰¹å¾é˜ˆå€¼å°†æ ·æœ¬ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚ä¸Šå›¾ä¹Ÿæ˜¾ç¤ºäº†é›†æˆå¤§å°æ˜¯å¦‚ä½•æé«˜æµ‹è¯•å‡†ç¡®ç‡çš„ä»¥åŠè®­ç»ƒæ ·æœ¬å’Œæµ‹è¯•æ ·æœ¬çš„å­¦ä¹ æ›²çº¿ã€‚</p><p>æ¢¯åº¦æ ‘æå‡ï¼ˆ<strong>Gradient Tree Boosting</strong>ï¼‰æ˜¯ boosting åœ¨ä»»æ„å¯å¾®åˆ†æŸå¤±å‡½æ•°çš„ä¸€ç§æ¨å¹¿ï¼Œæ—¢å¯ç”¨äºå›å½’ä¹Ÿå¯ç”¨äºåˆ†ç±»ï¼ŒåŒæ ·æ˜¯é¡ºåºç”ŸæˆåŸºå­¦ä¹ å™¨ã€‚</p><script type="math/tex; mode=display">F_m(x)=F_{m-1}(x)+\gamma_mh_m(x)</script><p>æ¯ä¸€æ­¥åŸºäºå½“å‰æ¨¡å‹ $F_{m-1}(x)$ æ¥è®¡ç®—æŸå¤± $L$ï¼Œå¹¶æœ€å°åŒ– $L$ æ¥è®­ç»ƒå†³ç­–æ ‘ $h_m(x)$ï¼š</p><script type="math/tex; mode=display">F_m(x)=F_{m-1}(x)+\text{argmin}_h\Sigma_{i=1}^n L(y_i, F_{m-1}(x_i)+h(x_i))</script><p>ä½¿ç”¨è¯¥ç®—æ³•è¿›è¡Œå›å½’å’Œåˆ†ç±»ä»»åŠ¡æ—¶ä¸åŒåœ¨äºæŸå¤±å‡½æ•°ã€‚</p><hr><h2 id="Stacking"><a href="#Stacking" class="headerlink" title="Stacking"></a>Stacking</h2><p>Stacking æ˜¯ä¸€ç§é€šè¿‡å…ƒåˆ†ç±»å™¨ï¼ˆmeta-classifierï¼‰æˆ–è€…å…ƒå›å½’å™¨ï¼ˆmeta-regressorï¼‰æ¥ç»¼åˆå‡ ä¸ªåˆ†ç±»æ¨¡å‹å’Œå›å½’æ¨¡å‹çš„é›†æˆå­¦ä¹ æŠ€æœ¯ã€‚åŸºæ¨¡å‹ï¼ˆbase level modelï¼‰åŸºäºæ•´ä¸ªæ•°æ®é›†è¿›è¡Œè®­ç»ƒï¼Œç„¶åå…ƒæ¨¡å‹ï¼ˆmeta-modelï¼‰å°†åŸºæ¨¡å‹çš„è¾“å‡ºä½œä¸ºç‰¹å¾æ¥è¿›è¡Œè®­ç»ƒã€‚( <em>è¯‘è€…æ³¨ï¼šä¸ªäººè§‰å¾—å’Œ stacking-autoencoder ä¸€ä¸ªæ€æƒ³</em> )</p><p>åŸºæ¨¡å‹é€šå¸¸ç”±ä¸åŒçš„å­¦ä¹ ç®—æ³•ç»„æˆï¼Œå› æ­¤ stacking é›†æˆé€šå¸¸æ˜¯å¼‚æ„çš„ã€‚ä¸‹é¢çš„ç®—æ³•æ€»ç»“äº† stacking ï¼š</p><blockquote><ol><li>è¾“å…¥ï¼šè®­ç»ƒæ ·æœ¬ $D=\{x_i, y_i\}_{i=1}^{m}$</li><li>è¾“å‡ºï¼šé›†æˆåˆ†ç±»å™¨ $H$</li><li><em>Step 1ï¼šå­¦ä¹ åŸºåˆ†ç±»å™¨</em></li><li>for $t=1$ to $T$</li><li>åŸºäº $D$ è®­ç»ƒ $h_t$</li><li>end for</li><li><em>Step 2ï¼šæ„å»ºæ–°æ•°æ®</em></li><li>for $i=1$ to $m$</li><li>$D_h=\{x_i^{&#39;}, y_i\}$ï¼Œå…¶ä¸­ $x_i^{&#39;}=\{h_1(x_i), \ldots, h_T(x_i)\}$</li><li>end for</li><li><em>Step 3ï¼šå­¦ä¹ å…ƒåˆ†ç±»å™¨</em></li><li>åŸºäº $D_h$ è®­ç»ƒ $H$</li><li>è¿”å› $H$</li></ol></blockquote><ul><li>KNN å‡†ç¡®ç‡ï¼š0.91ï¼ˆ+/- 0.01ï¼‰</li><li>éšæœºæ£®æ— å‡†ç¡®ç‡ï¼š0.91ï¼ˆ+/- 0.06ï¼‰</li><li>æœ´ç´ è´å¶æ–¯ å‡†ç¡®ç‡ï¼š0.92ï¼ˆ+/- 0.03ï¼‰</li><li>Stacking å‡†ç¡®ç‡ï¼š0.95ï¼ˆ+/- 0.03ï¼‰</li></ul><p><img src="https://i.imgur.com/vm1MTWE.png" width="100%"></p><center><font color="gray">*Stacking*</font></center><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¯¥ stacking é›†æˆç”± KNNã€éšæœºæ£®æ—å’Œæœ´ç´ è´å¶æ–¯è¿™å‡ ä¸ªåŸºåˆ†ç±»å™¨æ„æˆï¼Œå…¶é¢„æµ‹è¾“å‡ºå†ç”±é€»è¾‘æ–¯åº•å›å½’ç»¼åˆæ„æˆä¸€ä¸ªå…ƒåˆ†ç±»å™¨ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ° stacking å®ç°äº†å†³ç­–è¾¹ç•Œçš„æ··åˆã€‚ä¸Šå›¾è¿˜æ˜¾ç¤ºäº† stacking çš„å‡†ç¡®ç‡è¦é«˜äºå•ç‹¬çš„åˆ†ç±»å™¨ï¼Œä¸”åŸºäºå­¦ä¹ æ›²çº¿ï¼Œæ¨¡å‹æ²¡æœ‰è¿‡æ‹Ÿåˆçš„è¿¹è±¡ã€‚</p><p>Stacking åœ¨ Kaggle æ¯”èµ›ä¸­ç»å¸¸è¢«ç”¨åˆ°ã€‚ä¾‹å¦‚ï¼Œåœ¨ Otto Group Product Classification æ¯”èµ›ä¸­ç¬¬ä¸€åå°±ä½¿ç”¨äº†è¶…è¿‡ 30 ä¸ªæ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹çš„è¾“å‡ºåˆè¢«ä½œä¸ºç‰¹å¾æ¥è®­ç»ƒå¾—åˆ° 3 ä¸ªå…ƒåˆ†ç±»å™¨ï¼šXGBoostã€ç¥ç»ç½‘ç»œå’Œ AdaBoostã€‚å¯ä»¥åœ¨ <a href="https://www.kaggle.com/c/otto-group-product-classification-challenge/discussion/14335" target="_blank" rel="noopener">è¿™é‡Œ</a> æŸ¥çœ‹ç»†èŠ‚ã€‚</p><p><em>è¯‘è€…æ³¨ï¼šä¸ºäº†ç›´è§‚ï¼Œæˆ‘æŠŠè·èƒœè€…æ‰€ä½¿ç”¨çš„æ¨¡å‹ç»“æ„å›¾æ”¾åœ¨ä¸‹é¢ã€‚</em></p><p><img src="https://i.imgur.com/J5ghO9c.png" width="100%"></p><center><font color="gray">*æ¨¡å‹ç»“æ„*</font></center><hr><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>ç”Ÿæˆæœ¬æ–‡æ‰€ç”¨å›¾ç‰‡çš„ä»£ç åœ¨è¿™ä¸ª <a href="https://github.com/vsmolyakov/experiments_with_python/blob/master/chp01/ensemble_methods.ipynb" target="_blank" rel="noopener">jupyter notebook</a> ä¸Šã€‚</p><hr><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>é™¤äº†æœ¬æ–‡ç ”ç©¶çš„æ–¹æ³•å¤–ï¼Œé›†æˆå­¦ä¹ ä¹Ÿé€šå¸¸ç”¨äºæ·±åº¦å­¦ä¹ æ¥è®­ç»ƒå¤šæ ·åŒ–å’Œé«˜å‡†ç¡®ç‡çš„åˆ†ç±»å™¨ã€‚å¯ä»¥é€šè¿‡ä¸åŒçš„ç½‘ç»œç»“æ„ã€è¶…å‚æ•°è®¾ç½®å’Œè®­ç»ƒæŠ€å·§æ¥è¾¾åˆ°å¤šæ ·æ€§ã€‚</p><p>é›†æˆæ–¹æ³•åœ¨æ¯”èµ›æ•°æ®é›†ä¸­è·å¾—åˆ›çºªå½•çš„æ€§èƒ½æ–¹é¢éå¸¸æˆåŠŸï¼Œä¹Ÿæ˜¯ Kaggle æ•°æ®ç§‘å­¦æ¯”èµ›ä¸­ä¼˜èƒœè€…å¸¸ç”¨çš„ç®—æ³•ã€‚</p><hr><h2 id="Recommended-reading"><a href="#Recommended-reading" class="headerlink" title="Recommended reading"></a>Recommended reading</h2><ul><li><a href="http://www2.islab.ntua.gr/attachments/article/86/Ensemble%20methods%20-%20Zhou.pdf" target="_blank" rel="noopener">Zhi-Hua Zhou, â€œEnsemble Methods: Foundations and Algorithmsâ€, CRC Press, 2012</a>ï¼ˆ <em>è¯‘è€…æ³¨ï¼šåŸæ–‡è¿™é‡Œæ²¡æœ‰é“¾æ¥ï¼Œæˆ‘è‡ªå·±æ‰¾äº†æ‰¾èµ„æºåŠ ä¸Šäº†èµ„æºåœ°å€ï¼Œå¦‚è‹¥ä¸‹è½½ä¸ä¸‹æ¥è¯·åœ¨ <a href="http://download.csdn.net/download/u010099080/9957633" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½</em> ï¼‰</li><li><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0ahUKEwj77_jo1f7VAhXCTLwKHbP4D2AQFggtMAA&amp;url=https%3A%2F%2Fpdfs.semanticscholar.org%2F453c%2F2b407c57d7512fdbe19fa1cefa08dd22614a.pdf&amp;usg=AFQjCNGaB5BchT1b-l0KWkdrMgxkeg15yA" target="_blank" rel="noopener">L. Kuncheva, â€œCombining Pattern Classifiers: Methods and Algorithmsâ€, Wiley, 2004</a>ï¼ˆ <em>è¯‘è€…æ³¨ï¼šåŸæ–‡è¿™é‡Œæ²¡æœ‰é“¾æ¥ï¼Œæˆ‘è‡ªå·±æ‰¾äº†æ‰¾èµ„æºåŠ ä¸Šäº†èµ„æºåœ°å€ï¼Œå¦‚è‹¥ä¸‹è½½ä¸ä¸‹æ¥è¯·åœ¨ <a href="http://download.csdn.net/download/u010099080/9957642" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½</em> ï¼‰</li><li><a href="https://mlwave.com/kaggle-ensembling-guide/" target="_blank" rel="noopener">Kaggle Ensembling Guide</a></li><li><a href="http://scikit-learn.org/stable/modules/ensemble.html" target="_blank" rel="noopener">Scikit Learn Ensemble Guide</a></li><li><a href="http://rasbt.github.io/mlxtend/" target="_blank" rel="noopener">S. Rachka, MLxtend library</a></li><li><a href="https://www.kaggle.com/c/otto-group-product-classification-challenge/discussion/14335" target="_blank" rel="noopener">Kaggle Winning Ensemble</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¯‘è€…æ³¨ï¼šè¿™ç¯‡æ–‡ç« æ˜¯å¯¹ PythonWeekly æ¨èçš„ä¸€ç¯‡è®²é›†æˆæ¨¡å‹çš„æ–‡ç« çš„ç¿»è¯‘ï¼ŒåŸæ–‡ä¸º &lt;a href=&quot;https://blog.statsbot.co/ensemble-learning-d1dcd548e936&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Ensemble Learning to Improve Machine Learning Results&lt;/a&gt;ï¼Œç”± Vadim Smolyakov äº 2017 å¹´ 8 æœˆ 22 æ—¥å‘è¡¨åœ¨ Medium ä¸Šï¼ŒVadim Smolyakov æ˜¯ä¸€å MIT çš„ç ”ç©¶ç”Ÿã€‚æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿è¯„è®ºåŒºæˆ–è€…é‚®ä»¶æˆ–è€…ç§ä¿¡æŒ‡å‡ºã€‚å»ºè®®é˜…è¯»è‹±æ–‡åŸæ–‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="http://yoursite.com/tags/Machine-Learning/"/>
    
      <category term="Translation" scheme="http://yoursite.com/tags/Translation/"/>
    
  </entry>
  
  <entry>
    <title>ç†è§£ TensorBoard</title>
    <link href="http://yoursite.com/2017/08/20/understanding-tensorboard/"/>
    <id>http://yoursite.com/2017/08/20/understanding-tensorboard/</id>
    <published>2017-08-20T02:01:00.000Z</published>
    <updated>2017-12-26T15:22:34.117Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.tensorflow.org/get_started/summaries_and_tensorboard" target="_blank" rel="noopener">TensorBoard</a> æ˜¯ç”¨äºå¯è§†åŒ– TensorFlow æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹çš„å·¥å…·ï¼ˆthe flow of tensorsï¼‰ï¼Œåœ¨ä½ å®‰è£… TensorFlow çš„æ—¶å€™å°±å·²ç»å®‰è£…äº† TensorBoardã€‚æˆ‘åœ¨å‰é¢çš„ <a href="http://blog.csdn.net/u010099080/article/details/62882006" target="_blank" rel="noopener">ã€TensorFlowã€‘TensorFlow çš„å·ç§¯ç¥ç»ç½‘ç»œ CNN - TensorBoardç‰ˆ</a> å’Œ <a href="http://blog.csdn.net/u010099080/article/details/53560426" target="_blank" rel="noopener">ã€Python | TensorBoardã€‘ç”¨ PCA å¯è§†åŒ– MNIST æ‰‹å†™æ•°å­—è¯†åˆ«æ•°æ®é›†</a> åˆ†åˆ«éå¸¸ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹è¿™ä¸ªå·¥å…·ï¼Œæ²¡æœ‰è¯¦ç»†è¯´æ˜ï¼Œè¿™æ¬¡æ¥ï¼ˆå°½å¯èƒ½è¯¦ç»†çš„ï¼‰æ•´ä½“è¯´ä¸€ä¸‹ï¼Œè€Œä¸”è¿™æ¬¡ä¹Ÿæ˜¯å¯¹ <a href="http://blog.csdn.net/u010099080/article/details/62882006" target="_blank" rel="noopener">å‰è€…</a> ä»£ç çš„ä¸€ä¸ªå‡çº§ï¼Œå¾ˆå¤§ç¨‹åº¦çš„æ”¹å˜äº†ä»£ç ç»“æ„ï¼Œå°†è¾“å…¥å’Œè®­ç»ƒåˆ†ç¦»å¼€æ¥ï¼Œç»“æ„æ›´æ¸…æ™°ã€‚å°å¼Ÿä¸æ‰ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿è¯„è®ºåŒºæŒ‡å‡ºã€‚</p><a id="more"></a><p>å…¨éƒ¨ä»£ç å’Œ TensorBoard æ–‡ä»¶å‡åœ¨ <a href="https://github.com/secsilm/understanding-tensorboard" target="_blank" rel="noopener">æˆ‘çš„ GitHub</a> ä¸Šï¼Œä½ ä¹Ÿå¯ä»¥ä» <a href="https://pan.baidu.com/s/1hrUGI0k" target="_blank" rel="noopener">ç™¾åº¦ç½‘ç›˜</a> ä¸‹è½½ï¼Œå¯†ç  <code>t27f</code> ï¼Œåªä¸è¿‡å¦‚æœä»¥åå†…å®¹æ›´æ–°ï¼Œç½‘ç›˜ä¸­çš„å†…å®¹ä¸ä¼šæ›´æ–°ã€‚</p><p><strong>Tensorboard ä½¿ç”¨çš„ç‰ˆæœ¬ä¸º 0.1.4ï¼Œå¯¹åº”äº TensorFlow 1.3.0ï¼Œä½†è®­ç»ƒä»£ç æœªåœ¨ TensorFlow 1.3.0 ä¸Šæµ‹è¯•ï¼Œä¸è¿‡åº”è¯¥æ˜¯å¯ä»¥è¿è¡Œçš„ã€‚Windows ä¸‹ TensorFlow çš„å®‰è£…å¯ä»¥çœ‹ <a href="http://blog.csdn.net/u010099080/article/details/53418159" target="_blank" rel="noopener">ã€TensorFlowã€‘Windows10 64ä½ä¸‹å®‰è£…TensorFlow - å®˜æ–¹åŸç”Ÿæ”¯æŒ</a></strong> ã€‚</p><hr><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>è¿™é‡Œæˆ‘ä¼šåˆ—å‡ºå¯¹æœ¬æ–‡çš„æ›´æ–°ã€‚</p><ul><li>2017 å¹´ 8 æœˆ 22 æ—¥ï¼šTensorBoard 0.1.4 å‘å¸ƒï¼Œæ›´æ–°ç•Œé¢æˆªå›¾ã€‚</li></ul><hr><h2 id="TensorBoard-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#TensorBoard-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="TensorBoard æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>TensorBoard æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2><p>ç®€å•æ¥è¯´ï¼ŒTensorBoard æ˜¯é€šè¿‡ä¸€äº›æ“ä½œï¼ˆsummary operationsï¼‰å°†æ•°æ®è®°å½•åˆ°æ–‡ä»¶ï¼ˆevent filesï¼‰ä¸­ï¼Œç„¶åå†è¯»å–æ–‡ä»¶æ¥å®Œæˆä½œå›¾çš„ã€‚æƒ³è¦åœ¨æµè§ˆå™¨ä¸Šçœ‹åˆ° TensorBoard é¡µé¢ï¼Œå¤§æ¦‚éœ€è¦è¿™å‡ æ­¥ï¼š</p><ol><li><strong>summary</strong>ã€‚åœ¨å®šä¹‰è®¡ç®—å›¾çš„æ—¶å€™ï¼Œåœ¨é€‚å½“çš„ä½ç½®åŠ ä¸Šä¸€äº› <a href="https://www.tensorflow.org/api_guides/python/summary" target="_blank" rel="noopener">summary æ“ä½œ</a> ã€‚</li><li><strong>merge</strong>ã€‚ä½ å¾ˆå¯èƒ½åŠ äº†å¾ˆå¤š summary æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>tf.summary.merge_all</code> æ¥å°†è¿™äº› summary æ“ä½œèšåˆæˆä¸€ä¸ªæ“ä½œï¼Œç”±å®ƒæ¥äº§ç”Ÿæ‰€æœ‰ summary æ•°æ®ã€‚</li><li><strong>run</strong>ã€‚åœ¨æ²¡æœ‰è¿è¡Œçš„æ—¶å€™è¿™äº›æ“ä½œæ˜¯ä¸ä¼šæ‰§è¡Œä»»ä½•ä¸œè¥¿çš„ï¼Œä»…ä»…æ˜¯å®šä¹‰äº†ä¸€ä¸‹è€Œå·²ã€‚åœ¨è¿è¡Œï¼ˆå¼€å§‹è®­ç»ƒï¼‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ <code>tf.summary.FileWriter()</code> æŒ‡å®šä¸€ä¸ªç›®å½•æ¥å‘Šè¯‰ç¨‹åºæŠŠäº§ç”Ÿçš„æ–‡ä»¶æ”¾åˆ°å“ªã€‚ç„¶ååœ¨è¿è¡Œçš„æ—¶å€™ä½¿ç”¨ <code>add_summary()</code> æ¥å°†æŸä¸€æ­¥çš„ summary æ•°æ®è®°å½•åˆ°æ–‡ä»¶ä¸­ã€‚</li></ol><p>å½“è®­ç»ƒå®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œä½¿ç”¨ <code>tensorboard --logdir=path/to/log-directory</code> æ¥å¯åŠ¨ TensorBoardï¼ŒæŒ‰ç…§æç¤ºåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ï¼Œæ³¨æ„æŠŠ <code>path/to/log-directory</code> æ›¿æ¢æˆä½ ä¸Šé¢æŒ‡å®šçš„ç›®å½•ã€‚</p><hr><h2 id="OVERVIEW"><a href="#OVERVIEW" class="headerlink" title="OVERVIEW"></a>OVERVIEW</h2><p>æ€»ä½“ä¸Šï¼Œç›®å‰ TensorBoard ä¸»è¦åŒ…æ‹¬ä¸‹é¢å‡ ä¸ªé¢æ¿ï¼š</p><div><img src="https://i.imgur.com/TK5BIH4.png" width="100%"></div><p>å…¶ä¸­ <code>TEXT</code> æ˜¯ æœ€æ–°ç‰ˆï¼ˆåº”è¯¥æ˜¯ 1.3ï¼‰æ‰åŠ è¿›å»çš„ï¼Œå®éªŒæ€§åŠŸèƒ½ï¼Œå®˜æ–¹éƒ½æ²¡æ€ä¹ˆä»‹ç»ã€‚é™¤äº† <code>AUDIO</code>ï¼ˆæ²¡ç”¨è¿‡ï¼‰ã€<code>EMBEDDINGS</code>ï¼ˆè¿˜ä¸æ˜¯å¾ˆç†Ÿï¼‰ å’Œ <code>TEXT</code>ï¼ˆæ²¡ç”¨è¿‡ï¼‰ è¿™å‡ ä¸ªï¼Œè¿™ç¯‡åšå®¢ä¸»è¦è¯´å‰©ä¸‹çš„å‡ ä¸ªï¼Œå…¶ä»–çš„ç­‰å›å¤´ç†Ÿç»ƒäº†å†æ¥è¯´ï¼Œå°½é‡é¿å…è¯¯äººå­å¼Ÿã€‚</p><p>TensorBoard çš„å·¥ä½œåŸç†æ˜¯è¯»å–æ¨¡å‹è®­ç»ƒæ—¶äº§ç”Ÿçš„ TensorFlow events æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…æ‹¬äº†ä¸€äº› summary æ•°æ®ï¼ˆå°±æ˜¯ä½œå›¾æ—¶ç”¨çš„æ•°æ®ï¼‰ã€‚</p><hr><h2 id="SCALARS"><a href="#SCALARS" class="headerlink" title="SCALARS"></a>SCALARS</h2><div><img src="http://i.imgur.com/s9drW9Z.png" width="100%"></div><center><font color="gray">*TensorBoard çš„é»˜è®¤æ‰“å¼€æ ·å¼*</font></center>TensorBoard æ‰“å¼€æ—¶é»˜è®¤ç›´æ¥è¿›å…¥ `SCALARS`ï¼Œå¹¶ä¸”é»˜è®¤ä½¿ç”¨ `.*` æ­£åˆ™è¡¨è¾¾å¼æ˜¾ç¤ºæ‰€æœ‰å›¾ï¼ˆå…¶ä»–é¢æ¿åŒç†ï¼Œä¸‹é¢å°±ä¸å†èµ˜è¿°ï¼‰ï¼Œä½ ç”¨åˆ°çš„é¢æ¿ä¼šåœ¨é¡¶éƒ¨å¯¼èˆªæ ç›´æ¥æ˜¾ç¤ºï¼Œè€Œå…¶ä»–ç”¨ä¸åˆ°çš„ï¼ˆä½ ä»£ç ä¸­æ²¡æœ‰ç›¸å…³ä»£ç ï¼‰åˆ™ä¼šæ”¶èµ·åˆ° `INACTIVE` ä¸­ã€‚<div align="center"><img src="http://i.imgur.com/W8ewfgz.png"></div><p><code>SCALARS</code> é¢æ¿ä¸»è¦ç”¨äºè®°å½•è¯¸å¦‚å‡†ç¡®ç‡ã€æŸå¤±å’Œå­¦ä¹ ç‡ç­‰å•ä¸ªå€¼çš„å˜åŒ–è¶‹åŠ¿ã€‚åœ¨ä»£ç ä¸­ç”¨ <a href="https://www.tensorflow.org/api_docs/python/tf/summary/scalar" target="_blank" rel="noopener"><code>tf.summary.scalar()</code></a> æ¥å°†å…¶è®°å½•åˆ°æ–‡ä»¶ä¸­ã€‚å¯¹åº”äºæˆ‘çš„ä»£ç ä¸­ï¼Œæˆ‘æ˜¯ä½¿ç”¨å…¶è®°å½•äº†è®­ç»ƒå‡†ç¡®ç‡å’ŒæŸå¤±ã€‚</p><p>è®­ç»ƒå‡†ç¡®ç‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'accuracy'</span>):</span><br><span class="line">    correct_prediction = tf.equal(tf.argmax(logits, <span class="number">1</span>), tf.argmax(y, <span class="number">1</span>))</span><br><span class="line">    accuracy = tf.reduce_mean(tf.cast(correct_prediction, tf.float32))</span><br><span class="line">    tf.summary.scalar(<span class="string">'accuracy'</span>, accuracy)</span><br></pre></td></tr></table></figure><p><div><img src="http://i.imgur.com/fpWU4rj.png" width="100%"></div></p><center><font color="gray">*å…¨éƒ¨ run çš„ acuracy*</font></center><blockquote><p>å¯ä»¥çœ‹åˆ°è¿™äº›æ›²çº¿å¹¶ä¸æ˜¯é‚£ä¹ˆå¹³æ»‘ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘è®°å½•çš„æ­¥æ•°æ¯”è¾ƒå°‘ï¼Œä¹Ÿå°±æ˜¯ç‚¹æ¯”è¾ƒå°‘ï¼Œå¦‚æœæ¯ä¸€æ­¥éƒ½è®°å½•æˆ–è€…é—´éš”æ¯”è¾ƒçŸ­ï¼Œé‚£ä¹ˆæœ€åçš„æ–‡ä»¶ä¼šå¾ˆå¤§ã€‚ä¸‹åŒ</p></blockquote><p>æŸå¤±ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'loss'</span>):</span><br><span class="line">    loss = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=logits, labels=y)) + \</span><br><span class="line">        BETA * tf.add_n([tf.nn.l2_loss(v)</span><br><span class="line">                        <span class="keyword">for</span> v <span class="keyword">in</span> trainable_vars <span class="keyword">if</span> <span class="keyword">not</span> <span class="string">'b'</span> <span class="keyword">in</span> v.name])</span><br><span class="line"></span><br><span class="line">    tf.summary.scalar(<span class="string">'loss'</span>, loss)</span><br></pre></td></tr></table></figure><p><div><img src="http://i.imgur.com/zLPpuJt.png" width="100%" alt="loss"></div></p><center><font color="gray">*å…¨éƒ¨ run çš„ loss*</font></center><p>æ¯ä¸ªå›¾çš„å³ä¸‹è§’éƒ½æœ‰ 3 ä¸ªå°å›¾æ ‡ï¼Œç¬¬ä¸€ä¸ªæ˜¯æŸ¥çœ‹å¤§å›¾ï¼Œç¬¬äºŒä¸ªæ˜¯æ˜¯å¦å¯¹ y è½´å¯¹æ•°åŒ–ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å¦‚æœä½ æ‹–åŠ¨æˆ–è€…ç¼©æ”¾äº†åæ ‡è½´ï¼Œå†é‡æ–°å›åˆ°åŸå§‹ä½ç½®ã€‚</p><p><img src="http://img.blog.csdn.net/20170822104513317?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" width="100%" alt="fit-domain-to-data"></p><center><font color="gray">*Fit domain to data*</font></center><p><code>tf.summary.scalar(name, tensor)</code> æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li><code>name</code>ï¼šå¯ä»¥ç†è§£ä¸ºå›¾çš„æ ‡é¢˜ã€‚åœ¨ <code>GRAPHS</code> ä¸­åˆ™æ˜¯è¯¥èŠ‚ç‚¹çš„åå­—</li><li><code>tensor</code>ï¼šåŒ…å«å•ä¸ªå€¼çš„ tensorï¼Œè¯´ç™½äº†å°±æ˜¯ä½œå›¾çš„æ—¶å€™è¦ç”¨çš„æ•°æ®</li></ul><p>åœ¨ä¸Šé¢çš„å›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°é™¤äº† <code>accuracy</code> å’Œ <code>loss</code> å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>eval_accuracy</code>ï¼Œè¿™ä¸ªæ˜¯æˆ‘ç”¨æ¥è®°å½•éªŒè¯å‡†ç¡®ç‡çš„ï¼Œä»£ç ä¸­ç›¸å…³çš„éƒ¨åˆ†å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">eval_writer = tf.summary.FileWriter(LOGDIR + <span class="string">'/eval'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Some other codes</span></span><br><span class="line"></span><br><span class="line">eval_writer.add_summary(tf.Summary(value=[tf.Summary.Value(tag=<span class="string">'eval_accuracy'</span>, simple_value=np.mean(test_acc))]), i)</span><br></pre></td></tr></table></figure><p><div><img src="http://i.imgur.com/XxQ1oRW.png" width="100%" alt="eval-accuracy"></div></p><center><font color="gray">*å…¨éƒ¨ run çš„ eval_accuracy*</font></center><p>è¿™é‡Œæˆ‘æ˜¯æ‰‹åŠ¨æ·»åŠ äº†ä¸€ä¸ªéªŒè¯å‡†ç¡®ç‡åˆ° <code>SCALARS</code> ä¸­ï¼Œå…¶å®æƒ³è¦è®°å½•éªŒè¯å‡†ç¡®ç‡å®Œå…¨ä¸å¿…è¿™ä¹ˆåšï¼Œå’Œè®­ç»ƒå‡†ç¡®ç‡ä¸åŒçš„åªæ˜¯ feed çš„æ•°æ®ä¸ä¸€æ ·è€Œå·²ã€‚ç„¶è€Œç”±äºæˆ‘çš„æ˜¾å­˜ä¸å¤Ÿä¸€æ¬¡è£…ä¸‹æ•´ä¸ªéªŒè¯é›†ï¼Œæ‰€ä»¥æˆ‘å°±åˆ†äº†ä¸¤éƒ¨åˆ†è®¡ç®—ç„¶åæ±‚å¹³å‡å€¼æ¥å¾—åˆ°æ•´ä¸ªéªŒè¯é›†çš„å‡†ç¡®ç‡ã€‚<em>å¦‚æœè°æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œè¯·ç»™æˆ‘å‘é‚®ä»¶æˆ–è€…åœ¨è¯„è®ºåŒºè¯„è®ºï¼Œéå¸¸æ„Ÿè°¢ :-)</em></p><p>å½“æˆ‘ä»¬æœ‰å¾ˆå¤šçš„ tag ï¼ˆå›¾ï¼‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¦ä¸Šè§’å†™æ­£åˆ™è¡¨è¾¾å¼æ¥é€‰æ‹©å…¶ä¸­ä¸€äº› tagï¼Œæ¯”å¦‚æˆ‘æƒ³é€‰æ‹©åŒ…æ‹¬ <code>accuracy</code> çš„ tagï¼Œé‚£ä¹ˆæˆ‘ç›´æ¥å†™ä¸Š <code>accuracy</code> å°±å¯ä»¥äº†ï¼Œå³ä¾§å°±ä¼šå¤šå‡ºä¸€ä¸ª <code>accuracy</code> çš„ tagï¼Œæ˜¾ç¤ºåŒ¹é…å‡ºçš„ç»“æœã€‚</p><p>é¡µé¢å·¦ä¸Šæ˜¯ <code>Show data download links</code> å’Œ <code>Ignore outliers in chart scaling</code>ï¼Œè¿™ä¸¤ä¸ªæ¯”è¾ƒå¥½ç†è§£ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯æ˜¾ç¤ºæ•°æ®ä¸‹è½½é“¾æ¥ï¼Œå¯ä»¥æŠŠ TensorBoard ä½œå›¾ç”¨çš„æ•°æ®ä¸‹è½½ä¸‹æ¥ï¼Œç‚¹å‡»åå¯ä»¥åœ¨å›¾çš„å³ä¸‹è§’å¯ä»¥çœ‹åˆ°ä¸‹è½½é“¾æ¥ä»¥åŠé€‰æ‹©ä¸‹è½½å“ªä¸€ä¸ª run çš„ï¼Œä¸‹è½½æ ¼å¼æ”¯æŒ CSV å’Œ JSONã€‚ç¬¬äºŒä¸ªæ˜¯æ’é™¤å¼‚å¸¸ç‚¹ï¼Œé»˜è®¤é€‰ä¸­ã€‚</p><p>å½“æˆ‘ä»¬ç”¨é¼ æ ‡åœ¨å›¾ä¸Šæ»‘è¿‡çš„æ—¶å€™å¯ä»¥æ˜¾ç¤ºå‡ºæ¯ä¸ª run å¯¹åº”çš„ç‚¹çš„å€¼ï¼Œè¿™ä¸ªæ˜¾ç¤ºé¡ºåºæ˜¯ç”± <code>Tooltip sorting method</code> æ¥æ§åˆ¶çš„ï¼Œæœ‰ <code>default</code>ã€<code>descending</code>ï¼ˆé™åºï¼‰ã€<code>asceding</code> ï¼ˆå‡åºï¼‰å’Œ <code>nearest</code> å››ä¸ªé€‰é¡¹ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•ç‚¹å‡ ä¸‹ã€‚</p><p>è€Œä¸‹é¢çš„ <code>Smoothing</code> æŒ‡çš„æ˜¯ä½œå›¾æ—¶æ›²çº¿çš„å¹³æ»‘ç¨‹åº¦ï¼Œä½¿ç”¨çš„æ˜¯<strong>ç±»ä¼¼</strong>æŒ‡æ•°å¹³æ»‘çš„å¤„ç†æ–¹æ³•ã€‚å¦‚æœä¸å¹³æ»‘å¤„ç†çš„è¯ï¼Œæœ‰äº›æ›²çº¿æ³¢åŠ¨å¾ˆå¤§ï¼Œéš¾ä»¥çœ‹å‡ºè¶‹åŠ¿ã€‚0 å°±æ˜¯ä¸å¹³æ»‘å¤„ç†ï¼Œ1 å°±æ˜¯æœ€å¹³æ»‘ï¼Œé»˜è®¤æ˜¯ 0.6ã€‚</p><p><code>Horizontal Axis</code> é¡¾åæ€ä¹‰æŒ‡çš„æ˜¯æ¨ªè½´çš„è®¾ç½®ï¼š</p><ul><li><code>STEP</code>ï¼šé»˜è®¤é€‰é¡¹ï¼ŒæŒ‡çš„æ˜¯æ¨ªè½´æ˜¾ç¤ºçš„æ˜¯è®­ç»ƒè¿­ä»£æ¬¡æ•°</li><li><code>RELATIVE</code>ï¼šè¿™ä¸ªç›¸å¯¹æŒ‡çš„æ˜¯ç›¸å¯¹æ—¶é—´ï¼Œç›¸å¯¹äºè®­ç»ƒå¼€å§‹çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯<em>è®­ç»ƒç”¨æ—¶</em> ï¼Œå•ä½æ˜¯å°æ—¶</li><li><code>WALL</code>ï¼šæŒ‡è®­ç»ƒçš„ç»å¯¹æ—¶é—´</li></ul><p>æœ€ä¸‹é¢çš„ <code>Runs</code> åˆ—å‡ºäº†å„ä¸ª runï¼Œä½ å¯ä»¥é€‰æ‹©åªæ˜¾ç¤ºæŸä¸€ä¸ªæˆ–æŸå‡ ä¸ªã€‚</p><hr><h2 id="IMAGES"><a href="#IMAGES" class="headerlink" title="IMAGES"></a>IMAGES</h2><p>å¦‚æœä½ çš„æ¨¡å‹è¾“å…¥æ˜¯å›¾åƒï¼ˆçš„åƒç´ å€¼ï¼‰ï¼Œç„¶åä½ æƒ³çœ‹çœ‹æ¨¡å‹æ¯æ¬¡çš„è¾“å…¥å›¾åƒæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä»¥ä¿è¯æ¯æ¬¡è¾“å…¥çš„å›¾åƒæ²¡æœ‰é—®é¢˜ï¼ˆå› ä¸ºä½ å¯èƒ½åœ¨æ¨¡å‹ä¸­å¯¹å›¾åƒåšäº†æŸç§å˜æ¢ï¼Œè€Œè¿™ç§å˜æ¢æ˜¯å¾ˆå®¹æ˜“å‡ºé—®é¢˜çš„ï¼‰ï¼Œ<code>IMAGES</code> é¢æ¿å°±æ˜¯å¹²è¿™ä¸ªçš„ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºå‡ºç›¸åº”çš„è¾“å…¥å›¾åƒï¼Œé»˜è®¤æ˜¾ç¤ºæœ€æ–°çš„è¾“å…¥å›¾åƒï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><div><img src="http://i.imgur.com/nqVkbBo.png" width="100%" alt="images"></div></p><p><center><font color="gray"><em>ç¬¬ 45000 æ¬¡è¿­ä»£æ—¶è¾“å…¥çš„ 3 ä¸ªå›¾åƒ</em></font><center></center></center></p><p>å›¾çš„å³ä¸‹è§’çš„ä¸¤ä¸ªå›¾æ ‡ï¼Œç¬¬ä¸€ä¸ªæ˜¯æŸ¥çœ‹å¤§å›¾ï¼Œç¬¬äºŒä¸ªæ˜¯æŸ¥çœ‹åŸå›¾ï¼ˆçœŸå®å¤§å°ï¼Œé»˜è®¤æ˜¾ç¤ºçš„æ˜¯æ”¾å¤§åçš„ï¼‰ã€‚å·¦ä¾§å’Œ <code>SCALARS</code> å·®ä¸å¤šï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚</p><p>è€Œåœ¨ä»£ç ä¸­ï¼Œéœ€è¦åœ¨åˆé€‚çš„ä½ç½®ä½¿ç”¨ <a href="https://www.tensorflow.org/api_docs/python/tf/summary/image" target="_blank" rel="noopener"><code>tf.summary.image()</code></a> æ¥æŠŠå›¾åƒè®°å½•åˆ°æ–‡ä»¶ä¸­ï¼Œå…¶å‚æ•°å’Œ <code>tf.summary.scalar()</code> å¤§è‡´ç›¸åŒï¼Œå¤šäº†ä¸€ä¸ª <code>max_outputs</code> ï¼ŒæŒ‡çš„æ˜¯æœ€å¤šæ˜¾ç¤ºå¤šå°‘å¼ å›¾ç‰‡ï¼Œé»˜è®¤ä¸º 3ã€‚å¯¹åº”äºæˆ‘çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = tf.placeholder(tf.float32, shape=[<span class="keyword">None</span>, N_FEATURES], name=<span class="string">'x'</span>)</span><br><span class="line">x_image = tf.transpose(tf.reshape(x, [<span class="number">-1</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>]), perm=[<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>])</span><br><span class="line">tf.summary.image(<span class="string">'input'</span>, x_image, max_outputs=<span class="number">3</span>)</span><br><span class="line">y = tf.placeholder(tf.float32, [<span class="keyword">None</span>, N_CLASSES], name=<span class="string">'labels'</span>)</span><br></pre></td></tr></table></figure><hr><h2 id="GRAPHS"><a href="#GRAPHS" class="headerlink" title="GRAPHS"></a>GRAPHS</h2><p>è¿™ä¸ªåº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„é¢æ¿äº†ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„æ¨¡å‹å¾ˆå¤æ‚ï¼ŒåŒ…å«å¾ˆå¤šå±‚ï¼Œæˆ‘ä»¬æƒ³è¦æ€»ä½“ä¸Šçœ‹ä¸‹æ„å»ºçš„ç½‘ç»œåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œè¿™æ—¶å€™å°±ç”¨åˆ° <code>GRAPHS</code> é¢æ¿äº†ï¼Œåœ¨è¿™é‡Œå¯ä»¥å±•ç¤ºå‡ºä½ æ‰€æ„å»ºçš„ç½‘ç»œæ•´ä½“ç»“æ„ï¼Œæ˜¾ç¤ºæ•°æ®æµçš„æ–¹å‘å’Œå¤§å°ï¼Œä¹Ÿå¯ä»¥æ˜¾ç¤ºè®­ç»ƒæ—¶æ¯ä¸ªèŠ‚ç‚¹çš„ç”¨æ—¶ã€è€—è´¹çš„å†…å­˜å¤§å°ä»¥åŠå‚æ•°å¤šå°‘ã€‚é»˜è®¤æ˜¾ç¤ºçš„å›¾åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šä¸»å›¾ï¼ˆMain Graphï¼‰å’Œè¾…åŠ©èŠ‚ç‚¹ï¼ˆAuxiliary Nodesï¼‰ã€‚å…¶ä¸­ä¸»å›¾æ˜¾ç¤ºçš„å°±æ˜¯ç½‘ç»œç»“æ„ï¼Œè¾…åŠ©èŠ‚ç‚¹åˆ™æ˜¾ç¤ºçš„æ˜¯åˆå§‹åŒ–ã€è®­ç»ƒã€ä¿å­˜ç­‰èŠ‚ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥åŒå‡»æŸä¸ªèŠ‚ç‚¹æˆ–è€…ç‚¹å‡»èŠ‚ç‚¹å³ä¸Šè§’çš„ <code>+</code> æ¥å±•å¼€æŸ¥çœ‹é‡Œé¢çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥å¯¹é½è¿›è¡Œç¼©æ”¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å‘½åéƒ½æ˜¯æˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨ <code>tf.name_scope()</code> å®šä¹‰å¥½çš„ã€‚ä¸‹é¢ä»‹ç»ä¸‹è¯¥é¢æ¿å·¦ä¾§çš„åŠŸèƒ½ã€‚</p><p><div><img src="http://i.imgur.com/r8mXplM.png" width="100%" alt="graph"></div></p><p><center><font color="gray"><em>è®¡ç®—å›¾</em></font><center></center></center></p><p>å·¦ä¸Šæ˜¯ <code>Fit to screen</code>ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å°†å›¾ç¼©æ”¾åˆ°é€‚åˆå±å¹•ã€‚ä¸‹é¢çš„ <code>Download PNG</code> åˆ™æ˜¯å°†å›¾ä¿å­˜åˆ°æœ¬åœ°ã€‚<code>Run</code> å’Œ <code>Session Run</code> åˆ†åˆ«æ˜¯ä¸åŒçš„è®­ç»ƒå’Œè¿­ä»£æ­¥æ•°ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œä»¥ä¸åŒçš„è¶…å‚è®­ç»ƒäº† 6 æ¬¡ï¼Œé‚£ä¹ˆ å°±æœ‰ 6 ä¸ª runï¼Œè€Œä½ æ‰€è®°å½•çš„è¿­ä»£æ¬¡æ•°ï¼ˆå¹¶ä¸æ˜¯æ¯ä¸€æ­¥éƒ½ä¼šè®°å½•å½“å‰çŠ¶æ€çš„ï¼Œé‚£æ ·çš„è¯å¤ªå¤šäº†ï¼Œä¸€èˆ¬éƒ½æ˜¯æ¯éš”å¤šå°‘æ¬¡è®°å½•ä¸€æ¬¡ï¼‰åˆ™æ˜¾ç¤ºåœ¨ <code>Session Run</code> é‡Œã€‚å†ä¸‹é¢å¤§å®¶åº”è¯¥éƒ½èƒ½çœ‹æ‡‚ï¼Œæˆ‘å°±ä¸è¯¦ç»†è¯´æ¯ä¸ªåŠŸèƒ½çš„æ„æ€äº†ã€‚</p><p><div align="center"><img src="https://i.imgur.com/sJFNrmY.png" alt="run"></div></p><p><center><font color="gray"><em>é€‰æ‹©è¿­ä»£æ­¥æ•°</em></font><center></center></center></p><p>TensorBoard é»˜è®¤æ˜¯ä¸ä¼šè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„ç”¨æ—¶ã€è€—è´¹çš„å†…å­˜å¤§å°ç­‰è¿™äº›ä¿¡æ¯çš„ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½åœ¨å›¾ä¸Šæ˜¾ç¤ºè¿™äº›ä¿¡æ¯å‘¢ï¼Ÿå…³é”®å°±æ˜¯å¦‚ä¸‹è¿™äº›ä»£ç ï¼Œä¸»è¦å°±æ˜¯åœ¨ <code>sess.run()</code> ä¸­åŠ å…¥ <code>options</code> å’Œ <code>run_metadata</code> å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">run_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)</span><br><span class="line">run_metadata = tf.RunMetadata()</span><br><span class="line">s, lss, acc , _ = sess.run([merged_summary, loss, accuracy, train_step], </span><br><span class="line">                           feed_dict=&#123;x: batch_x, y: batch_y, phase: <span class="number">1</span>&#125;,</span><br><span class="line">                           options=run_options,</span><br><span class="line">                           run_metadata=run_metadata)</span><br><span class="line">summary_writer.add_run_metadata(run_metadata, <span class="string">'step&#123;&#125;'</span>.format(i))</span><br><span class="line">summary_writer.add_summary(s, i)</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹© <code>Compute time</code> æˆ–è€… <code>Memory</code> æ¥æŸ¥çœ‹ç›¸åº”ä¿¡æ¯ï¼Œé¢œè‰²æ·±æµ…ä»£è¡¨è€—æ—¶å¤šå°‘æˆ–è€…å†…å­˜è€—ç”¨å¤šå°‘ã€‚</p><p><div><img src="https://i.imgur.com/TIMp4tq.png" width="100%" alt="compute-time-memory"></div></p><p><center><font color="gray"><em>è®¡ç®—è€—æ—¶</em></font><center></center></center></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æŸä¸ªèŠ‚ç‚¹ä»ä¸»å›¾ç§»é™¤ï¼Œå°†å…¶æ”¾åˆ°è¾…åŠ©èŠ‚ç‚¹ä¸­ï¼Œä»¥ä¾¿äºæˆ‘ä»¬æ›´æ¸…æ™°çš„è§‚å¯Ÿæ•´ä¸ªç½‘ç»œã€‚å…·ä½“æ“ä½œæ˜¯ <em>å³é”®è¯¥èŠ‚ç‚¹ï¼Œé€‰æ‹© <code>Remove from main graph</code></em> ã€‚</p><hr><h2 id="DISTRIBUTIONS"><a href="#DISTRIBUTIONS" class="headerlink" title="DISTRIBUTIONS"></a>DISTRIBUTIONS</h2><p><code>DISTRIBUTIONS</code> ä¸»è¦ç”¨æ¥å±•ç¤ºç½‘ç»œä¸­å„å‚æ•°éšè®­ç»ƒæ­¥æ•°çš„å¢åŠ çš„å˜åŒ–æƒ…å†µï¼Œå¯ä»¥è¯´æ˜¯ <em>å¤šåˆ†ä½æ•°æŠ˜çº¿å›¾</em> çš„å †å ã€‚ä¸‹é¢æˆ‘å°±ä¸‹é¢è¿™å¼ å›¾æ¥è§£é‡Šä¸‹ã€‚</p><p><div><img src="http://i.imgur.com/ztasEZc.png" width="100%" alt="conv1-weights"></div></p><p><center><font color="gray"><em>æƒé‡åˆ†å¸ƒ</em></font><center></center></center></p><p>è¿™å¼ å›¾è¡¨ç¤ºçš„æ˜¯ç¬¬äºŒä¸ªå·ç§¯å±‚çš„æƒé‡å˜åŒ–ã€‚æ¨ªè½´è¡¨ç¤ºè®­ç»ƒæ­¥æ•°ï¼Œçºµè½´è¡¨ç¤ºæƒé‡å€¼ã€‚è€Œä»ä¸Šåˆ°ä¸‹çš„æŠ˜ç°åˆ†åˆ«è¡¨ç¤ºæƒé‡åˆ†å¸ƒçš„ä¸åŒåˆ†ä½æ•°ï¼š<code>[maximum, 93%, 84%, 69%, 50%, 31%, 16%, 7%, minimum]</code>ã€‚å¯¹åº”äºæˆ‘çš„ä»£ç ï¼Œéƒ¨åˆ†å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(name):</span><br><span class="line">    W = tf.Variable(tf.truncated_normal(</span><br><span class="line">        [k, k, channels_in, channels_out], stddev=<span class="number">0.1</span>), name=<span class="string">'W'</span>)</span><br><span class="line">    b = tf.Variable(tf.constant(<span class="number">0.1</span>, shape=[channels_out]), name=<span class="string">'b'</span>)</span><br><span class="line">    conv = tf.nn.conv2d(inpt, W, strides=[<span class="number">1</span>, s, s, <span class="number">1</span>], padding=<span class="string">'SAME'</span>)</span><br><span class="line">    act = tf.nn.relu(conv)</span><br><span class="line">    tf.summary.histogram(<span class="string">'weights'</span>, W)</span><br><span class="line">    tf.summary.histogram(<span class="string">'biases'</span>, b)</span><br><span class="line">    tf.summary.histogram(<span class="string">'activations'</span>, act)</span><br></pre></td></tr></table></figure><hr><h2 id="HISTOGRAMS"><a href="#HISTOGRAMS" class="headerlink" title="HISTOGRAMS"></a>HISTOGRAMS</h2><p><strong><code>HISTOGRAMS</code> å’Œ <code>DISTRIBUTIONS</code> æ˜¯å¯¹åŒä¸€æ•°æ®ä¸åŒæ–¹å¼çš„å±•ç°</strong>ã€‚ä¸ <code>DISTRIBUTIONS</code> ä¸åŒçš„æ˜¯ï¼Œ<code>HISTOGRAMS</code> å¯ä»¥è¯´æ˜¯ <em>é¢‘æ•°åˆ†å¸ƒç›´æ–¹å›¾</em> çš„å †å ã€‚</p><p><div><img src="http://i.imgur.com/efGIjU9.png" width="100%" alt="conv1-weights-hist"></div></p><p><center><font color="gray"><em>æƒé‡åˆ†å¸ƒ</em></font><center></center></center></p><p>æ¨ªè½´è¡¨ç¤ºæƒé‡å€¼ï¼Œçºµè½´è¡¨ç¤ºè®­ç»ƒæ­¥æ•°ã€‚é¢œè‰²è¶Šæ·±è¡¨ç¤ºæ—¶é—´è¶Šæ—©ï¼Œè¶Šæµ…è¡¨ç¤ºæ—¶é—´è¶Šæ™šï¼ˆè¶Šæ¥è¿‘è®­ç»ƒç»“æŸï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ<code>HISTOGRAMS</code> è¿˜æœ‰ä¸ª <code>Histogram mode</code>ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š<code>OVERLAY</code> å’Œ <code>OFFSET</code>ã€‚é€‰æ‹© <code>OVERLAY</code> æ—¶æ¨ªè½´ä¸ºæƒé‡å€¼ï¼Œçºµè½´ä¸ºé¢‘æ•°ï¼Œæ¯ä¸€æ¡æŠ˜çº¿ä¸ºè®­ç»ƒæ­¥æ•°ã€‚é¢œè‰²æ·±æµ…ä¸ä¸Šé¢åŒç†ã€‚é»˜è®¤ä¸º <code>OFFSET</code> æ¨¡å¼ã€‚</p><hr><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è¿™ç¯‡åšæ–‡å†™äº†å¥½ä¹…ï¼Œä»å‡†å¤‡æ•°æ®åˆ°å¼€å§‹åŠ¨ç¬”å†™ï¼Œä¸­é—´ä¸€ç›´è¢«å„ç§äº‹å¹²æ‰°ã€‚ç”±äºæˆ‘æ°´å¹³æœ‰é™ï¼Œæˆ‘åªèƒ½å°½æœ€å¤§ç¨‹åº¦çš„ç»™å‡ºå°½å¯èƒ½æ­£ç¡®çš„è§£é‡Šï¼Œç„¶è€Œè¿˜æœ‰å¾ˆå¤šæˆ‘ç›®å‰è¿˜å…¼é¡¾ä¸åˆ°ï¼Œå¾ˆå¤šè¯ä¹Ÿä¸æ˜¯å¾ˆé€šé¡ºã€‚å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæˆ–è€…ç»™æˆ‘ç§ä¿¡æˆ–è€…ç»™æˆ‘é‚®ä»¶æŒ‡å‡ºã€‚</p><hr><h2 id="REFERENCES"><a href="#REFERENCES" class="headerlink" title="REFERENCES"></a>REFERENCES</h2><ul><li><a href="https://www.tensorflow.org/get_started/summaries_and_tensorboard" target="_blank" rel="noopener">TensorBoard: Visualizing Learning</a></li><li><a href="https://stats.stackexchange.com/questions/220491/how-does-one-interpret-histograms-given-by-tensorflow-in-tensorboard" target="_blank" rel="noopener">How does one interpret histograms given by TensorFlow in TensorBoard?</a></li><li><a href="https://github.com/tensorflow/tensorboard/blob/master/README.md" target="_blank" rel="noopener">TensorBoard</a></li><li><a href="https://www.tensorflow.org/get_started/tensorboard_histograms" target="_blank" rel="noopener">TensorBoard Histogram Dashboard</a></li><li><a href="https://stackoverflow.com/questions/42315202/understanding-tensorboard-weight-histograms" target="_blank" rel="noopener">Understanding TensorBoard (weight) histograms</a></li><li><a href="https://www.youtube.com/watch?v=eBbEDRsCmv4&amp;t=1105s" target="_blank" rel="noopener">Hands-on TensorBoard (TensorFlow Dev Summit 2017)</a></li></ul><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.tensorflow.org/get_started/summaries_and_tensorboard&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;TensorBoard&lt;/a&gt; æ˜¯ç”¨äºå¯è§†åŒ– TensorFlow æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹çš„å·¥å…·ï¼ˆthe flow of tensorsï¼‰ï¼Œåœ¨ä½ å®‰è£… TensorFlow çš„æ—¶å€™å°±å·²ç»å®‰è£…äº† TensorBoardã€‚æˆ‘åœ¨å‰é¢çš„ &lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/62882006&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ã€TensorFlowã€‘TensorFlow çš„å·ç§¯ç¥ç»ç½‘ç»œ CNN - TensorBoardç‰ˆ&lt;/a&gt; å’Œ &lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/53560426&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ã€Python | TensorBoardã€‘ç”¨ PCA å¯è§†åŒ– MNIST æ‰‹å†™æ•°å­—è¯†åˆ«æ•°æ®é›†&lt;/a&gt; åˆ†åˆ«éå¸¸ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹è¿™ä¸ªå·¥å…·ï¼Œæ²¡æœ‰è¯¦ç»†è¯´æ˜ï¼Œè¿™æ¬¡æ¥ï¼ˆå°½å¯èƒ½è¯¦ç»†çš„ï¼‰æ•´ä½“è¯´ä¸€ä¸‹ï¼Œè€Œä¸”è¿™æ¬¡ä¹Ÿæ˜¯å¯¹ &lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/62882006&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å‰è€…&lt;/a&gt; ä»£ç çš„ä¸€ä¸ªå‡çº§ï¼Œå¾ˆå¤§ç¨‹åº¦çš„æ”¹å˜äº†ä»£ç ç»“æ„ï¼Œå°†è¾“å…¥å’Œè®­ç»ƒåˆ†ç¦»å¼€æ¥ï¼Œç»“æ„æ›´æ¸…æ™°ã€‚å°å¼Ÿä¸æ‰ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿è¯„è®ºåŒºæŒ‡å‡ºã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="TensorFlow" scheme="http://yoursite.com/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>Numpy ä¸­çš„ shuffle VS permutation</title>
    <link href="http://yoursite.com/2017/06/17/numpy-shuffle-permutation/"/>
    <id>http://yoursite.com/2017/06/17/numpy-shuffle-permutation/</id>
    <published>2017-06-17T15:28:00.000Z</published>
    <updated>2017-12-23T00:22:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰éšæœºæ‰“ä¹±ä¸€ä¸ªæ•°ç»„çš„éœ€æ±‚ï¼Œä¾‹å¦‚è®­ç»ƒæ—¶éšæœºæ‰“ä¹±æ ·æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>numpy.random.shuffle()</code> æˆ–è€… <code>numpy.random.permutation()</code> æ¥å®Œæˆã€‚è¿™ä¸¤è€…éå¸¸ç›¸ä¼¼ï¼Œå®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆä»–ä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><a id="more"></a><p>æœ¬æ–‡ä»£ç åŠå›¾ç‰‡å¯ä»¥åœ¨ <a href="https://github.com/secsilm/shuffle-vs-permutation-numpy" target="_blank" rel="noopener">æˆ‘çš„GitHub</a> æ‰¾åˆ°ã€‚</p><hr><h2 id="å‚æ•°åŒºåˆ«"><a href="#å‚æ•°åŒºåˆ«" class="headerlink" title="å‚æ•°åŒºåˆ«"></a>å‚æ•°åŒºåˆ«</h2><p>ä»¥ä¸‹ <code>numpy.random.shuffle()</code> ç®€ç§° <code>shuffle</code>ï¼Œ<code>numpy.random.permutation()</code> ç®€ç§° <code>permutation</code>ã€‚</p><ul><li><code>shuffle</code> çš„å‚æ•°åªèƒ½æ˜¯ <code>array_like</code>ï¼Œè€Œ <code>permutation</code> é™¤äº† <code>array_like</code> è¿˜å¯ä»¥æ˜¯ <code>int</code> ç±»å‹ï¼Œå¦‚æœæ˜¯ <code>int</code> ç±»å‹ï¼Œé‚£å°±éšæœºæ‰“ä¹± <code>numpy.arange(int)</code>ã€‚</li><li><strong><code>shuffle</code> è¿”å› <code>None</code></strong>ï¼Œè¿™ç‚¹å°¤å…¶è¦æ³¨æ„ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰è¿”å›å€¼ï¼Œè€Œ <code>permutation</code> åˆ™è¿”å›æ‰“ä¹±åçš„ arrayã€‚</li></ul><hr><h2 id="å®ç°åŒºåˆ«"><a href="#å®ç°åŒºåˆ«" class="headerlink" title="å®ç°åŒºåˆ«"></a>å®ç°åŒºåˆ«</h2><p><code>permutation</code> å…¶å®åœ¨å†…éƒ¨å®ç°ä¹Ÿæ˜¯è°ƒç”¨çš„ <code>shuffle</code>ï¼Œè¿™ç‚¹ä» <a href="https://github.com/numpy/numpy/blob/master/numpy/random/mtrand/mtrand.pyx#L4847" target="_blank" rel="noopener">Numpy çš„æºç </a> å¯ä»¥çœ‹å‡ºæ¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">permutation</span><span class="params">(self, object x)</span>:</span></span><br><span class="line">    <span class="string">'''è¿™é‡Œéƒ½æ˜¯å¸®åŠ©æ–‡æ¡£ï¼Œæˆ‘å°±çœç•¥äº†'''</span></span><br><span class="line">    <span class="keyword">if</span> isinstance(x, (int, long, np.integer)):</span><br><span class="line">        arr = np.arange(x)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        arr = np.array(x)</span><br><span class="line">    self.shuffle(arr)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure><hr><h2 id="é€Ÿåº¦åŒºåˆ«"><a href="#é€Ÿåº¦åŒºåˆ«" class="headerlink" title="é€Ÿåº¦åŒºåˆ«"></a>é€Ÿåº¦åŒºåˆ«</h2><p>ä¸ºäº†æµ‹è¯•ä¸¤è€…çš„é€Ÿåº¦åŒºåˆ«ï¼Œæˆ‘åˆ†åˆ«ä½¿ç”¨äº† <code>shuffle</code> å’Œ <code>permutation</code> å¯¹ä¸åŒé•¿åº¦çš„ array è¿›è¡Œéšæœºæ‰“ä¹±å¹¶è®¡æ—¶ã€‚</p><p>å…³é”®ä»£ç å¦‚ä¸‹:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">10</span> ** np.arange(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line">shuffle_elapsed = []</span><br><span class="line">permutation_elapsed = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> n:</span><br><span class="line">    print(i)</span><br><span class="line">    start = time.time()</span><br><span class="line">    a = np.arange(i)</span><br><span class="line">    np.random.shuffle(a)</span><br><span class="line">    end = time.time()</span><br><span class="line">    shuffle_elapsed.append((i, end - start))</span><br><span class="line"></span><br><span class="line">    start = time.time()</span><br><span class="line">    b = np.random.permutation(i)</span><br><span class="line">    end = time.time()</span><br><span class="line">    permutation_elapsed.append((i, end - start))</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="http://img.blog.csdn.net/20170618130741322?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æŸ¥çœ‹å¤§å›¾</em></p><p>å¯ä»¥çœ‹å‡ºåœ¨è¾¾åˆ° $10^9$ çº§åˆ«ä»¥å‰ï¼Œä¸¤è€…é€Ÿåº¦å‡ ä¹æ²¡æœ‰å·®åˆ«ï¼Œä½†æ˜¯åœ¨ è¾¾åˆ° $10^9$ ä»¥åä¸¤è€…é€Ÿåº¦å·®è·æ˜æ˜¾æ‹‰å¤§ï¼Œ<code>shuffle</code> çš„ç”¨æ—¶æ˜æ˜¾çŸ­äº <code>permutation</code>ã€‚</p><p>æ‰€ä»¥åœ¨ array å¾ˆå¤§çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨ <code>shuffle</code> é€Ÿåº¦æ›´å¿«äº›ï¼Œä½†è¦æ³¨æ„å…¶ä¸è¿”å›æ‰“ä¹±åçš„ arrayï¼Œæ˜¯ inplace ä¿®æ”¹ã€‚</p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰éšæœºæ‰“ä¹±ä¸€ä¸ªæ•°ç»„çš„éœ€æ±‚ï¼Œä¾‹å¦‚è®­ç»ƒæ—¶éšæœºæ‰“ä¹±æ ·æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;numpy.random.shuffle()&lt;/code&gt; æˆ–è€… &lt;code&gt;numpy.random.permutation()&lt;/code&gt; æ¥å®Œæˆã€‚è¿™ä¸¤è€…éå¸¸ç›¸ä¼¼ï¼Œå®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆä»–ä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow DNNRegressor çš„ç®€å•ä½¿ç”¨</title>
    <link href="http://yoursite.com/2017/06/02/tensorflow-DNNRegressor/"/>
    <id>http://yoursite.com/2017/06/02/tensorflow-DNNRegressor/</id>
    <published>2017-06-02T14:03:00.000Z</published>
    <updated>2017-12-26T02:07:47.750Z</updated>
    
    <content type="html"><![CDATA[<p><code>tf.contrib.learn.DNNRegressor</code> æ˜¯ TensoFlow ä¸­å®ç°çš„ä¸€ä¸ªç¥ç»ç½‘ç»œå›å½’å™¨ã€‚ä¸€èˆ¬ç¥ç»ç½‘ç»œç”¨äºåˆ†ç±»é—®é¢˜çš„æ¯”è¾ƒå¤šï¼Œä½†æ˜¯åŒæ ·å¯ä»¥ç”¨äºå›å½’é—®é¢˜å’Œæ— ç›‘ç£å­¦ä¹ é—®é¢˜ã€‚<br><a id="more"></a><br>æ­¤æ–‡çš„ä»£ç å’Œæ‰€ç”Ÿæˆçš„ TensorBoard æ–‡ä»¶å¯ä»¥ä» <a href="https://github.com/secsilm/TensorFlow-DNNRegressor" target="_blank" rel="noopener">secsilm/TensorFlow-DNNRegressor: æ–‡ç«  TensorFlow DNNRegressor çš„ç®€å•ä½¿ç”¨ çš„ä»£ç åŠ TensorBoard æ–‡ä»¶ã€‚</a> ä¸‹è½½ã€‚</p><hr><h2 id="tf-contrib-learn"><a href="#tf-contrib-learn" class="headerlink" title="tf.contrib.learn"></a><code>tf.contrib.learn</code></h2><p><code>tf.contrib.learn</code> æ˜¯ TensorFlow æä¾›çš„ä¸€ä¸ªæœºå™¨å­¦ä¹ é«˜çº§ API æ¨¡å—ï¼Œè®©ç”¨æˆ·å¯ä»¥æ›´æ–¹ä¾¿çš„é…ç½®ã€è®­ç»ƒå’Œè¯„ä¼°å„ç§å„æ ·çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œé‡Œé¢å†…ç½®äº†å¾ˆå¤šæ¨¡å‹å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä½¿ç”¨ç±»ä¼¼ <a href="http://scikit-learn.org/stable/" target="_blank" rel="noopener">scikit-learn</a> çš„ API ã€‚å¤§è‡´æœ‰ä»¥ä¸‹å‡ ç§æ¨¡å‹ï¼Œå…·ä½“å¯å‚è€ƒ <a href="https://www.tensorflow.org/api_guides/python/contrib.learn" target="_blank" rel="noopener">Learn (contrib)</a>ï¼š</p><ul><li>K-means èšç±» <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/KMeansClustering" target="_blank" rel="noopener"><code>tf.contrib.learn.KMeansClustering</code></a></li><li>ç¥ç»ç½‘ç»œåˆ†ç±»å™¨ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/DNNClassifier" target="_blank" rel="noopener"><code>tf.contrib.learn.DNNClassifier</code></a></li><li>ç¥ç»ç½‘ç»œå›å½’å™¨ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/DNNRegressor" target="_blank" rel="noopener"><code>tf.contrib.learn.DNNRegressor</code></a></li><li>å¹¿åº¦æ·±åº¦å›å½’ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/DNNLinearCombinedRegressor" target="_blank" rel="noopener"><code>tf.contrib.learn.DNNLinearCombinedRegressor</code></a></li><li>å¹¿åº¦æ·±åº¦åˆ†ç±» <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/DNNLinearCombinedClassifier" target="_blank" rel="noopener"><code>tf.contrib.learn.DNNLinearCombinedClassifier</code></a></li><li>çº¿æ€§åˆ†ç±»<a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/LinearClassifier" target="_blank" rel="noopener"><code>tf.contrib.learn.LinearClassifier</code></a></li><li>çº¿æ€§å›å½’ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/LinearRegressor" target="_blank" rel="noopener"><code>tf.contrib.learn.LinearRegressor</code></a></li><li>é€»è¾‘æ–¯è°›å›å½’ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/LogisticRegressor" target="_blank" rel="noopener"><code>tf.contrib.learn.LogisticRegressor</code></a></li></ul><hr><h2 id="DNNRegressor"><a href="#DNNRegressor" class="headerlink" title="DNNRegressor"></a>DNNRegressor</h2><p>ä¸‹é¢ä»¥æ³¢å£«é¡¿æˆ¿ä»·é¢„æµ‹çš„ä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ DNNRegressor çš„ä½¿ç”¨ã€‚</p><p>æ³¢å£«é¡¿æˆ¿ä»·æ•°æ®é›†å¤§å°ä¸º 506*14ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰ 506 ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬æœ‰ 13 ä¸ªç‰¹å¾ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯è¦é¢„æµ‹çš„æˆ¿ä»·ã€‚æ•°æ®é›†æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ scikit-learn çš„ <code>load_boston()</code> å‡½æ•°ç›´æ¥è½½å…¥ï¼Œè¿™é‡Œå¼•ç”¨ä¸‹UCI çš„è§£é‡Šï¼š</p><blockquote><ol><li>CRIM      per capita crime rate by town</li><li>ZN        proportion of residential land zoned for lots over 25,000 sq.ft.</li><li>INDUS     proportion of non-retail business acres per town</li><li>CHAS      Charles River dummy variable (= 1 if tract bounds river; 0 otherwise)</li><li>NOX       nitric oxides concentration (parts per 10 million)</li><li>RM        average number of rooms per dwelling</li><li>AGE       proportion of owner-occupied units built prior to 1940</li><li>DIS       weighted distances to five Boston employment centres</li><li>RAD       index of accessibility to radial highways</li><li>TAX      full-value property-tax rate per $10,000</li><li>PTRATIO  pupil-teacher ratio by town</li><li>B        1000(Bk - 0.63)^2 where Bk is the proportion of blacks by town</li><li>LSTAT    % lower status of the population</li><li>MEDV     Median value of owner-occupied homes in $1000&#39;s</li></ol></blockquote><p>å¼€å§‹å‰å…ˆè¯´æ˜ä¸€ä¸‹ï¼ŒDNNRegressor çš„ä½¿ç”¨é€»è¾‘å’Œå…¶ä»–åº“çš„ä¸å¤ªä¸€æ ·ï¼Œå¦‚æœä½ æ¯”è¾ƒç†Ÿæ‚‰ TensorFlow çš„è¯å°±æ¯”è¾ƒå¥½ç†è§£ï¼šæˆ‘ä»¬æ˜¯å…ˆå®šä¹‰ä¸€äº›è®¡ç®—å›¾ï¼Œè¿™æ—¶å€™å¹¶ä¸çœŸæ­£çš„ä¼ å…¥æ•°æ®ï¼Œç„¶ååœ¨è®­ç»ƒçš„æ—¶å€™å»æ‰§è¡Œè¿™ä¸ªè®¡ç®—å›¾ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ—¶å€™æ‰å¼€å§‹å°†çœŸæ­£çš„æ•°æ®ç©¿è¿›å»ã€‚ç›¸å½“äºæ˜¯ç»„è£…ä¸€æ¡äº§å“çš„ç”Ÿäº§çº¿ï¼Œåˆšå¼€å§‹æˆ‘ä»¬åªæ˜¯æŠŠè¿™å°ç”Ÿäº§çº¿ç»„è£…å¥½ï¼Œå¹¶ä¸å¼€å§‹çœŸæ­£çš„ç”Ÿäº§äº§å“ï¼ˆä¿æœ‰æ•°æ®ï¼‰ï¼Œåˆ°æœ€åé˜¶æ®µï¼ˆè®­ç»ƒé˜¶æ®µï¼‰æ‰ä¼šçœŸæ­£çš„æŠŠåŸææ–™ã€Œå–‚ç»™ã€ç”Ÿäº§çº¿ä¸Šæ¥ç”Ÿäº§äº§å“ã€‚</p><p>ä¸‹é¢çš„ç¨‹åºå¤§è‡´ä¸Šæ˜¯è¿™ä¹ˆå‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li>è½½å…¥æ•°æ®</li><li>å®šä¹‰ <code>FeatureColumn</code></li><li>å®šä¹‰ regressor</li><li>è®­ç»ƒ</li><li>è¯„ä¼°</li><li>é¢„æµ‹</li></ol><h3 id="è½½å…¥æ•°æ®"><a href="#è½½å…¥æ•°æ®" class="headerlink" title="è½½å…¥æ•°æ®"></a>è½½å…¥æ•°æ®</h3><p>å¦‚ä¸Šæ‰€è¯´ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ scikit-learn çš„ <code>load_boston()</code> å‡½æ•°æ¥è½½å…¥æ•°æ®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">boston = load_boston()</span><br><span class="line">boston_df = pd.DataFrame(np.c_[boston.data, boston.target], columns=np.append(boston.feature_names, <span class="string">'MEDV'</span>))</span><br><span class="line">LABEL_COLUMN = [<span class="string">'MEDV'</span>]</span><br><span class="line">FEATURE_COLUMNS = [f <span class="keyword">for</span> f <span class="keyword">in</span> boston_df <span class="keyword">if</span> <span class="keyword">not</span> f <span class="keyword">in</span> LABEL_COLUMN]</span><br></pre></td></tr></table></figure><p><code>boston</code> æ˜¯ä¸€ä¸ª numpy å¤šç»´æ•°ç»„ï¼Œä¸ºäº†åé¢æ–¹ä¾¿è½¬æ¢æˆ pandas çš„ DataFrame ç±»å‹ï¼Œ<code>MEDV</code> å°±æ˜¯æˆ‘ä»¬è¦é¢„æµ‹çš„å˜é‡ã€‚</p><p>ç„¶åæˆ‘ä»¬ä½¿ç”¨ <code>train_test_split()</code> æ¥æŒ‰ç…§ 7:3 çš„æ¯”ä¾‹æ¥åˆ†å‰²æ•°æ®é›†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(boston_df[FEATURE_COLUMNS], boston_df[LABEL_COLUMN], test_size=<span class="number">0.3</span>)</span><br><span class="line">print(<span class="string">'è®­ç»ƒé›†ï¼š&#123;&#125;\næµ‹è¯•é›†ï¼š&#123;&#125;'</span>.format(X_train.shape, X_test.shape))</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è®­ç»ƒé›†ï¼š(354, 13)</span><br><span class="line">æµ‹è¯•é›†ï¼š(152, 13)</span><br></pre></td></tr></table></figure><p>åœ¨è¿›è¡Œä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•çš„çœ‹ä¸‹è¿™ä¸ªæ•°æ®é›†çš„åˆ†å¸ƒæƒ…å†µã€‚</p><p>å„ä¸ªå˜é‡çš„ violin å›¾ï¼Œä»è¿™äº›å›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¯ä¸ªå˜é‡çš„åˆ†å¸ƒæƒ…å†µï¼š</p><p><img src="http://img.blog.csdn.net/20170602195143390?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="violinplot"></p><p>14 ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³æƒ…å†µï¼š</p><p><img src="http://img.blog.csdn.net/20170602200737942?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="corrplot"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å¯ä»¥æŸ¥çœ‹å¤§å›¾</em></p><p>ä»è¿™ä¸ªå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡º RM ï¼ˆä½å®…å¹³å‡æˆ¿é—´æ•°ï¼‰ä¸æœ€ç»ˆçš„å”®ä»·æ˜¯æœ€æ­£ç›¸å…³çš„ï¼Œè€Œ LSTAT ï¼ˆäººå£ä¸­åœ°ä½ä½ä¸‹è€…çš„æ¯”ä¾‹ï¼‰æ˜¯æœ€è´Ÿç›¸å…³çš„ã€‚</p><h3 id="å®šä¹‰-FeatureColumn"><a href="#å®šä¹‰-FeatureColumn" class="headerlink" title="å®šä¹‰ FeatureColumn"></a>å®šä¹‰ <code>FeatureColumn</code></h3><p>TensorFlow ä½¿ç”¨ <a href="https://www.tensorflow.org/tutorials/linear#feature_columns_and_transformations" target="_blank" rel="noopener"><code>FeatureColumn</code></a> æ¥è¡¨ç¤ºæ•°æ®é›†ä¸­çš„ä¸€ä¸ªçš„ç‰¹å¾ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç‰¹å¾ç±»å‹ï¼ˆè¿ç»­æˆ–è€…åˆ†ç±»ï¼‰æŠŠåŸæ¥çš„ç‰¹å¾éƒ½è½¬æ¢æˆ <code>FeatureColumn</code>ã€‚æ­¤å¤„æ•°æ®å·²ç»éƒ½æ˜¯è¿ç»­æ•°å€¼äº†ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ <code>tf.contrib.layers.real_valued_column()</code> æ¥è½¬æ¢æˆ <code>FeatureColumn</code>ï¼Œå¦‚æœæ˜¯åˆ†ç±»å˜é‡ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>tf.contrib.layers.sparse_column_with_keys()</code> æˆ–è€… <code>tf.contrib.layers.sparse_column_with_hash_bucket()</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">feature_cols = [tf.contrib.layers.real_valued_column(k) <span class="keyword">for</span> k <span class="keyword">in</span> FEATURE_COLUMNS]</span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰-regressor"><a href="#å®šä¹‰-regressor" class="headerlink" title="å®šä¹‰ regressor"></a>å®šä¹‰ regressor</h3><p>è¿™é‡Œå°±åˆ°å®šä¹‰æ¨¡å‹çš„æ—¶å€™äº†ï¼Œä¹Ÿå°±æ˜¯ DNNRegressorï¼Œå°†æˆ‘ä»¬å‰é¢å®šä¹‰çš„ <code>FeatureColumn</code> ä¼ è¿›å»ï¼Œå†è®¾ç½®ä¸‹éšè—å±‚çš„å±‚æ•°å’Œç¥ç»å…ƒæ•°é‡ï¼ŒæŒ‡å®šæ¨¡å‹ä¿å­˜ç›®å½•ï¼ˆè®­ç»ƒå®Œæˆåå¯ä»¥ä½¿ç”¨ tensorboard å¯è§†åŒ–ç½‘ç»œç»“æ„å’Œè®­ç»ƒè¿‡ç¨‹ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">regressor = tf.contrib.learn.DNNRegressor(feature_columns=feature_cols, </span><br><span class="line">                                          hidden_units=[<span class="number">64</span>, <span class="number">128</span>], </span><br><span class="line">                                          model_dir=<span class="string">'./models/dnnregressor'</span>)</span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰-input-fn"><a href="#å®šä¹‰-input-fn" class="headerlink" title="å®šä¹‰ input_fn"></a>å®šä¹‰ <code>input_fn</code></h3><p>å®šä¹‰å®Œ regressor ä¹‹åå°±æ˜¯æ¨¡å‹çš„è®­ç»ƒäº†ï¼Œä½†æ˜¯åœ¨è®­ç»ƒå¼€å§‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸‹ä¼ ç»™æ¨¡å‹è®­ç»ƒçš„æ•°æ®çš„æ ¼å¼ï¼Œè¿™å°±æ˜¯ <a href="https://www.tensorflow.org/get_started/input_fn" target="_blank" rel="noopener"><code>input_fn</code></a> çš„ä½œç”¨ã€‚<code>input_fn</code> å¿…é¡»è¿”å› <code>feature_cols</code> å’Œ <code>labels</code>ã€‚</p><ul><li><code>feature_cols</code> æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œ key æ˜¯ç‰¹å¾çš„åå­—ï¼Œvalue æ˜¯å¯¹åº”çš„æ•°æ®ï¼ˆTensor æ ¼å¼ï¼‰</li><li><code>labels</code> æ˜¯ä¸€ä¸ª Tensorï¼Œå°±æ˜¯ä½ è¦é¢„æµ‹çš„å˜é‡</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">input_fn</span><span class="params">(df, label)</span>:</span></span><br><span class="line">    feature_cols = &#123;k: tf.constant(df[k].values) <span class="keyword">for</span> k <span class="keyword">in</span> FEATURE_COLUMNS&#125;</span><br><span class="line">    label = tf.constant(label.values)</span><br><span class="line">    <span class="keyword">return</span> feature_cols, label</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_input_fn</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''è®­ç»ƒé˜¶æ®µä½¿ç”¨çš„ input_fn'''</span></span><br><span class="line">    <span class="keyword">return</span> input_fn(X_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_input_fn</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''æµ‹è¯•é˜¶æ®µä½¿ç”¨çš„ input_fn'''</span></span><br><span class="line">    <span class="keyword">return</span> input_fn(X_test, y_test)</span><br></pre></td></tr></table></figure><h3 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h3><p>å®šä¹‰å®Œ <code>input_fn</code> æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹çœŸæ­£çš„è®­ç»ƒè¿‡ç¨‹äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">regressor.fit(input_fn=train_input_fn, steps=<span class="number">5000</span>)</span><br></pre></td></tr></table></figure><p>è®­ç»ƒé˜¶æ®µå’Œæµ‹è¯•é˜¶æ®µæ‰€ç”¨çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥åœ¨ä¸Šé¢æˆ‘åˆåˆ†åˆ«ä¸ºè®­ç»ƒå’Œæµ‹è¯•å†™äº†ä¸€ä¸ª <code>input_fn</code>ã€‚å½“ç„¶é™¤äº†è¿™ç§æ–¹å¼è¿˜æœ‰å…¶ä»–æ–¹å¼ï¼Œä½ å¯ä»¥åªå†™ä¸€ä¸ª <code>input_fn</code>ï¼Œç„¶ååœ¨ <code>fit</code> çš„æ—¶å€™ä½¿ç”¨ç±»ä¼¼ <code>input_fn=lambda: input_fn(training_set)</code> æ¥åˆ¶å®šä¼ å…¥çš„æ•°æ®é›†ã€‚æ³¨æ„ä½ ä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>input_fn=input_fn(training_set)</code> ï¼Œå› ä¸º <code>input_fn</code> å‚æ•°çš„å€¼æ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ã€‚</p><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ev = regressor.evaluate(input_fn=test_input_fn, steps=<span class="number">1</span>)</span><br><span class="line">print(<span class="string">'ev: &#123;&#125;'</span>.format(ev))</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœæ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…æ‹¬æœ€ç»ˆæŸå¤±å’Œè¿­ä»£æ­¥æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ev: &#123;&apos;loss&apos;: 32.229404, &apos;global_step&apos;: 5000&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä» TensorBoard å¯ä»¥çœ‹åˆ°æœ€ç»ˆçš„è®­ç»ƒæŸå¤±å’Œæµ‹è¯•æŸå¤±ï¼š</p><p><img src="http://img.blog.csdn.net/20170602215657871?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="loss"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å¯ä»¥æŸ¥çœ‹å¤§å›¾</em></p><p>æ•´ä¸ªè®¡ç®—å›¾æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="http://img.blog.csdn.net/20170602215843609?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="graph"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å¯ä»¥æŸ¥çœ‹å¤§å›¾</em></p><h3 id="é¢„æµ‹"><a href="#é¢„æµ‹" class="headerlink" title="é¢„æµ‹"></a>é¢„æµ‹</h3><p>ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œåªè¾“å‡ºå‰ 10 é¡¹é¢„æµ‹ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">predict = regressor.predict(input_fn=test_input_fn, as_iterable=<span class="keyword">False</span>)</span><br><span class="line">print(predict[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="number">25.04570198</span>  <span class="number">31.65488815</span>  <span class="number">11.31779861</span>  <span class="number">14.20497131</span>  <span class="number">31.12402344</span></span><br><span class="line">  <span class="number">37.50260925</span>  <span class="number">25.20910835</span>  <span class="number">24.17683983</span>  <span class="number">20.83440208</span>  <span class="number">35.22043991</span>]</span><br></pre></td></tr></table></figure><hr><h2 id="Trouble-Shooting"><a href="#Trouble-Shooting" class="headerlink" title="Trouble Shooting"></a>Trouble Shooting</h2><h3 id="InternalError-see-above-for-traceback-Blas-SGEMM-launch-failed"><a href="#InternalError-see-above-for-traceback-Blas-SGEMM-launch-failed" class="headerlink" title="InternalError (see above for traceback): Blas SGEMM launch failed"></a><code>InternalError (see above for traceback): Blas SGEMM launch failed</code></h3><p>å¦‚æœä½ çš„ç¨‹åºæŠ¥ç±»ä¼¼è¿™æ ·çš„é”™ï¼Œè¯´æ˜ä½ åœ¨ä½¿ç”¨ GPU è®¡ç®—ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰ä¸”ä½ çš„ GPU å¯ç”¨æ˜¾å­˜ä¸è¶³ï¼ŒTensorFlow æ€»æ˜¯è¯•å›¾ä¸ºè‡ªå·±åˆ†é…å…¨éƒ¨æ˜¾å­˜ï¼Œä¾‹å¦‚ä½ çš„æ˜¾å­˜æ˜¯ 2GBï¼Œé‚£ä¹ˆä»–å°±ä¼šè¯•å›¾ä¸ºè‡ªå·±åˆ†é… 2GBï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ä½ çš„æ˜¾å­˜ä¸ä¼šä¸€ç‚¹éƒ½ä¸è¢«å…¶ä»–ç¨‹åºå ç”¨çš„ï¼Œå¯¼è‡´ TensorFlow åˆ†é…æ˜¾å­˜å¤±è´¥ã€‚</p><p><strong>è§£å†³åŠæ³•</strong>æ˜¯åœ¨å®šä¹‰ regressor çš„æ—¶å€™ä½¿ç”¨ <code>config</code> å‚æ•°ä¸­çš„ <code>gpu_memory_fraction</code> æ¥æŒ‡å®šåˆ†é…ç»™ TensorFlow çš„æ˜¾å­˜å¤§å°ï¼ˆæ¯”ä¾‹ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># log_device_placement ç”¨äºè®°å½•å¹¶è¾“å‡ºä½¿ç”¨çš„è®¾å¤‡ï¼Œå¯ä»¥ä¸ç”¨å†™</span></span><br><span class="line">config = tf.contrib.learn.RunConfig(gpu_memory_fraction=<span class="number">0.3</span>, log_device_placement=<span class="keyword">True</span>)</span><br><span class="line">regressor = tf.contrib.learn.DNNRegressor(feature_columns=feature_cols, </span><br><span class="line">                                          hidden_units=[<span class="number">64</span>, <span class="number">128</span>], </span><br><span class="line">                                          model_dir=<span class="string">'./models/dnnregressor'</span>, </span><br><span class="line">                                          config=config)</span><br></pre></td></tr></table></figure><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;tf.contrib.learn.DNNRegressor&lt;/code&gt; æ˜¯ TensoFlow ä¸­å®ç°çš„ä¸€ä¸ªç¥ç»ç½‘ç»œå›å½’å™¨ã€‚ä¸€èˆ¬ç¥ç»ç½‘ç»œç”¨äºåˆ†ç±»é—®é¢˜çš„æ¯”è¾ƒå¤šï¼Œä½†æ˜¯åŒæ ·å¯ä»¥ç”¨äºå›å½’é—®é¢˜å’Œæ— ç›‘ç£å­¦ä¹ é—®é¢˜ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="http://yoursite.com/tags/Machine-Learning/"/>
    
      <category term="TensorFlow" scheme="http://yoursite.com/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>XGBoost åœ¨ Windows 10 å’Œ Ubuntu ä¸Šçš„å®‰è£…</title>
    <link href="http://yoursite.com/2017/05/18/installing-xgboost/"/>
    <id>http://yoursite.com/2017/05/18/installing-xgboost/</id>
    <published>2017-05-18T02:58:00.000Z</published>
    <updated>2017-12-23T00:22:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºä»€ä¹ˆæ˜¯ <code>XGBoost</code>ï¼Œæˆ‘åœ¨è¿™é‡Œä¸å†è§£é‡Šï¼Œå¦‚æœæœ‰æ—¶é—´çš„è¯å†å†™ä¸€ç¯‡æ–‡ç« æ¥è§£é‡Šï¼Œåœ¨æ•°æ®ç§‘å­¦é‡Œéå¸¸æœ‰ç”¨ã€‚å¤§å®¶å¯ä»¥å‚è€ƒ Tianqi Chen çš„è®ºæ–‡ <a href="https://arxiv.org/abs/1603.02754" target="_blank" rel="noopener">XGBoost: A Scalable Tree Boosting System</a> ï¼Œæœ¬ç¯‡æ–‡ç« åªæ˜¯åœ¨ Windows 10 å’Œ Ubuntu ä¸Šå®‰è£… <code>XGBoost</code> çš„ Python åŒ…çš„æ–¹æ³•ï¼ŒUbuntu ç‰ˆæœ¬ä¸º 16.04 LTSï¼ŒPython ç‰ˆæœ¬å‡ä¸º 3.5ï¼ŒAnacondaã€‚</p><a id="more"></a><hr><h2 id="Windows-10"><a href="#Windows-10" class="headerlink" title="Windows 10"></a>Windows 10</h2><h3 id="å®˜ç½‘"><a href="#å®˜ç½‘" class="headerlink" title="å®˜ç½‘"></a>å®˜ç½‘</h3><p><a href="https://xgboost.readthedocs.io/en/latest/build.html" target="_blank" rel="noopener">å®˜ç½‘</a> ä»‹ç»çš„æ–¹æ³•æ˜¯ä» <a href="https://github.com/dmlc/xgboost/" target="_blank" rel="noopener">GitHub</a> ç¼–è¯‘å®‰è£…ï¼Œä½†æ˜¯åœ¨æˆ‘çš„æœºå™¨ä¸Šæ²¡æœ‰æˆåŠŸï¼Œ<code>pip</code> åŒæ ·ä¸æˆåŠŸã€‚æœ‰å…´è¶£çš„è¯å¯ä»¥å‚è€ƒå®˜ç½‘å’Œ 2016 å¹´çš„ä¸€ç¯‡æ–‡ç«  <a href="https://www.ibm.com/developerworks/community/blogs/jfp/entry/Installing_XGBoost_For_Anaconda_on_Windows?lang=zh" target="_blank" rel="noopener"><br>Installing XGBoost For Anaconda on Windows</a> æ¥è¯•è¯•ã€‚</p><h3 id="Unofficial-Windows-Binaries-for-Python-Extension-Packages"><a href="#Unofficial-Windows-Binaries-for-Python-Extension-Packages" class="headerlink" title="Unofficial Windows Binaries for Python Extension Packages"></a>Unofficial Windows Binaries for Python Extension Packages</h3><p><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="noopener">è¿™ä¸ª</a> æ˜¯åŠ å·å¤§å­¦æä¾›çš„ä¸€ä¸ªéå®˜æ–¹åŒ…åˆ—è¡¨ï¼Œæä¾›äº†å¾ˆå¤š Python åŒ…çš„ <code>whl</code> æ–‡ä»¶ä¸‹è½½ï¼Œ<code>XGBoost</code> çš„åœ¨ <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#xgboost" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼Œæˆ‘è‡ªå·±ä¸‹å¥½äº†ä¸€ä»½æ”¾åœ¨é‡Œ <a href="http://download.csdn.net/download/u010099080/9845455" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚æ ¹æ®ä½ çš„ç¯å¢ƒä¸‹è½½å¯¹åº”çš„åŒ…ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ Python 3.5ï¼ŒWindows 10 64 ä½ï¼Œé‚£å°±é€‰ä¸‹é¢çº¢æ¡†è¿™ä¸ªï¼š</p><p><img src="http://img.blog.csdn.net/20170518105305496?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"> </p><p>ç„¶åå†å‘½ä»¤è¡Œä¸­ä½¿ç”¨ä¸‹é¢çš„è¯­å¥å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install xgboost-0.6-cp35-cp35m-win_amd64.whl</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåä½¿ç”¨ <code>import xgboost</code> å¯¼å…¥å³å¯ã€‚å¯¼å…¥å®Œæˆåå¯èƒ½ä¼šæœ‰è­¦å‘Šæç¤ºï¼š</p><p><img src="http://img.blog.csdn.net/20170518105542912?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä¸è¿‡æš‚æ—¶ä¸å½±å“ï¼Œè¿™ä¸ªé—®é¢˜å·²ç»åœ¨ GitHub ç‰ˆæœ¬ä¿®å¤äº†ï¼Œä½†æ˜¯è¿™ä¸ª <code>whl</code> æ–‡ä»¶å¹¶ä¸æ˜¯æœ€æ–°çš„ã€‚</p><hr><h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><h3 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h3><p>æˆ‘åœ¨ Ubuntu ä¸Šä½¿ç”¨ pip æ–¹å¼å®‰è£…æˆåŠŸï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ pip install xgboost</span><br><span class="line">Collecting xgboost</span><br><span class="line">  Downloading xgboost-0.6a2.tar.gz (1.2MB)</span><br><span class="line">    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.2MB 1.0MB/s </span><br><span class="line">Requirement already satisfied: numpy <span class="keyword">in</span> /home/alan/.<span class="built_in">local</span>/lib/python3.5/site-packages (from xgboost)</span><br><span class="line">Requirement already satisfied: scipy <span class="keyword">in</span> /home/alan/anaconda3/lib/python3.5/site-packages (from xgboost)</span><br><span class="line">Requirement already satisfied: scikit-learn <span class="keyword">in</span> /home/alan/anaconda3/lib/python3.5/site-packages (from xgboost)</span><br><span class="line">Building wheels <span class="keyword">for</span> collected packages: xgboost</span><br><span class="line">Running setup.py bdist_wheel <span class="keyword">for</span> xgboost ... <span class="keyword">done</span></span><br><span class="line">Stored <span class="keyword">in</span> directory: /home/alan/.cache/pip/wheels/5e/c1/d6/522af54e5cc001fad4dd855117f8bf61b11d56443e06672e26</span><br><span class="line">Successfully built xgboost</span><br><span class="line">Installing collected packages: xgboost</span><br><span class="line">Successfully installed xgboost-0.6a2</span><br></pre></td></tr></table></figure><p>å®‰è£…åçš„ç‰ˆæœ¬ä¸º <code>0.6a2</code>ã€‚</p><h3 id="ç¼–è¯‘å®‰è£…"><a href="#ç¼–è¯‘å®‰è£…" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h3><p>åŒæ ·å‚ç…§ <a href="http://xgboost.readthedocs.io/en/latest/build.html#building-on-ubuntu-debian" target="_blank" rel="noopener">å®˜ç½‘</a> çš„å®‰è£…æ–¹æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recursive https://github.com/dmlc/xgboost</span><br><span class="line"><span class="built_in">cd</span> xgboost</span><br><span class="line">make -j4</span><br></pre></td></tr></table></figure><p>ç„¶åå†è¿›å…¥ <code>python-package</code> ç›®å½•ï¼Œä½¿ç”¨ <code>sudo python setup.py install</code> å®‰è£… Python åŒ…ã€‚</p><hr><h2 id="Issues"><a href="#Issues" class="headerlink" title="Issues"></a>Issues</h2><h3 id="1-OSError-version-39-GLIBCXX-3-4-20-39-not-found"><a href="#1-OSError-version-39-GLIBCXX-3-4-20-39-not-found" class="headerlink" title="#1 OSError: version &#39;GLIBCXX_3.4.20&#39; not found"></a>#1 <code>OSError: version &#39;GLIBCXX_3.4.20&#39; not found</code></h3><p>Ubuntu ä¸‹ï¼Œåœ¨å®‰è£…å®Œæˆåç”¨ <code>import xgboost</code> å¯¼å…¥çš„æ—¶å€™ä½ å¯èƒ½é‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼š</p><p><img src="http://img.blog.csdn.net/20170522102222313?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æŸ¥çœ‹å¤§å›¾</em></p><p>è¿™æ—¶ä½ å¯ä»¥ä½¿ç”¨ <code>conda</code> å®‰è£… <code>libgcc</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install libgcc</span><br></pre></td></tr></table></figure><p>ç„¶åå†å¯¼å…¥é—®é¢˜å°±åº”è¯¥è§£å†³äº†ã€‚</p><p>å…¶ä»–é—®é¢˜å¯ä»¥å‚è€ƒ <a href="http://www.exegetic.biz/blog/2015/12/installing-xgboost-ubuntu/" target="_blank" rel="noopener">Installing XGBoost on Ubuntu</a> ã€‚</p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºä»€ä¹ˆæ˜¯ &lt;code&gt;XGBoost&lt;/code&gt;ï¼Œæˆ‘åœ¨è¿™é‡Œä¸å†è§£é‡Šï¼Œå¦‚æœæœ‰æ—¶é—´çš„è¯å†å†™ä¸€ç¯‡æ–‡ç« æ¥è§£é‡Šï¼Œåœ¨æ•°æ®ç§‘å­¦é‡Œéå¸¸æœ‰ç”¨ã€‚å¤§å®¶å¯ä»¥å‚è€ƒ Tianqi Chen çš„è®ºæ–‡ &lt;a href=&quot;https://arxiv.org/abs/1603.02754&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;XGBoost: A Scalable Tree Boosting System&lt;/a&gt; ï¼Œæœ¬ç¯‡æ–‡ç« åªæ˜¯åœ¨ Windows 10 å’Œ Ubuntu ä¸Šå®‰è£… &lt;code&gt;XGBoost&lt;/code&gt; çš„ Python åŒ…çš„æ–¹æ³•ï¼ŒUbuntu ç‰ˆæœ¬ä¸º 16.04 LTSï¼ŒPython ç‰ˆæœ¬å‡ä¸º 3.5ï¼ŒAnacondaã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="http://yoursite.com/tags/Machine-Learning/"/>
    
      <category term="Data Science" scheme="http://yoursite.com/tags/Data-Science/"/>
    
  </entry>
  
  <entry>
    <title>Python è‡ªåŠ¨ç”Ÿæˆå‘½ä»¤è¡Œå·¥å…· - fire ç®€ä»‹</title>
    <link href="http://yoursite.com/2017/04/22/python-fire/"/>
    <id>http://yoursite.com/2017/04/22/python-fire/</id>
    <published>2017-04-22T02:16:00.000Z</published>
    <updated>2017-12-23T00:22:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>Python ä¸­ç”¨äºç”Ÿæˆå‘½ä»¤è¡Œæ¥å£ï¼ˆCommand Line Interfaces, CLIsï¼‰çš„å·¥å…·å·²ç»æœ‰ä¸€äº›äº†ï¼Œä¾‹å¦‚å·²ç»æˆä¸º Python æ ‡å‡†åº“çš„ <a href="https://docs.python.org/3/library/argparse.html" target="_blank" rel="noopener">argparse</a> å’Œç¬¬ä¸‰æ–¹çš„ <a href="http://click.pocoo.org/5/" target="_blank" rel="noopener">click</a> ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆä¸é”™çš„å·¥å…·ã€‚ä½†æ˜¯è¿™äº›å·¥å…·ä¸º Python ç¨‹åºç”Ÿæˆ CLIs çš„æ—¶å€™ç¨æ˜¾éº»çƒ¦ï¼Œéœ€è¦å¢åŠ çš„åœ°æ–¹æ¯”è¾ƒå¤šï¼Œè¿‡ç¨‹ç¨æ˜¾ç¹çã€‚ä»Šå¤©ä»‹ç»çš„è¿™ä¸ªå·¥å…·ï¼Œå‡ ä¹å¯ä»¥ä¸æ”¹å˜åŸå§‹ä»£ç å°±å¯ä»¥ç”Ÿæˆ CLIsï¼Œæ˜¯ Google äº ä»Šå¹´ï¼ˆ2017 å¹´ï¼‰3 æœˆ 2 æ—¥å®£å¸ƒåœ¨ <a href="https://github.com/google/python-fire" target="_blank" rel="noopener">GitHub</a> ä¸Šå¼€æºçš„ã€‚</p><a id="more"></a><p><img src="http://img.blog.csdn.net/20170421194937214?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="fire å¼€æº"></p><p>æ–‡ä¸­çš„ä¸‰ä¸ªç¨‹åºæ–‡ä»¶å¯ä»¥åœ¨ <a href="http://download.csdn.net/download/u010099080/9821999" target="_blank" rel="noopener">è¿™é‡Œ</a> æ‰“åŒ…ä¸‹è½½ã€‚</p><hr><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>è¿™é‡Œæˆ‘ä¼šåˆ—å‡ºå¯¹æœ¬æ–‡çš„æ›´æ–°ã€‚</p><ul><li>2017 å¹´ 10 æœˆ 18 æ—¥ï¼šä¼˜åŒ–æ’ç‰ˆï¼Œä¸å…¶ä»–åšæ–‡ä¿æŒé£æ ¼ç»Ÿä¸€ã€‚</li></ul><hr><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>å¤§è‡´çš„ç®€ä»‹æˆ‘åœ¨ä¸Šé¢ç®€å•è¯´äº†ä¸‹ï¼Œä¸‹é¢æˆ‘å¼•ç”¨ä¸‹å®˜æ–¹ç®€ä»‹ï¼š</p><blockquote><p>Python Fire is a library for creating command line interfaces (CLIs) from absolutely any Python object.</p><ul><li>Python Fire is a simple way to create a CLI in Python.</li><li>Python Fire is a helpful tool for developing and debugging Python code.</li><li>Python Fire helps with exploring existing code or turning other people&#39;s code into a CLI.</li><li>Python Fire makes transitioning between Bash and Python easier.</li><li>Python Fire makes using a Python REPL easier by setting up the REPL with the modules and variables you&#39;ll need already imported and created.</li></ul></blockquote><p>å¯ä»¥çœ‹å‡ºæ¥ï¼ŒFire ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç”Ÿæˆ CLIs çš„å·¥å…·ï¼Œè€Œä¸”è¿˜å¯ä»¥è°ƒè¯• Python ç¨‹åºï¼Œäº¤äº’å¼çš„ä½¿ç”¨ Fire ã€‚</p><hr><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ <code>pip install fire</code> å³å¯å®‰è£…ã€‚</p><hr><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><p>ä½¿ç”¨ <code>fire</code> ç”Ÿæˆ CLIs çš„åŸºæœ¬ç”¨æ³•å°±æ˜¯ä½¿ç”¨ <code>fire.Fire()</code>ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„å‚æ•°ï¼Œç”¨å®˜æ–¹çš„è¯´æ³•å°±æ˜¯ <em>any Python object</em> ã€‚ä¸‹é¢æˆ‘ä¸¾ä¸‰ä¸ªä¾‹å­ç®€å•çš„è¯´æ˜ä¸€ä¸‹ç”¨æ³•ï¼Œæ›´å¤šçš„ç”¨æ³•å¤§å®¶å¯ä»¥å‚è€ƒ <a href="https://github.com/google/python-fire/blob/master/doc/guide.md" target="_blank" rel="noopener">The Python Fire Guide</a> å’Œ <a href="https://github.com/google/python-fire/blob/master/doc/using-cli.md" target="_blank" rel="noopener">Using a Fire CLI</a> ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­å‡æ˜¯ä»¥è®¡ç®—æ—¶é—´å·®ï¼ˆä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„å¤©æ•°ï¼‰çš„ç¨‹åºä¸ºä¾‹ã€‚</p><h3 id="å•ä¸ªå‡½æ•°"><a href="#å•ä¸ªå‡½æ•°" class="headerlink" title="å•ä¸ªå‡½æ•°"></a>å•ä¸ªå‡½æ•°</h3><p>æ–‡ä»¶ <code>test-fire.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fire</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cal_days</span><span class="params">(date_str1, date_str2)</span>:</span></span><br><span class="line">    <span class="string">'''è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°'''</span></span><br><span class="line"></span><br><span class="line">    date_str1 = str(date_str1)</span><br><span class="line">    date_str2 = str(date_str2)</span><br><span class="line">    d1 = datetime.datetime.strptime(date_str1, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    d2 = datetime.datetime.strptime(date_str2, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    delta = d1 - d2</span><br><span class="line">    <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    fire.Fire(cal_days)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºä¸­åªæœ‰ä¸€ä¸ªå‡½æ•° <code>cal_days</code>ï¼Œæœ€åä½¿ç”¨ <code>fire.Fire(cal_days)</code> æ¥ç”Ÿæˆ CLIsã€‚</p><p>æˆ‘ä»¬å¯ä»¥å…ˆç”¨ä¸‹é¢çš„è¯­å¥æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire.py</span><br><span class="line">Fire trace:</span><br><span class="line">1. Initial component</span><br><span class="line">2. (<span class="string">'The function received no value for the required argument:'</span>, <span class="string">'date_str1'</span>)</span><br><span class="line"></span><br><span class="line">Type:        <span class="keyword">function</span></span><br><span class="line">String form: &lt;<span class="keyword">function</span> cal_days at 0x000002F0099B7F28&gt;</span><br><span class="line">File:        d:\masterfiles\notebook\<span class="built_in">test</span>-fire.py</span><br><span class="line">Line:        4</span><br><span class="line">Docstring:   è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°</span><br><span class="line"></span><br><span class="line">Usage:       <span class="built_in">test</span>-fire.py DATE_STR1 DATE_STR2</span><br><span class="line">             <span class="built_in">test</span>-fire.py --date-str1 DATE_STR1 --date-str2 DATE_STR2</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¼ ç»™ <code>fire.Fire()</code> çš„å‚æ•°ç±»å‹ï¼ˆ<code>function</code>ï¼‰ã€æ–‡ä»¶è·¯å¾„ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€å‚æ•°ç”¨æ³•ç­‰ä¿¡æ¯ã€‚</p><p>ç°åœ¨æˆ‘ä»¬è¯•ç€è®¡ç®—ä¸€ä¸‹ 2017 å¹´ 4 æœˆ 21 å·å’Œ 2017 å¹´ 4 æœˆ 1 å·å·®äº†å¤šå°‘å¤©ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire.py 20170421 20170401</span><br><span class="line">20</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>python test-fire.py --date-str1 20170421 --date-str2 20170401</code>ã€‚</p><p>æ­¤å¤–ï¼Œå¯¹äºè¿™ç§å•ä¸ªå‡½æ•°çš„æƒ…å†µï¼Œç¨‹åºçš„æœ€åä¸€è¡Œ <code>fire.Fire(cal_days)</code> å¯ä»¥æ”¹ä¸º <code>fire.Fire()</code>ï¼Œç»“æœå®Œå…¨ä¸€æ ·ï¼Œ<code>fire.Fire()</code> ä¼šé»˜è®¤ä½¿ç”¨ <code>cal_days()</code> å‡½æ•°ã€‚</p><hr><h3 id="å¤šä¸ªå‡½æ•°"><a href="#å¤šä¸ªå‡½æ•°" class="headerlink" title="å¤šä¸ªå‡½æ•°"></a>å¤šä¸ªå‡½æ•°</h3><p>æ–‡ä»¶ <code>test-fire-2func.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fire</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cal_days</span><span class="params">(date_str1, date_str2)</span>:</span></span><br><span class="line">    <span class="string">'''è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°'''</span></span><br><span class="line"></span><br><span class="line">    date_str1 = str(date_str1)</span><br><span class="line">    date_str2 = str(date_str2)</span><br><span class="line">    d1 = datetime.datetime.strptime(date_str1, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    d2 = datetime.datetime.strptime(date_str2, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    delta = d1 - d2</span><br><span class="line">    <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">days2today</span><span class="params">(date_str)</span>:</span></span><br><span class="line">    <span class="string">'''è®¡ç®—æŸå¤©è·ç¦»ä»Šå¤©çš„å¤©æ•°'''</span></span><br><span class="line"></span><br><span class="line">    date_str = str(date_str)</span><br><span class="line">    d = datetime.datetime.strptime(date_str, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    delta = datetime.datetime.now() - d</span><br><span class="line">    <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    fire.Fire()</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºæ¯” <code>test-fire.py</code> å¤šäº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯ç»“å°¾å¤„ä»ç„¶ä½¿ç”¨ <code>fire.Fire()</code> æ¥ç”Ÿæˆ CLIsã€‚æˆ‘ä»¬å…ˆä¸è¾“ä»»ä½•å‚æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire-2func.py 20170401</span><br><span class="line">Fire trace:</span><br><span class="line">1. Initial component</span><br><span class="line">2. (<span class="string">'Cannot find target in dict'</span>, <span class="string">'20170401'</span>, &#123;<span class="string">'__name__'</span>: <span class="string">'__main__'</span>, <span class="string">'datetime'</span>: &lt;module <span class="string">'datetime'</span> from <span class="string">'C:\\Users\\secsi\\Anaconda3\\lib\\datetime.py'</span>&gt;, <span class="string">'cal_days'</span>: &lt;<span class="keyword">function</span> cal_days at 0x0000027A855E7F28&gt;, <span class="string">'days2today'</span>: &lt;<span class="keyword">function</span> days2today at 0x0000027A86EC6B70&gt;, <span class="string">'__loader__'</span>: &lt;_frozen_importlib_external.SourceFileLoader object at 0x0000027A85655A90&gt;, <span class="string">'__file__'</span>: <span class="string">'test-fire-2func.py'</span>, <span class="string">'__cached__'</span>: None, <span class="string">'fire'</span>: &lt;module <span class="string">'fire'</span> from <span class="string">'C:\\Users\\secsi\\Anaconda3\\lib\\site-packages\\fire\\__init__.py'</span>&gt;, <span class="string">'__package__'</span>: None, <span class="string">'__builtins__'</span>: &lt;module <span class="string">'builtins'</span> (built-in)&gt;, <span class="string">'__doc__'</span>: None, <span class="string">'__spec__'</span>: None&#125;)</span><br><span class="line"></span><br><span class="line">Type:        dict</span><br><span class="line">String form: &#123;<span class="string">'__name__'</span>: <span class="string">'__main__'</span>, <span class="string">'datetime'</span>: &lt;module <span class="string">'datetime'</span> from <span class="string">'C:\\Users\\secsi\\Anaconda3\\lib\\d &lt;...&gt; kage__'</span>: None, <span class="string">'__builtins__'</span>: &lt;module <span class="string">'builtins'</span> (built-in)&gt;, <span class="string">'__doc__'</span>: None, <span class="string">'__spec__'</span>: None&#125;</span><br><span class="line">Length:      12</span><br><span class="line"></span><br><span class="line">Usage:       <span class="built_in">test</span>-fire-2func.py</span><br><span class="line">             <span class="built_in">test</span>-fire-2func.py datetime</span><br><span class="line">             <span class="built_in">test</span>-fire-2func.py cal-days</span><br><span class="line">             <span class="built_in">test</span>-fire-2func.py days2today</span><br><span class="line">             <span class="built_in">test</span>-fire-2func.py fire</span><br></pre></td></tr></table></figure><p>ç¨‹åºä¸­æœ‰ä¸ªä¸¤ä¸ªå‡½æ•°ï¼Œè€Œæˆ‘ä»¬è¿è¡Œ <code>python test-fire-2func.py 20170401</code> çš„æ—¶å€™å´æ²¡æœ‰æŒ‡å®šä½¿ç”¨å“ªä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p><p>æ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire-2func.py days2today 20170401</span><br><span class="line">21</span><br><span class="line">$ python <span class="built_in">test</span>-fire-2func.py cal_days 20170422 20170401</span><br><span class="line">21</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´åœ¨åé¢è·Ÿä¸Šè¦ä½¿ç”¨çš„å‡½æ•°åã€‚</p><hr><h3 id="å¯¹è±¡ï¼ˆç±»ï¼‰"><a href="#å¯¹è±¡ï¼ˆç±»ï¼‰" class="headerlink" title="å¯¹è±¡ï¼ˆç±»ï¼‰"></a>å¯¹è±¡ï¼ˆç±»ï¼‰</h3><p><code>Fire</code> æ—¢ç„¶èƒ½å¤Ÿ <em>fire</em> ä»»ä½• Python å¯¹è±¡ï¼Œé‚£ä¹ˆç»™ <code>fire.Fire()</code> ä¼ ä¸€ä¸ªç±»ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><p>æ–‡ä»¶ <code>test-fire-class.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fire</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DateStr</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cal_days</span><span class="params">(self, date_str1, date_str2)</span>:</span></span><br><span class="line">        <span class="string">'''è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°'''</span></span><br><span class="line">        date_str1 = str(date_str1)</span><br><span class="line">        date_str2 = str(date_str2)</span><br><span class="line">        d1 = datetime.datetime.strptime(date_str1, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">        d2 = datetime.datetime.strptime(date_str2, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">        delta = d1 - d2</span><br><span class="line">        <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">days2today</span><span class="params">(self, date_str)</span>:</span></span><br><span class="line">        <span class="string">'''è®¡ç®—æŸå¤©è·ç¦»ä»Šå¤©çš„å¤©æ•°'''</span></span><br><span class="line">        date_str = str(date_str)</span><br><span class="line">        d = datetime.datetime.strptime(date_str, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">        delta = datetime.datetime.now() - d</span><br><span class="line">        <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    fire.Fire(DateStr)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘å®šä¹‰äº†ä¸€ä¸ª <code>DateStr</code> ç±»ï¼Œæœ‰ä¸¤ä¸ªç±»æ–¹æ³• <code>cal_days</code> å’Œ <code>days2today</code> ï¼Œé‚£ä¹ˆæˆ‘åªéœ€ <code>fire.Fire(DateStr)</code> å°±å¯ä»¥è°ƒç”¨è¿™ä¸¤ä¸ªç±»æ–¹æ³•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire-class.py days2today 20170401</span><br><span class="line">21</span><br><span class="line">$ python <span class="built_in">test</span>-fire-class.py cal-days 20170422 20170401</span><br><span class="line">21</span><br></pre></td></tr></table></figure><hr><h2 id="è¿˜æœ‰å‡ ç‚¹"><a href="#è¿˜æœ‰å‡ ç‚¹" class="headerlink" title="è¿˜æœ‰å‡ ç‚¹"></a>è¿˜æœ‰å‡ ç‚¹</h2><ul><li><code>fire</code> é»˜è®¤ä½¿ç”¨ <code>-</code> ä½œä¸ºå‚æ•°åˆ†éš”ç¬¦ï¼Œæ‰€ä»¥å¦‚æœä½ è¦åœ¨å‘½ä»¤è¡Œä¼ å…¥ç±»ä¼¼ <code>2017-04-22</code> çš„å‚æ•°æ—¶ï¼Œé‚£ä¹ˆç¨‹åºæ¥æ”¶åˆ°çš„å‚æ•°å°±è‚¯å®šä¸æ˜¯ <code>2017-04-22</code> äº†ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>--separator</code> æ¥æ”¹å˜åˆ†éš”ç¬¦ï¼Œå‚è€ƒ <a href="https://github.com/google/python-fire/blob/master/doc/using-cli.md#separator-flag" target="_blank" rel="noopener">Changing the Separator</a></li><li><code>fire</code> ä¼šè‡ªåŠ¨åŒºåˆ†ä½ åœ¨å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°çš„ç±»å‹ï¼Œä¾‹å¦‚ <code>20170422</code> ä¼šè‡ªåŠ¨è¯†åˆ«æˆ <code>int</code>ï¼Œ<code>hello</code> ä¼šè‡ªåŠ¨è¯†åˆ«æˆ <code>str</code>ï¼Œ<code>&#39;(1,2)&#39;</code> ä¼šè‡ªåŠ¨è¯†åˆ«æˆ <code>tuple</code>ï¼Œ<code>&#39;{&quot;name&quot;: &quot;Alan Lee&quot;}&#39;</code> ä¼šè‡ªåŠ¨è¯†åˆ«æˆ <code>dict</code>ã€‚ä½†æ˜¯ä½ å¦‚æœæƒ³è¦ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ <code>20170422</code> æ€ä¹ˆåŠï¼Ÿé‚£å°±éœ€è¦è¿™æ ·å†™ï¼š<code>&#39;&quot;20170422&quot;&#39;</code> æˆ–è€… <code>&quot;&#39;20170422&#39;&quot;</code> æˆ–è€… <code>\&quot;20170422\&quot;</code>ï¼Œæ€»ä¹‹å‘¢ï¼Œå°±æ˜¯åŠ ä¸€ä¸ªè½¬ä¹‰ï¼Œå› ä¸ºå‘½ä»¤è¡Œé»˜è®¤ä¼šåƒæ‰ä½ çš„å¼•å·ã€‚å‚è€ƒ <a href="https://github.com/google/python-fire/blob/master/doc/guide.md#user-content-argument-parsing" target="_blank" rel="noopener">Argument Parsing</a></li></ul><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Python ä¸­ç”¨äºç”Ÿæˆå‘½ä»¤è¡Œæ¥å£ï¼ˆCommand Line Interfaces, CLIsï¼‰çš„å·¥å…·å·²ç»æœ‰ä¸€äº›äº†ï¼Œä¾‹å¦‚å·²ç»æˆä¸º Python æ ‡å‡†åº“çš„ &lt;a href=&quot;https://docs.python.org/3/library/argparse.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;argparse&lt;/a&gt; å’Œç¬¬ä¸‰æ–¹çš„ &lt;a href=&quot;http://click.pocoo.org/5/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;click&lt;/a&gt; ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆä¸é”™çš„å·¥å…·ã€‚ä½†æ˜¯è¿™äº›å·¥å…·ä¸º Python ç¨‹åºç”Ÿæˆ CLIs çš„æ—¶å€™ç¨æ˜¾éº»çƒ¦ï¼Œéœ€è¦å¢åŠ çš„åœ°æ–¹æ¯”è¾ƒå¤šï¼Œè¿‡ç¨‹ç¨æ˜¾ç¹çã€‚ä»Šå¤©ä»‹ç»çš„è¿™ä¸ªå·¥å…·ï¼Œå‡ ä¹å¯ä»¥ä¸æ”¹å˜åŸå§‹ä»£ç å°±å¯ä»¥ç”Ÿæˆ CLIsï¼Œæ˜¯ Google äº ä»Šå¹´ï¼ˆ2017 å¹´ï¼‰3 æœˆ 2 æ—¥å®£å¸ƒåœ¨ &lt;a href=&quot;https://github.com/google/python-fire&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt; ä¸Šå¼€æºçš„ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>å¥‡å¼‚å€¼åˆ†è§£ SVD çš„æ•°å­¦è§£é‡Š</title>
    <link href="http://yoursite.com/2017/03/29/understanding-svd/"/>
    <id>http://yoursite.com/2017/03/29/understanding-svd/</id>
    <published>2017-03-29T04:33:00.000Z</published>
    <updated>2017-12-25T01:22:10.817Z</updated>
    
    <content type="html"><![CDATA[<p>å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSingular Value Decompositionï¼ŒSVDï¼‰æ˜¯ä¸€ç§çŸ©é˜µåˆ†è§£ï¼ˆMatrix Decompositionï¼‰çš„æ–¹æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒçŸ©é˜µåˆ†è§£è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œä¾‹å¦‚ç‰¹å¾åˆ†è§£ï¼ˆEigendecompositionï¼‰ã€LUåˆ†è§£ï¼ˆLU decompositionï¼‰ã€QRåˆ†è§£ï¼ˆQR decompositionï¼‰å’Œæåˆ†è§£ï¼ˆPolar decompositionï¼‰ç­‰ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦è¯´ä¸‹å¥‡å¼‚å€¼åˆ†è§£ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨æœºå™¨å­¦ä¹ çš„ä¸€äº›ç®—æ³•é‡Œå æœ‰é‡è¦åœ°ä½ã€‚</p><a id="more"></a><hr><h2 id="ç›¸å…³æ¦‚å¿µ"><a href="#ç›¸å…³æ¦‚å¿µ" class="headerlink" title="ç›¸å…³æ¦‚å¿µ"></a>ç›¸å…³æ¦‚å¿µ</h2><p><em>å‚è€ƒè‡ªç»´åŸºç™¾ç§‘ã€‚</em></p><ul><li><strong>æ­£äº¤çŸ©é˜µ</strong>ï¼šè‹¥ä¸€ä¸ªæ–¹é˜µå…¶è¡Œä¸åˆ—çš†ä¸ºæ­£äº¤çš„å•ä½å‘é‡ï¼Œåˆ™è¯¥çŸ©é˜µä¸ºæ­£äº¤çŸ©é˜µï¼Œä¸”è¯¥çŸ©é˜µçš„è½¬ç½®å’Œå…¶é€†ç›¸ç­‰ã€‚ä¸¤ä¸ªå‘é‡æ­£äº¤çš„æ„æ€æ˜¯ä¸¤ä¸ªå‘é‡çš„å†…ç§¯ä¸º 0</li><li><strong>æ­£å®šçŸ©é˜µ</strong>ï¼šå¦‚æœå¯¹äºæ‰€æœ‰çš„éé›¶å®ç³»æ•°å‘é‡ $z$ï¼Œéƒ½æœ‰ $z^TAz&gt;0$ï¼Œåˆ™ç§°çŸ©é˜µ $A$ æ˜¯æ­£å®šçš„ã€‚æ­£å®šçŸ©é˜µçš„è¡Œåˆ—å¼å¿…ç„¶å¤§äº 0ï¼Œ æ‰€æœ‰ç‰¹å¾å€¼ä¹Ÿå¿…ç„¶ &gt; 0ã€‚ç›¸å¯¹åº”çš„ï¼ŒåŠæ­£å®šçŸ©é˜µçš„è¡Œåˆ—å¼å¿…ç„¶ â‰¥ 0ã€‚</li></ul><hr><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>ä¸‹é¢å¼•ç”¨ <a href="https://en.wikipedia.org/wiki/Singular_value_decomposition" target="_blank" rel="noopener">SVD åœ¨ç»´åŸºç™¾ç§‘ä¸­çš„å®šä¹‰</a>ã€‚</p><blockquote><p>In linear algebra, the <strong>singular value decomposition</strong> (<strong>SVD</strong>) is a factorization of a real or complex matrix. It is the generalization of the eigendecomposition of a positive semidefinite normal matrix (for example, a symmetric matrix with positive eigenvalues) to any $ m\times n $ matrix via an extension of polar decomposition. </p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ SVD æ˜¯çº¿ä»£ä¸­å¯¹äºå®æ•°çŸ©é˜µå’Œå¤æ•°çŸ©é˜µçš„åˆ†è§£ï¼Œå°†ç‰¹å¾åˆ†è§£ä» <em>åŠæ­£å®šçŸ©é˜µ</em> æ¨å¹¿åˆ°ä»»æ„ $ m\times n $ çŸ©é˜µã€‚</p><p><strong>æ³¨æ„ï¼šæœ¬ç¯‡æ–‡ç« å†…å¦‚æœªä½œè¯´æ˜çŸ©é˜µå‡æŒ‡å®æ•°çŸ©é˜µã€‚</strong></p><p>å‡è®¾æœ‰ $ m\times n $ çš„çŸ©é˜µ $A$ ï¼Œé‚£ä¹ˆ SVD å°±æ˜¯è¦æ‰¾åˆ°å¦‚ä¸‹å¼çš„è¿™ä¹ˆä¸€ä¸ªåˆ†è§£ï¼Œå°† $A$ åˆ†è§£ä¸º 3 ä¸ªçŸ©é˜µçš„ä¹˜ç§¯ï¼š</p><script type="math/tex; mode=display">A_{m \times n} = U_{m \times m}\Sigma_{m \times n} V^T_{n \times n}</script><p>å…¶ä¸­ï¼Œ$U$ å’Œ $V$ éƒ½æ˜¯<strong>æ­£äº¤çŸ©é˜µ</strong> ï¼ˆOrthogonal Matrixï¼‰ï¼Œåœ¨å¤æ•°åŸŸå†…çš„è¯å°±æ˜¯é…‰çŸ©é˜µï¼ˆUnitary Matrixï¼‰ï¼Œå³ </p><script type="math/tex; mode=display">U^TU = E_{m \times m}</script><script type="math/tex; mode=display">V^TV=E_{n \times n}</script><p> æ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¯´ $U$ çš„è½¬ç½®ç­‰äº $U$ çš„é€†ï¼Œ$V$ çš„è½¬ç½®ç­‰äº $V$ çš„é€†ï¼š</p><script type="math/tex; mode=display">U^T = U^{-1}</script><script type="math/tex; mode=display">V^T = V^{-1}</script><p>è€Œ $ \Sigma $ å°±æ˜¯ä¸€ä¸ªéè´Ÿå®å¯¹è§’çŸ©é˜µã€‚</p><p>é‚£ä¹ˆ $U$ å’Œ $V$ ä»¥åŠ $ \Sigma $ æ˜¯å¦‚ä½•æ„æˆçš„å‘¢ï¼Ÿ</p><hr><h2 id="æ±‚è§£"><a href="#æ±‚è§£" class="headerlink" title="æ±‚è§£"></a>æ±‚è§£</h2><p>$U$ å’Œ $V$ çš„åˆ—åˆ†åˆ«å«åš $A$ çš„ <strong>å·¦å¥‡å¼‚å‘é‡</strong>ï¼ˆleft-singular vectorsï¼‰å’Œ <strong>å³å¥‡å¼‚å‘é‡</strong>ï¼ˆright-singular vectorsï¼‰ï¼Œ$ \Sigma $ çš„å¯¹è§’çº¿ä¸Šçš„å€¼å«åš $A$ çš„å¥‡å¼‚å€¼ï¼ˆsingular valuesï¼‰ã€‚</p><p>å…¶å®æ•´ä¸ªæ±‚è§£ SVD çš„è¿‡ç¨‹å°±æ˜¯æ±‚è§£è¿™ 3 ä¸ªçŸ©é˜µçš„è¿‡ç¨‹ï¼Œè€Œæ±‚è§£è¿™ 3 ä¸ªçŸ©é˜µçš„è¿‡ç¨‹å°±æ˜¯æ±‚è§£ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„è¿‡ç¨‹ï¼Œé—®é¢˜å°±åœ¨äº <strong>æ±‚è°çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡</strong>ã€‚</p><ul><li>$U$ çš„åˆ—ç”± $AA^T$ çš„å•ä½åŒ–è¿‡çš„ç‰¹å¾å‘é‡æ„æˆ</li><li>$V$ çš„åˆ—ç”± $A^TA$ çš„å•ä½åŒ–è¿‡çš„ç‰¹å¾å‘é‡æ„æˆ</li><li>$ \Sigma $ çš„å¯¹è§’å…ƒç´ æ¥æºäº $AA^T$ æˆ– $A^TA$ çš„ç‰¹å¾å€¼çš„å¹³æ–¹æ ¹ï¼Œå¹¶ä¸”æ˜¯æŒ‰ä»å¤§åˆ°å°çš„é¡ºåºæ’åˆ—çš„</li></ul><p>çŸ¥é“äº†è¿™äº›ï¼Œé‚£ä¹ˆæ±‚è§£ SVD çš„æ­¥éª¤å°±æ˜¾è€Œæ˜“è§äº†ï¼š</p><ol><li>æ±‚ $AA^T$ çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œç”¨å•ä½åŒ–çš„ç‰¹å¾å‘é‡æ„æˆ $U$</li><li>æ±‚ $A^TA$ çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œç”¨å•ä½åŒ–çš„ç‰¹å¾å‘é‡æ„æˆ $V$</li><li>å°† $AA^T$ æˆ–è€… $A^TA$ çš„ç‰¹å¾å€¼æ±‚å¹³æ–¹æ ¹ï¼Œç„¶åæ„æˆ $ \Sigma $</li></ol><hr><h2 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h2><p>å‡è®¾ </p><script type="math/tex; mode=display">A = \begin{pmatrix} 2 & 4 \\\\ 1 & 3 \\\\ 0 & 0 \\\\ 0 & 0 \\\\ \end{pmatrix}</script><p>é‚£ä¹ˆå¯ä»¥è®¡ç®—å¾—åˆ° </p><script type="math/tex; mode=display">AA^T = \begin{pmatrix} 20 & 14 & 0 & 0 \\\\ 14 & 10 & 0 & 0 \\\\ 0 & 0 & 0 & 0 \\\\ 0 & 0 & 0 & 0 \\\\ \end{pmatrix}</script><p>æ¥ä¸‹æ¥å°±æ˜¯æ±‚è¿™ä¸ªçŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡äº† </p><script type="math/tex; mode=display">AA^T x = \lambda x</script><script type="math/tex; mode=display">(AA^T - \lambda E)x = 0</script><p>è¦æƒ³è¯¥æ–¹ç¨‹ç»„æœ‰éé›¶è§£ï¼ˆå³éé›¶ç‰¹å¾å€¼ï¼‰ï¼Œé‚£ä¹ˆç³»æ•°çŸ©é˜µ $ AA^T - \lambda E $ çš„è¡Œåˆ—å¼å¿…é¡»ä¸º 0 </p><script type="math/tex; mode=display">\begin{vmatrix} 20-\lambda & 14 & 0 & 0 \\\\ 14 & 10-\lambda & 0 & 0 \\\\ 0 & 0 & -\lambda & 0 \\\\ 0 & 0 & 0 & -\lambda \\\\ \end{vmatrix} = 0</script><p>æ±‚è§£è¿™ä¸ªè¡Œåˆ—å¼æˆ‘å°±ä¸å†èµ˜è¿°äº†ï¼Œè¿™ä¸ªç›´æ¥ä½¿ç”¨è¡Œåˆ—å¼å±•å¼€å®šç†å°±å¯ä»¥äº†ï¼Œå¯ä»¥å¾—åˆ° $\lambda_1 \approx 29.86606875ï¼Œ\lambda_2 \approx  0.13393125ï¼Œ\lambda_3 = \lambda_4 = 0$ï¼Œæœ‰ 4 ä¸ªç‰¹å¾å€¼ï¼Œå› ä¸ºç‰¹å¾å¤šé¡¹å¼ $ \vert AA^T - \lambda E \vert $ æ˜¯ä¸€ä¸ª 4 æ¬¡å¤šé¡¹å¼ã€‚å¯¹åº”çš„å•ä½åŒ–è¿‡çš„ç‰¹å¾å‘é‡ä¸º</p><script type="math/tex; mode=display">\begin{pmatrix} 0.81741556 & -0.57604844 & 0 & 0 \\\\ 0.57604844 & 0.81741556 & 0 & 0 \\\\ 0 & 0 & 1 & 0 \\\\ 0 & 0 & 0 & 1 \\\\ \end{pmatrix}</script><p>è¿™å°±æ˜¯çŸ©é˜µ $U$ äº†ã€‚</p><p>åŒæ ·çš„è¿‡ç¨‹æ±‚è§£ $A^TA$ çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œæ±‚å¾— $\lambda_1 \approx 0.13393125ï¼Œ\lambda_2 \approx  29.86606875 $ï¼Œå°†<strong>ç‰¹å¾å€¼é™åºæ’åˆ—å</strong>å¯¹åº”çš„å•ä½åŒ–è¿‡çš„ç‰¹å¾å‘é‡ä¸º</p><script type="math/tex; mode=display">\begin{pmatrix} 0.40455358 & -0.9145143 \\\\ 0.9145143 & 0.40455358 \\\\ \end{pmatrix}</script><p>è¿™å°±æ˜¯çŸ©é˜µ $V$ äº†ã€‚</p><p>è€ŒçŸ©é˜µ $\Sigma$ æ ¹æ®ä¸Šé¢è¯´çš„ä¸ºç‰¹å¾å€¼çš„å¹³æ–¹æ ¹æ„æˆçš„å¯¹è§’çŸ©é˜µ</p><script type="math/tex; mode=display">\begin{pmatrix} 5.4649857 & 0 \\\\ 0 & 0.36596619 \\\\ 0 & 0 \\\\ 0 & 0 \\\\ \end{pmatrix}</script><p>åˆ°æ­¤ï¼ŒSVD åˆ†è§£å°±ç»“æŸäº†ï¼ŒåŸæ¥çš„çŸ©é˜µ $A$ å°±è¢«åˆ†è§£æˆäº† 3 ä¸ªçŸ©é˜µçš„ä¹˜ç§¯ã€‚</p><script type="math/tex; mode=display">A\_{4 \times 2} = U\_{4 \times 4}\Sigma\_{4 \times 2} V^T_{2 \times 2}</script><script type="math/tex; mode=display">\begin{pmatrix} 2 & 4 \\\\ 1 & 3 \\\\ 0 & 0 \\\\ 0 & 0 \\\\ \end{pmatrix} = \begin{pmatrix} 0.81741556 & -0.57604844 & 0 & 0 \\\\ 0.57604844 & 0.81741556 & 0 & 0 \\\\ 0 & 0 & 1 & 0 \\\\ 0 & 0 & 0 & 1 \\\\ \end{pmatrix} \begin{pmatrix} 5.4649857 & 0 \\\\ 0 & 0.36596619 \\\\ 0 & 0 \\\\ 0 & 0 \\\\ \end{pmatrix} \begin{pmatrix} 0.40455358 & -0.9145143 \\\\ 0.9145143 & 0.40455358 \\\\ \end{pmatrix} ^ T</script><hr><h2 id="Numpy-å®ç°"><a href="#Numpy-å®ç°" class="headerlink" title="Numpy å®ç°"></a>Numpy å®ç°</h2><p>Python ä¸­å¯ä»¥ä½¿ç”¨ numpy åŒ…çš„ <code>linalg.svd()</code> æ¥æ±‚è§£ SVDã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">A = np.array([[<span class="number">2</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>]])</span><br><span class="line">print(np.linalg.svd(A))</span><br></pre></td></tr></table></figure><p>è¾“å‡º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(array([[-0.81741556, -0.57604844,  0.        ,  0.        ],</span><br><span class="line">        [-0.57604844,  0.81741556,  0.        ,  0.        ],</span><br><span class="line">        [ 0.        ,  0.        ,  1.        ,  0.        ],</span><br><span class="line">        [ 0.        ,  0.        ,  0.        ,  1.        ]]),</span><br><span class="line"> array([ 5.4649857 ,  0.36596619]),</span><br><span class="line"> array([[-0.40455358, -0.9145143 ],</span><br><span class="line">        [-0.9145143 ,  0.40455358]]))</span><br></pre></td></tr></table></figure></p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSingular Value Decompositionï¼ŒSVDï¼‰æ˜¯ä¸€ç§çŸ©é˜µåˆ†è§£ï¼ˆMatrix Decompositionï¼‰çš„æ–¹æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒçŸ©é˜µåˆ†è§£è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œä¾‹å¦‚ç‰¹å¾åˆ†è§£ï¼ˆEigendecompositionï¼‰ã€LUåˆ†è§£ï¼ˆLU decompositionï¼‰ã€QRåˆ†è§£ï¼ˆQR decompositionï¼‰å’Œæåˆ†è§£ï¼ˆPolar decompositionï¼‰ç­‰ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦è¯´ä¸‹å¥‡å¼‚å€¼åˆ†è§£ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨æœºå™¨å­¦ä¹ çš„ä¸€äº›ç®—æ³•é‡Œå æœ‰é‡è¦åœ°ä½ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="http://yoursite.com/tags/Machine-Learning/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Python ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ä¸ªæ•°</title>
    <link href="http://yoursite.com/2017/03/25/python-string-count/"/>
    <id>http://yoursite.com/2017/03/25/python-string-count/</id>
    <published>2017-03-25T14:01:00.000Z</published>
    <updated>2017-12-23T00:21:16.000Z</updated>
    
    <content type="html"><![CDATA[<p><em>é¢˜å¤–è¯ï¼šä»Šå¤©æ‰“é…±æ²¹çš„åšäº†ç½‘æ˜“æ•°æ®æŒ–æ˜å·¥ç¨‹å¸ˆçš„åœ¨çº¿ç¬”è¯•é¢˜ï¼Œè¢«æ‰“å‡»äº†ã€‚</em></p><p>æœ¬æ–‡ä»£ç å¯åœ¨ <a href="http://download.csdn.net/detail/u010099080/9793725" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ã€‚</p><a id="more"></a><hr><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>åœ¨ç½‘ä¸Šæ— æ„é—´çœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªé¢˜ç›®ï¼šç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ä¸ªæ•°ã€‚<br>æ­£å¥½å†ç†Ÿæ‚‰ä¸€ä¸‹ Python ä¸­å­—ç¬¦ä¸²ç›¸å…³æ–¹æ³•ï¼Œæ‰€ä»¥æ¥åšä¸€ä¸‹ã€‚</p><hr><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">str_count</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="string">'''æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­çš„ä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ä¸ªæ•°'''</span></span><br><span class="line">    </span><br><span class="line">    count_en = count_dg = count_sp = count_zh = count_pu = <span class="number">0</span></span><br><span class="line">    s_len = len(s)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">if</span> c <span class="keyword">in</span> string.ascii_letters:</span><br><span class="line">            count_en += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> c.isdigit():</span><br><span class="line">            count_dg += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> c.isspace():</span><br><span class="line">            count_sp += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> c.isalpha():</span><br><span class="line">            count_zh += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            count_pu += <span class="number">1</span></span><br><span class="line">    total_chars = count_zh + count_en + count_sp + count_dg + count_pu</span><br><span class="line">    <span class="keyword">if</span> total_chars == s_len:</span><br><span class="line">        <span class="keyword">return</span> namedtuple(<span class="string">'Count'</span>, [<span class="string">'total'</span>, <span class="string">'zh'</span>, <span class="string">'en'</span>, <span class="string">'space'</span>, <span class="string">'digit'</span>, <span class="string">'punc'</span>])(s_len, count_zh, count_en, count_sp, count_dg, count_pu)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'Something is wrong!'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = <span class="string">'ä¸Šé¢æ˜¯å¼•ç”¨äº†å®˜ç½‘çš„ä»‹ç»ï¼Œæ„æ€å°±æ˜¯è¯´ TensorBoard å°±æ˜¯ä¸€ä¸ªæ–¹ä¾¿ä½ ç†è§£ã€è°ƒè¯•ã€ä¼˜åŒ– TensorFlow ç¨‹åºçš„å¯è§†åŒ–å·¥å…·ï¼Œä½ å¯ä»¥å¯è§†åŒ–ä½ çš„ TensorFlow graphã€å­¦ä¹ å‚æ•°ä»¥åŠå…¶ä»–æ•°æ®æ¯”å¦‚å›¾åƒã€‚'</span></span><br><span class="line">count = str_count(s)</span><br><span class="line">print(s, end=<span class="string">'\n\n'</span>)</span><br><span class="line">print(<span class="string">'è¯¥å­—ç¬¦ä¸²å…±æœ‰ &#123;&#125; ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­æœ‰ &#123;&#125; ä¸ªæ±‰å­—ï¼Œ&#123;&#125; ä¸ªè‹±æ–‡ï¼Œ&#123;&#125; ä¸ªç©ºæ ¼ï¼Œ&#123;&#125; ä¸ªæ•°å­—ï¼Œ&#123;&#125; ä¸ªæ ‡ç‚¹ç¬¦å·ã€‚'</span>.format(count.total, count.zh, count.en, count.space, count.digit, count.punc))</span><br></pre></td></tr></table></figure><p>å°†ä¸Šé¢çš„ç¨‹åºä¿å­˜åˆ° <code>str_count.py</code>ï¼Œç„¶åæ‰§è¡Œæµ‹è¯•ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python str_count.py</span></span><br><span class="line"></span><br><span class="line">ä¸Šé¢æ˜¯å¼•ç”¨äº†å®˜ç½‘çš„ä»‹ç»ï¼Œæ„æ€å°±æ˜¯è¯´ TensorBoard å°±æ˜¯ä¸€ä¸ªæ–¹ä¾¿ä½ ç†è§£ã€è°ƒè¯•ã€ä¼˜åŒ– TensorFlow ç¨‹åºçš„å¯è§†åŒ–å·¥å…·ï¼Œä½ å¯ä»¥å¯è§†åŒ–ä½ çš„ TensorFlow graphã€å­¦ä¹ å‚æ•°ä»¥åŠå…¶ä»–æ•°æ®æ¯”å¦‚å›¾åƒã€‚</span><br><span class="line"></span><br><span class="line">è¯¥å­—ç¬¦ä¸²å…±æœ‰ 107 ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­æœ‰ 59 ä¸ªæ±‰å­—ï¼Œ36 ä¸ªè‹±æ–‡ï¼Œ6 ä¸ªç©ºæ ¼ï¼Œ0 ä¸ªæ•°å­—ï¼Œ6 ä¸ªæ ‡ç‚¹ç¬¦å·ã€‚</span><br></pre></td></tr></table></figure><p>é‚£ä¸ªç”¨äºæµ‹è¯•çš„å­—ç¬¦ä¸² <code>s</code> æºè‡ª <a href="http://blog.csdn.net/u010099080/article/details/62882006" target="_blank" rel="noopener">æˆ‘çš„ä¸€ç¯‡å…³äº TensorBoard çš„åšæ–‡</a>ï¼Œé¦–å…ˆè¾“å‡ºåŸå§‹å­—ç¬¦ä¸²ï¼Œç„¶åè¾“å‡ºä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·å„è‡ªçš„ä¸ªæ•°ã€‚</p><p>ä»¥åæœ‰å¥½çš„æƒ³æ³•å†æ¥ä¼˜åŒ–è¿™ä¸ªç¨‹åºï¼Œå¤§å®¶æœ‰ä»€ä¹ˆå¥½çš„æƒ³æ³•ä¹Ÿæ¬¢è¿å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p><hr><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;é¢˜å¤–è¯ï¼šä»Šå¤©æ‰“é…±æ²¹çš„åšäº†ç½‘æ˜“æ•°æ®æŒ–æ˜å·¥ç¨‹å¸ˆçš„åœ¨çº¿ç¬”è¯•é¢˜ï¼Œè¢«æ‰“å‡»äº†ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä»£ç å¯åœ¨ &lt;a href=&quot;http://download.csdn.net/detail/u010099080/9793725&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é‡Œ&lt;/a&gt; ä¸‹è½½ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow ä¸­çš„å·ç§¯ç¥ç»ç½‘ç»œ CNN - TensorBoard ç‰ˆ</title>
    <link href="http://yoursite.com/2017/03/17/tensorflow-cnn-tensorboard/"/>
    <id>http://yoursite.com/2017/03/17/tensorflow-cnn-tensorboard/</id>
    <published>2017-03-17T02:57:00.000Z</published>
    <updated>2017-12-23T00:22:03.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/u010099080/article/details/53906810" target="_blank" rel="noopener">å‰é¢</a> å†™äº†ä¸€ç¯‡ç”¨ TensorFlow å®ç° CNN çš„æ–‡ç« ï¼Œæ²¡æœ‰å®ç° TensorBoardï¼Œè¿™ç¯‡æ¥åŠ ä¸Š TensorBoard çš„å®ç°ï¼Œä»£ç å¯ä»¥ä» <a href="http://download.csdn.net/detail/u010099080/9781711" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ã€‚</p><a id="more"></a><hr><h1 id="ä»€ä¹ˆæ˜¯-TensorBoard"><a href="#ä»€ä¹ˆæ˜¯-TensorBoard" class="headerlink" title="ä»€ä¹ˆæ˜¯ TensorBoard"></a>ä»€ä¹ˆæ˜¯ TensorBoard</h1><blockquote><p>To make it easier to understand, debug, and optimize TensorFlow programs, we&#39;ve included a suite of visualization tools called TensorBoard. You can use TensorBoard to visualize your TensorFlow graph, plot quantitative metrics about the execution of your graph, and show additional data like images that pass through it.</p></blockquote><p>ä¸Šé¢æ˜¯å¼•ç”¨äº†å®˜ç½‘çš„ä»‹ç»ï¼Œæ„æ€å°±æ˜¯è¯´ TensorBoard å°±æ˜¯ä¸€ä¸ªæ–¹ä¾¿ä½ ç†è§£ã€è°ƒè¯•ã€ä¼˜åŒ– TensorFlow ç¨‹åºçš„å¯è§†åŒ–å·¥å…·ï¼Œä½ å¯ä»¥å¯è§†åŒ–ä½ çš„ TensorFlow graphã€å­¦ä¹ å‚æ•°ä»¥åŠå…¶ä»–æ•°æ®æ¯”å¦‚å›¾åƒã€‚</p><p>å¯åŠ¨ä½ çš„ TensorBoard å¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ååº”è¯¥æ˜¯ç±»ä¼¼ä¸‹é¢è¿™æ ·çš„ï¼š</p><p><img src="http://img.blog.csdn.net/20170317093749890?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><hr><h1 id="CNN-ç»“æ„"><a href="#CNN-ç»“æ„" class="headerlink" title="CNN ç»“æ„"></a>CNN ç»“æ„</h1><p>CNN çš„ç»“æ„å’Œ <a href="http://blog.csdn.net/u010099080/article/details/53906810" target="_blank" rel="noopener">ä¸Šç¯‡</a> ä¸€æ ·ï¼Œæ•°æ®é›†ä»ä¸º CIFAR10 æ•°æ®é›†ã€‚</p><p>ä¸‹é¢æˆ‘ç”¨ TensorBoard ç»˜åˆ¶çš„ç»“æ„å›¾è¯´ä¸€ä¸‹ï¼š</p><p><img src="http://img.blog.csdn.net/20170317094029137?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä¸ºäº†ç®€æ´æˆ‘éšæ‰äº†ä¸€äº›ä¸å¿…è¦çš„èŠ‚ç‚¹ã€‚ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºæœ‰<strong>ä¸¤ä¸ªå·ç§¯å±‚</strong>ã€<strong>ä¸¤ä¸ªæ± åŒ–å±‚</strong>ã€<strong>ä¸¤ä¸ª norm å±‚</strong>ä»¥åŠ<strong>ä¸‰ä¸ªå…¨è¿æ¥å±‚</strong>ï¼Œå›¾ä¸­æŒ‡å‘ <code>train</code> èŠ‚ç‚¹çš„çº¿æ¡çš„ç²—ç»†è¡¨ç¤ºéœ€è¦è®­ç»ƒçš„å‚æ•°çš„å¤šå°‘ï¼Œå„å±‚ä¹‹é—´çš„çº¿æ¡ä¸Šçš„æ•°å­—è¡¨ç¤ºäº†ä¼ é€’ç»™ä¸‹ä¸€å±‚çš„å‚æ•°çš„ç»´åº¦ï¼Œä¾‹å¦‚ <code>conv1</code> ä¼ é€’ç»™ <code>pool1</code> çš„å‚æ•°ç»´åº¦æ˜¯ <code>?Ã—32Ã—32Ã—64</code> ï¼ˆ<em>ç”±äºè¿™ä¸ªå›¾ä¸èƒ½æ”¾å¤§å¯¼è‡´é‡å ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¯å¯ä»¥æ”¾å¤§çš„</em>ï¼‰ï¼Œ<code>?</code> è¡¨ç¤º batch çš„å¤§å°ã€‚å…·ä½“çš„å„å±‚å‚æ•°å¦‚ä¸‹ï¼š</p><ul><li><code>conv1</code>ï¼škernel å¤§å°æ˜¯ <code>[5, 5, 3, 64]</code>ï¼Œæ­¥é•¿ä¸º 1ï¼Œpadding ä¸º <code>SAME</code>ã€‚</li><li><code>pool1</code>ï¼škernel å¤§å°æ˜¯ <code>[1, 3, 3, 1]</code>ï¼Œæ­¥é•¿ä¸º 2ï¼Œpadding ä¸º <code>SAME</code>ã€‚</li><li><code>conv1</code>ï¼škernel å¤§å°æ˜¯ <code>[5, 5, 64, 64]</code>ï¼Œæ­¥é•¿ä¸º 1ï¼Œpadding ä¸º <code>SAME</code>ã€‚</li><li><code>pool1</code>ï¼škernel å¤§å°æ˜¯ <code>[1, 3, 3, 1]</code>ï¼Œæ­¥é•¿ä¸º 2ï¼Œpadding ä¸º <code>SAME</code>ã€‚</li><li><code>fc1</code>ï¼šç¥ç»å…ƒä¸ªæ•°ä¸º 384</li><li><code>fc2</code>ï¼šç¥ç»å…ƒä¸ªæ•°ä¸º 192</li></ul><hr><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><p>å®Œæ•´ä»£ç å¯ä»¥åœ¨ <a href="http://download.csdn.net/detail/u010099080/9781711" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ï¼Œä¸‹é¢æˆ‘å°±è¯´ä¸‹å…³äº TensorBoard çš„éƒ¨åˆ†ã€‚</p><p>ä¸Šé¢é‚£ä¸ªå›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç”¨ <code>tf.namescope()</code> æŒ‡å®šçš„ï¼Œä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'conv1'</span>):</span><br><span class="line">        conv1 = tf.nn.conv2d(x4d, weight_variable(<span class="string">'conv1'</span>, [<span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">64</span>], <span class="number">5e-2</span>, <span class="string">'w_conv1'</span>), strides=[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], padding=<span class="string">'SAME'</span>)</span><br><span class="line">        conv1 = tf.nn.bias_add(conv1, bias_variable(<span class="string">'conv1'</span>, <span class="number">0.0</span>, tf.float32, [<span class="number">64</span>], <span class="string">'b_conv1'</span>))</span><br><span class="line">        conv1 = tf.nn.relu(conv1)</span><br></pre></td></tr></table></figure><p>è¿™å°±æŒ‡å®šäº† <code>conv1</code> çš„èŠ‚ç‚¹ã€‚ç›¸åŒèŠ‚ç‚¹åå­—ä¼šåœ¨ä¸€èµ·ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨ <code>tf.summary.scalar</code> è®°å½•å‡†ç¡®ç‡ã€æŸå¤±ç­‰æ•°æ®ï¼Œä½¿ç”¨ <code>tf.summary.histogram</code> è®°å½•å‚æ•°çš„åˆ†å¸ƒæƒ…å†µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'accuracy'</span>):</span><br><span class="line">        <span class="keyword">with</span> tf.name_scope(<span class="string">'correct_prediction'</span>):</span><br><span class="line">            correct_pred = tf.equal(tf.argmax(fc3, <span class="number">1</span>), tf.argmax(y, <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">with</span> tf.name_scope(<span class="string">'accuracy'</span>):</span><br><span class="line">            accuracy = tf.reduce_mean(tf.cast(correct_pred, tf.float32))</span><br><span class="line">    tf.summary.scalar(<span class="string">'accuracy'</span>, accuracy)</span><br></pre></td></tr></table></figure><p>ç„¶åç”¨ <code>tf.summary.merge_all</code> å°†è¿™äº›æ“ä½œé›†ä¸­èµ·æ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">merged_summary_op = tf.summary.merge_all()</span><br></pre></td></tr></table></figure><p>æœ€åè¿è¡Œçš„æ—¶å€™ä½¿ç”¨ <code>tf.summary.FileWriter</code> å°†è¿™äº›æ“ä½œå¾—åˆ°çš„æ•°æ®å†™è¿›æ—¥å¿—æ–‡ä»¶ï¼Œä»¥ä¾› TensorBoard å¯è§†åŒ–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">summary_writer = tf.summary.FileWriter(<span class="string">'./tensorboard/log/'</span>, graph=tf.get_default_graph())</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥å¯ä»¥ä½¿ç”¨<code>tf.train.Saver</code> ä¿å­˜æ¨¡å‹ï¼ŒTensorBoard å¯ä»¥æ˜¾ç¤ºæ¯ä¸€æ­¥çš„è¿è¡Œæ—¶é—´ä»¥åŠå†…å­˜ä½¿ç”¨æƒ…å†µã€‚ï¼ˆ<em>ä¸‹é¢ä»…æ˜¯ä»£ç ç‰‡æ®µ</em>ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">saver = tf.train.Saver()</span><br><span class="line"><span class="comment"># è¿™é‡Œæœ‰å…¶ä»–ä»£ç </span></span><br><span class="line">run_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)</span><br><span class="line">run_metadata = tf.RunMetadata()</span><br><span class="line"><span class="comment"># è¿™é‡Œæœ‰å…¶ä»–ä»£ç </span></span><br><span class="line">summary_writer.add_run_metadata(run_metadata, <span class="string">'step%d'</span> % (i * total_batch + batch))</span><br><span class="line">saver.save(sess, <span class="string">'./tensorboard/log/model.ckpt'</span>, i * total_batch + batch)</span><br></pre></td></tr></table></figure><p>æ€»ä¹‹æœ‰å¥½å¤šåŠŸèƒ½ï¼Œæˆ‘åœ¨è¿™é‡Œå°±ä¸ä¸€ä¸€é˜è¿°äº†ï¼Œå¯ä»¥å»å®˜ç½‘çœ‹æ–‡æ¡£ã€‚</p><hr><h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p>è¿›å…¥åˆ° <code>tensorboard</code> æ‰€åœ¨ç›®å½•åï¼Œæ‰§è¡Œä¸‹é¢çš„è¯­å¥å³å¯å¯åŠ¨ TensorBoard ï¼š</p><p>æ²¡æœ‰ä½¿ç”¨ <code>tf.train.Saver()</code> çš„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir=tensorboard/log/without-saver</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ <code>tf.train.Saver()</code> çš„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir=tensorboard/log/with-saver</span><br></pre></td></tr></table></figure></p><p>æŒ‰ç…§æç¤ºï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åœ°å€å°±å¯ä»¥çœ‹åˆ°å¯è§†åŒ–ç»“æœäº†ã€‚</p><p><img src="http://img.blog.csdn.net/20170317104021861?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><em>ä¾‹å¦‚æˆ‘è¿™é‡Œæ˜¯ <code>http://192.168.16.1:6006/</code></em> </p><p>è®­ç»ƒå‡†ç¡®ç‡æ›²çº¿ï¼š</p><p><img src="http://img.blog.csdn.net/20170317104255958?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>æŸå¤±æ›²çº¿ï¼š</p><p><img src="http://img.blog.csdn.net/20170317104417375?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>Graphï¼š</p><p><img src="http://img.blog.csdn.net/20170317104519633?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>Step 100 çš„å„èŠ‚ç‚¹è®¡ç®—æ—¶é—´ï¼ˆéœ€è¦ä½¿ç”¨ <code>tf.train.Saver()</code>ï¼‰ï¼š</p><p><img src="http://img.blog.csdn.net/20170317105057094?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>Step 100 çš„å„èŠ‚ç‚¹å†…å­˜æ¶ˆè€—ï¼ˆéœ€è¦ä½¿ç”¨ <code>tf.train.Saver()</code>ï¼‰ï¼š</p><p><img src="http://img.blog.csdn.net/20170317105148222?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><code>fc1</code> å±‚å‚æ•°çš„é™ç»´å¯è§†åŒ–ï¼Œå¯ä»¥æ—‹è½¬ç¼©æ”¾ï¼Œè¿™ä¸ªåœ¨è¿™é‡Œä¸å¤ªæœ‰ç”¨ï¼Œä»…ä½œå±•ç¤ºç”¨ï¼Œä¸‰ä¸ªä¸»æˆåˆ†è§£é‡Šçš„æ€»æ–¹å·®æ‰ 21%ã€‚åœ¨åš NLP çš„æ—¶å€™è¿™ä¸ªåŠŸèƒ½å°±éå¸¸æœ‰ç”¨äº†ï¼Œå¯ä»¥æ–¹ä¾¿çš„å±•ç¤ºè¯çš„ä½ç½®ã€‚</p><p><img src="http://img.blog.csdn.net/20170317105524256?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><hr><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1><p>OKï¼Œå…ˆåˆ°è¿™é‡Œå§ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/53906810&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å‰é¢&lt;/a&gt; å†™äº†ä¸€ç¯‡ç”¨ TensorFlow å®ç° CNN çš„æ–‡ç« ï¼Œæ²¡æœ‰å®ç° TensorBoardï¼Œè¿™ç¯‡æ¥åŠ ä¸Š TensorBoard çš„å®ç°ï¼Œä»£ç å¯ä»¥ä» &lt;a href=&quot;http://download.csdn.net/detail/u010099080/9781711&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é‡Œ&lt;/a&gt; ä¸‹è½½ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="http://yoursite.com/tags/Machine-Learning/"/>
    
      <category term="TensorFlow" scheme="http://yoursite.com/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ tree å‘½ä»¤æ ¼å¼åŒ–è¾“å‡ºç›®å½•ç»“æ„</title>
    <link href="http://yoursite.com/2017/03/15/using-tree/"/>
    <id>http://yoursite.com/2017/03/15/using-tree/</id>
    <published>2017-03-15T04:45:00.000Z</published>
    <updated>2017-12-23T00:18:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨å†™ä¸€ä¸ª Markdown æ–‡ä»¶çš„æ—¶å€™éœ€è¦å°†ä¸€ä¸ªç›®å½•çš„ç»“æ„è¡¨ç¤ºå‡ºæ¥ï¼Œäºæ˜¯æ‰¾äº†æ‰¾æœ‰æ²¡æœ‰ç›¸å…³å‘½ä»¤ï¼Œæ‰¾åˆ°ä¸€ä¸ªå«åš <code>tree</code> çš„å‘½ä»¤ï¼ŒWindows å’Œ Linux éƒ½æœ‰è¿™ä¸ªå‘½ä»¤ã€‚</p><a id="more"></a><hr><h1 id="Windows-10"><a href="#Windows-10" class="headerlink" title="Windows 10"></a>Windows 10</h1><p>æˆ‘æ˜¯åœ¨ Windows 10 ä¸Šç”¨çš„ï¼Œä¸è¿‡æ ¹æ® <a href="http://www.computerhope.com/treehlp.htm" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a> åº”è¯¥åœ¨ Windows 7 å’Œ 8 ä¸Šä¹Ÿæ˜¯å¯ä»¥ç”¨çš„ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree [Drive:[[Path] [/F] [/A]</span><br></pre></td></tr></table></figure><p>å…¶ä¸­</p><ul><li><code>/F</code> è¡¨ç¤ºä¸ä»…è¾“å‡ºæ–‡ä»¶å¤¹ï¼Œä¹Ÿè¾“å‡ºæ–‡ä»¶åã€‚é»˜è®¤æ˜¯åªè¾“å‡ºæ–‡ä»¶å¤¹çš„åå­—ã€‚</li><li><code>/A</code> è¡¨ç¤ºä½¿ç”¨å¦ä¸€ç§æ–¹å¼æ¥ç»˜åˆ¶ç›®å½•æ ‘ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><p>ä»…åˆ—å‡ºç›®å½•<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree D:\MasterFiles\MachineLearning\TensorFlow\TensorFlow-Examples\MyCode\cifar10-TensorFlow-tensorboard</span><br></pre></td></tr></table></figure></p><p><img src="http://img.blog.csdn.net/20170315123020407?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="ä»…åˆ—å‡ºç›®å½•"></p><hr><p>å¦ä¸€ç§æ–¹å¼è¾“å‡º<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree D:\MasterFiles\MachineLearning\TensorFlow\TensorFlow-Examples\MyCode\cifar10-TensorFlow-tensorboard /A</span><br></pre></td></tr></table></figure></p><p><img src="http://img.blog.csdn.net/20170315123119881?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="å¦ä¸€ç§æ–¹å¼è¾“å‡º"></p><hr><p>åˆ—å‡ºç›®å½•åŠæ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree D:\MasterFiles\MachineLearning\TensorFlow\TensorFlow-Examples\MyCode\cifar10-TensorFlow-tensorboard /F</span><br></pre></td></tr></table></figure></p><p><img src="http://img.blog.csdn.net/20170315123155565?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="åˆ—å‡ºç›®å½•åŠæ–‡ä»¶"></p><hr><h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><p>ç”±äºæˆ‘ç°åœ¨ç”¨çš„æ˜¯ Windows 10ï¼Œæ‰€ä»¥å°±å…ˆæš‚æ—¶ç”¨ Windows 10 è‡ªå¸¦çš„ Ubuntu å­ç³»ç»Ÿæµ‹è¯•äº†ï¼Œå›å¤´å†ç”¨çœŸæ­£çš„ Ubuntu è¯•è¯•ã€‚å…³äºå¦‚ä½•ä½¿ç”¨ Windows 10 è‡ªå¸¦çš„ Ubuntu å­ç³»ç»Ÿæˆ‘å°±ä¸å¤šè¯´äº†ï¼Œå¤§å®¶ç›´æ¥ç™¾åº¦å°±å¥½ï¼Œæ•™ç¨‹å¾ˆå¤šã€‚</p><p>åˆ—å‡ºç›®å½•åŠæ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree cifar10-TensorFlow-tensorboard</span><br></pre></td></tr></table></figure></p><p><img src="http://img.blog.csdn.net/20170315123846386?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="åˆ—å‡ºç›®å½•åŠæ–‡ä»¶"></p><hr><p>åªåˆ—å‡ºç›®å½•<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree cifar10-TensorFlow-tensorboard -d</span><br></pre></td></tr></table></figure></p><p><img src="http://img.blog.csdn.net/20170315123953494?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="åªåˆ—å‡ºç›®å½•"></p><p>æ›´è¯¦ç»†çš„å‚æ•°è®¾ç½®å¯ä»¥ä½¿ç”¨ <code>man tree</code> æŸ¥çœ‹ï¼Œå¦‚æœè¾“å…¥ <code>tree</code> æç¤ºæ²¡æœ‰å®‰è£…ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ <code>sudo apt-get install tree</code> æ¥å®‰è£…è¯¥å‘½ä»¤ã€‚</p><hr><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åœ¨å†™ä¸€ä¸ª Markdown æ–‡ä»¶çš„æ—¶å€™éœ€è¦å°†ä¸€ä¸ªç›®å½•çš„ç»“æ„è¡¨ç¤ºå‡ºæ¥ï¼Œäºæ˜¯æ‰¾äº†æ‰¾æœ‰æ²¡æœ‰ç›¸å…³å‘½ä»¤ï¼Œæ‰¾åˆ°ä¸€ä¸ªå«åš &lt;code&gt;tree&lt;/code&gt; çš„å‘½ä»¤ï¼ŒWindows å’Œ Linux éƒ½æœ‰è¿™ä¸ªå‘½ä»¤ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Ubuntu" scheme="http://yoursite.com/tags/Ubuntu/"/>
    
      <category term="Windows" scheme="http://yoursite.com/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>VSCode Markdown PDF å¯¼å‡ºæˆPDFæŠ¥ phantomjs binary does not exist é”™è¯¯çš„è§£å†³åŠæ³•</title>
    <link href="http://yoursite.com/2017/03/11/vscode-pdf-error/"/>
    <id>http://yoursite.com/2017/03/11/vscode-pdf-error/</id>
    <published>2017-03-11T01:53:00.000Z</published>
    <updated>2017-12-23T00:21:49.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>VSCode æ˜¯å¾®è½¯æ¨å‡ºçš„ä¸€æ¬¾å¼€æºçš„ä»£ç ç¼–è¾‘å™¨ï¼Œä» sublime text è½¬è¿‡æ¥åæ„Ÿè§‰è¿˜ä¸é”™ï¼Œæ˜¨å¤©åœ¨ç”¨ä»–å†™ Markdown æ–‡ä»¶æ—¶æƒ³ç€ç›´æ¥å¯¼å‡º PDF æ–‡ä»¶ï¼ˆä¹‹å‰éƒ½æ˜¯ç”¨ Markdown Pad 2ï¼‰ï¼Œæ‰¾åˆ°ä¸€ä¸ªå« <em>Markdown PDF</em> çš„æ’ä»¶ï¼Œå®‰è£…ä¹‹ååœ¨ Markdown æ–‡ä»¶é‡Œå³é”®é€‰æ‹© <code>Convert Markdown to PDF</code> åæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p><p><img src="http://img.blog.csdn.net/20170311094443495?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å°±æ˜¯ <code>ERROR: phantomjs binary does not exist</code> ï¼Œåœ¨åé¢é‚£ä¸ªç›®å½•æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚</p><a id="more"></a><hr><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>é”™è¯¯ä¿¡æ¯å·²ç»è¯´å¾—å¾ˆæ˜ç¡®ï¼Œæ—¢ç„¶ä»–æ‰¾ä¸åˆ°é‚£ä¸ªæ–‡ä»¶ï¼Œé‚£æˆ‘ä»¬å°±æŠŠé‚£ä¸ªæ–‡ä»¶æ”¾åˆ°é‚£ä¸ªç›®å½•ä¸‹å°±å¥½äº†ã€‚</p><p>æ–‡ä»¶å¯ä»¥å»å…¶ <a href="http://download.csdn.net/detail/u010099080/9777537" target="_blank" rel="noopener">å®˜ç½‘</a> ä¸‹è½½ï¼Œæˆ–è€…æˆ‘å·²ç»ä¸‹è½½å¥½äº†ï¼Œç›´æ¥ä» <a href="http://download.csdn.net/detail/u010099080/9777537" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ä¹Ÿè¡Œã€‚</p><p>è§£å‹åå°†å…¶ä¸­çš„ <code>bin</code> ç›®å½•æ”¾åˆ°ä¸Šé¢æ‰€æŒ‡å®šçš„ç›®å½•ä¸‹ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ï¼š<code>C:\Users\your username\.vscode\extensions\yzane.markdown-pdf-0.1.6\node_modules\phantomjs-prebuilt\lib\phantom</code>ï¼Œå°†å…¶ä¸­çš„ <code>your username</code> æ›¿æ¢æˆä½ çš„ Windows ç”¨æˆ·åå³å¯ã€‚</p><p>æ”¾è¿›å»åç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="http://img.blog.csdn.net/20170311095201580?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä¹‹åé‡å¯ VSCodeï¼Œåœ¨ä½ çš„ Markdown æ–‡ä»¶é‡Œå³é”®é€‰æ‹© <code>Convert Markdown to PDF</code> æˆ–è€…æŒ‰ <code>F1</code> æˆ–è€… <code>Ctrl Shift P</code> è¾“å…¥ <code>pdf</code> ï¼Œé€‰æ‹© <code>Convert Markdown to PDF</code> å›è½¦å³å¯ï¼Œç¨ç­‰ç‰‡åˆ»å³å¯çœ‹åˆ°å¦‚ä¸‹æç¤ºï¼Œè¡¨ç¤ºå¯¼å‡ºæˆåŠŸã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å¯¼å‡ºæˆ <code>html</code>ï¼Œ<code>png</code>ï¼Œ<code>jpg</code> ç­‰æ ¼å¼ã€‚</p><p><img src="http://img.blog.csdn.net/20170311095745198?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;VSCode æ˜¯å¾®è½¯æ¨å‡ºçš„ä¸€æ¬¾å¼€æºçš„ä»£ç ç¼–è¾‘å™¨ï¼Œä» sublime text è½¬è¿‡æ¥åæ„Ÿè§‰è¿˜ä¸é”™ï¼Œæ˜¨å¤©åœ¨ç”¨ä»–å†™ Markdown æ–‡ä»¶æ—¶æƒ³ç€ç›´æ¥å¯¼å‡º PDF æ–‡ä»¶ï¼ˆä¹‹å‰éƒ½æ˜¯ç”¨ Markdown Pad 2ï¼‰ï¼Œæ‰¾åˆ°ä¸€ä¸ªå« &lt;em&gt;Markdown PDF&lt;/em&gt; çš„æ’ä»¶ï¼Œå®‰è£…ä¹‹ååœ¨ Markdown æ–‡ä»¶é‡Œå³é”®é€‰æ‹© &lt;code&gt;Convert Markdown to PDF&lt;/code&gt; åæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://img.blog.csdn.net/20170311094443495?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast&quot; alt=&quot;è¿™é‡Œå†™å›¾ç‰‡æè¿°&quot;&gt;&lt;/p&gt;
&lt;p&gt;å°±æ˜¯ &lt;code&gt;ERROR: phantomjs binary does not exist&lt;/code&gt; ï¼Œåœ¨åé¢é‚£ä¸ªç›®å½•æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="IDE" scheme="http://yoursite.com/tags/IDE/"/>
    
  </entry>
  
  <entry>
    <title>Numpy ä¸­çš„ copy é—®é¢˜è¯¦è§£</title>
    <link href="http://yoursite.com/2017/03/01/numpy-copy/"/>
    <id>http://yoursite.com/2017/03/01/numpy-copy/</id>
    <published>2017-03-01T08:54:00.000Z</published>
    <updated>2017-12-23T00:21:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ç¯‡æ–‡ç« æœ¬æ˜¯æˆ‘åœ¨ <a href="https://segmentfault.com/q/1010000008271935/a-1020000008284346" target="_blank" rel="noopener">segmentfault</a> ä¸Šçš„ä¸€ä¸ªå›ç­”ï¼Œä½†æ˜¯è¶Šæ¥è¶Šè§‰å¾—æœ‰å¿…è¦å•ç‹¬æ‹¿å‡ºæ¥ï¼Œæ¯•ç«Ÿè¿™ä¸ªé—®é¢˜æŒºå¸¸è§çš„ã€‚å…·ä½“å¯å‚çœ‹ <a href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#copies-and-views" target="_blank" rel="noopener"><code>numpy</code> å®˜æ–¹æ–‡æ¡£</a> ã€‚</p><a id="more"></a><hr><h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><p><code>numpy</code>å…³äº<code>copy</code>æœ‰ä¸‰ç§æƒ…å†µï¼Œ<strong>å®Œå…¨ä¸å¤åˆ¶</strong>ã€<strong>è§†å›¾ï¼ˆ<code>view</code>ï¼‰</strong>æˆ–è€…å«æµ…å¤åˆ¶ï¼ˆ<code>shadow copy</code>ï¼‰å’Œ<strong>æ·±å¤åˆ¶</strong>ï¼ˆ<code>deep copy</code>ï¼‰ã€‚</p><p>è€Œ <code>b = a[:]</code> è¿™ç§å½¢å¼å°±å±äºç¬¬äºŒç§ï¼Œå³<strong>è§†å›¾</strong>ï¼Œè¿™æœ¬è´¨ä¸Šæ˜¯ä¸€ç§åˆ‡ç‰‡æ“ä½œï¼ˆ<code>slicing</code>ï¼‰ï¼Œæ‰€æœ‰çš„åˆ‡ç‰‡æ“ä½œè¿”å›çš„éƒ½æ˜¯è§†å›¾ã€‚å…·ä½“æ¥è¯´ï¼Œ<code>b = a[:]</code>ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ <code>b</code>ï¼ˆæ‰€ä»¥ <code>id(b)</code> å’Œ<code>id(a)</code> è¿”å›çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼‰ï¼Œä½†æ˜¯ <code>b</code> çš„æ•°æ®å®Œå…¨æ¥è‡ªäº<code>a</code>ï¼Œå’Œ <code>a</code> ä¿æŒå®Œå…¨ä¸€è‡´ï¼Œæ¢å¥è¯è¯´ï¼Œ<strong><code>b</code>çš„æ•°æ®å®Œå…¨ç”±<code>a</code>ä¿ç®¡</strong>ï¼Œä»–ä»¬ä¸¤ä¸ªçš„æ•°æ®å˜åŒ–æ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥çœ‹ä¸‹é¢çš„ç¤ºä¾‹:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">4</span>)  <span class="comment"># array([0, 1, 2, 3])</span></span><br><span class="line">b = a[:]  <span class="comment"># array([0, 1, 2, 3])</span></span><br><span class="line"></span><br><span class="line">b.flags.owndata  <span class="comment"># è¿”å› Falseï¼Œb å¹¶ä¸ä¿ç®¡æ•°æ®</span></span><br><span class="line">a.flags.owndata  <span class="comment"># è¿”å› Trueï¼Œæ•°æ®ç”± a ä¿ç®¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¹å˜ a åŒæ—¶ä¹Ÿå½±å“åˆ° b</span></span><br><span class="line">a[<span class="number">-1</span>] = <span class="number">10</span>  <span class="comment"># array([0, 1, 2, 10])</span></span><br><span class="line">b  <span class="comment">#  array([0, 1, 2, 10])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¹å˜ b åŒæ—¶ä¹Ÿå½±å“åˆ° a</span></span><br><span class="line">b[<span class="number">0</span>] = <span class="number">10</span>  <span class="comment"># array([10, 1, 2, 10])</span></span><br><span class="line">a  <span class="comment"># array([10, 1, 2, 10])</span></span><br></pre></td></tr></table></figure></p><p><code>b = a</code> å’Œ <code>b = a[:]</code> çš„å·®åˆ«å°±åœ¨äºåè€…ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œå‰è€…ä¸ä¼šã€‚ä¸¤ç§æ–¹å¼éƒ½ä¼šå¯¼è‡´ <code>a</code> å’Œ <code>b</code> çš„æ•°æ®ç›¸äº’å½±å“ã€‚</p><p>è¦æƒ³ä¸è®© <code>a</code> çš„æ”¹åŠ¨å½±å“åˆ° <code>b</code>ï¼Œå¯ä»¥ä½¿ç”¨æ·±å¤åˆ¶ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unique_b = a.copy()</span><br></pre></td></tr></table></figure></p><hr><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ç¯‡æ–‡ç« æœ¬æ˜¯æˆ‘åœ¨ &lt;a href=&quot;https://segmentfault.com/q/1010000008271935/a-1020000008284346&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;segmentfault&lt;/a&gt; ä¸Šçš„ä¸€ä¸ªå›ç­”ï¼Œä½†æ˜¯è¶Šæ¥è¶Šè§‰å¾—æœ‰å¿…è¦å•ç‹¬æ‹¿å‡ºæ¥ï¼Œæ¯•ç«Ÿè¿™ä¸ªé—®é¢˜æŒºå¸¸è§çš„ã€‚å…·ä½“å¯å‚çœ‹ &lt;a href=&quot;https://docs.scipy.org/doc/numpy-dev/user/quickstart.html#copies-and-views&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;numpy&lt;/code&gt; å®˜æ–¹æ–‡æ¡£&lt;/a&gt; ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Check failed stream-&gt;parent()-&gt;GetConvolveAlgorithms(&amp;algorithms)è§£å†³åŠæ³•</title>
    <link href="http://yoursite.com/2017/02/26/tensorflow-cudnn-version/"/>
    <id>http://yoursite.com/2017/02/26/tensorflow-cudnn-version/</id>
    <published>2017-02-26T03:45:44.000Z</published>
    <updated>2017-12-23T08:25:49.381Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºæˆ‘å¾ˆæ—©å°±åœ¨ GitHub ä¸‹è½½äº† TensorFlow çš„æºç åº“æ²¡æœ‰æ›´æ–°ï¼Œåœ¨è¿è¡Œ <a href="https://www.tensorflow.org/tutorials/deep_cnn" target="_blank" rel="noopener">TensorFlow å®˜æ–¹çš„ CNN ä¾‹å­</a>çš„æ—¶å€™ï¼Œæ€»æ˜¯æŠ¥ <code>ImportError</code> é”™è¯¯ï¼Œæ‰¾ä¸åˆ° <code>cifar10</code> æ¨¡å—ï¼Œåæ¥å‘ç°æ˜¯ TensorFlow çš„æºç åº“æ›´æ–°äº†ï¼Œè¿™äº›æ¨¡å‹å®ç°éƒ½è¢«ç§»åˆ°äº†ä¸€ä¸ªæ–°çš„æºç åº“ï¼š<a href="https://github.com/tensorflow/models" target="_blank" rel="noopener">models</a> ã€‚</p><p>ä½†æ˜¯å‘¢ï¼Œåœ¨æˆ‘ <code>clone</code> äº† <code>models</code> åˆ°æœ¬åœ°åï¼ŒæŒ‰ç…§ TensorFlow å®˜æ–¹çš„ä¾‹å­è¿è¡Œ <code>python cifar10_train.py</code> çš„æ—¶å€™ï¼Œé—®é¢˜åˆå‡ºç°äº†â€¦â€¦</p><a id="more"></a><hr><h1 id="è¿è¡Œç¯å¢ƒ"><a href="#è¿è¡Œç¯å¢ƒ" class="headerlink" title="è¿è¡Œç¯å¢ƒ"></a>è¿è¡Œç¯å¢ƒ</h1><p><strong>è¿è¡Œç¯å¢ƒæ˜¯é¦–è¦å‰æ ã€‚</strong></p><ul><li>OSï¼šWindows 10 å®¶åº­ä¸­æ–‡ç‰ˆ</li><li>CUDAï¼š<code>Cuda compilation tools, release 8.0, V8.0.44</code></li><li>cuDNNï¼š5.0</li><li>TensorFlow: 1.0.0</li></ul><p><code>python -c &quot;import tensorflow; print(tensorflow.__version__)&quot;</code> çš„è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">I c:\tf_jenkins\home\workspace\release-win\device\gpu\os\windows\tensorflow\stream_executor\dso_loader.cc:135] successfully opened CUDA library cublas64_80.dll locally</span><br><span class="line">I c:\tf_jenkins\home\workspace\release-win\device\gpu\os\windows\tensorflow\stream_executor\dso_loader.cc:135] successfully opened CUDA library cudnn64_5.dll locally</span><br><span class="line">I c:\tf_jenkins\home\workspace\release-win\device\gpu\os\windows\tensorflow\stream_executor\dso_loader.cc:135] successfully opened CUDA library cufft64_80.dll locally</span><br><span class="line">I c:\tf_jenkins\home\workspace\release-win\device\gpu\os\windows\tensorflow\stream_executor\dso_loader.cc:135] successfully opened CUDA library nvcuda.dll locally</span><br><span class="line">I c:\tf_jenkins\home\workspace\release-win\device\gpu\os\windows\tensorflow\stream_executor\dso_loader.cc:135] successfully opened CUDA library curand64_80.dll locally</span><br><span class="line">1.0.0</span><br></pre></td></tr></table></figure><hr><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>è¿è¡Œ <code>python cifar10_train.py</code> çš„æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E c:\tf_jenkins\home\workspace\release-win\device\gpu\os\windows\tensorflow\stream_executor\cuda\cuda_dnn.cc:390] Loaded runtime CuDNN library: 5005 (compatibility version 5000) but <span class="built_in">source</span> was compiled with 5105 (compatibility version 5100).  If using a binary install, upgrade your CuDNN library to match.  If building from sources, make sure the library loaded at runtime matches a compatible version specified during compile configuration.</span><br><span class="line">F c:\tf_jenkins\home\workspace\release-win\device\gpu\os\windows\tensorflow\core\kernels\conv_ops.cc:605] Check failed: stream-&gt;parent()-&gt;GetConvolveAlgorithms(&amp;algorithms)</span><br></pre></td></tr></table></figure><hr><h1 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h1><p>ä»æŠ¥é”™ä¿¡æ¯å¾ˆæ˜æ˜¾å¯ä»¥çœ‹å‡ºï¼Œæ˜¯ cuDNN çš„ç‰ˆæœ¬é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘åªéœ€è¦<strong>å‡çº§ cuDNN ç‰ˆæœ¬</strong>å°±å¯ä»¥äº†ã€‚æˆ‘ç°åœ¨çš„ç‰ˆæœ¬æ˜¯ 5.0ï¼Œå‡çº§åˆ° 5.1 å³å¯ã€‚å¯ä» <a href="https://developer.nvidia.com/rdp/cudnn-download" target="_blank" rel="noopener">å®˜ç½‘</a> ä¸‹è½½æˆ–è€…ä» <a href="http://download.csdn.net/detail/u010099080/9764330" target="_blank" rel="noopener">è¿™é‡Œ</a> ç›´æ¥ä¸‹è½½æˆ‘ä¸‹è½½å¥½çš„ã€‚</p><p>ä¸‹è½½å¥½åå°±æ˜¯æ›¿æ¢åŸæœ‰çš„ 5.0 ç‰ˆæœ¬äº†ã€‚å¦‚æœåŸå…ˆä½ å®‰è£… cuDNN çš„æ—¶å€™æ˜¯ç”¨å°† <code>C:\cuda\bin</code> åŠ è¿› <code>Path</code> ç¯å¢ƒå˜é‡çš„æ–¹æ³•å®‰è£…çš„ï¼Œé‚£ä¹ˆä½ ç›´æ¥ç”¨ 5.1 ç‰ˆæœ¬æ–‡ä»¶æ›¿æ¢åŸæœ‰æ–‡ä»¶åº”è¯¥å°±å¯ä»¥ã€‚</p><p>ä½†æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å®‰è£…çš„æ—¶å€™ç¨å¾®éº»çƒ¦ä¸€äº›ï¼Œæ˜¯ç”¨ <a href="http://blog.csdn.net/u010099080/article/details/53418159" target="_blank" rel="noopener">æ­¤æ–‡</a> ä¸­çš„æ–¹æ³•å®‰è£…çš„ï¼Œå³å°†å¯¹åº”æ–‡ä»¶å¤åˆ¶åˆ°å¯¹åº”ä½ç½®ï¼Œæ‰€ä»¥ä½ åœ¨å‡çº§ cuDNN ç‰ˆæœ¬çš„æ—¶å€™ä¹Ÿè¦å°†å¯¹åº”æ–‡ä»¶å¤åˆ¶åˆ°å¯¹åº”ä½ç½®å°±å¯ä»¥äº†ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•ã€‚</p><p>ç„¶åï¼Œå†æ¬¡è¿è¡Œ <code>python cifar10_train.py</code> å°±å¯ä»¥é¡ºç•…çš„ç©è€äº†ã€‚</p><hr><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”±äºæˆ‘å¾ˆæ—©å°±åœ¨ GitHub ä¸‹è½½äº† TensorFlow çš„æºç åº“æ²¡æœ‰æ›´æ–°ï¼Œåœ¨è¿è¡Œ &lt;a href=&quot;https://www.tensorflow.org/tutorials/deep_cnn&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;TensorFlow å®˜æ–¹çš„ CNN ä¾‹å­&lt;/a&gt;çš„æ—¶å€™ï¼Œæ€»æ˜¯æŠ¥ &lt;code&gt;ImportError&lt;/code&gt; é”™è¯¯ï¼Œæ‰¾ä¸åˆ° &lt;code&gt;cifar10&lt;/code&gt; æ¨¡å—ï¼Œåæ¥å‘ç°æ˜¯ TensorFlow çš„æºç åº“æ›´æ–°äº†ï¼Œè¿™äº›æ¨¡å‹å®ç°éƒ½è¢«ç§»åˆ°äº†ä¸€ä¸ªæ–°çš„æºç åº“ï¼š&lt;a href=&quot;https://github.com/tensorflow/models&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;models&lt;/a&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å‘¢ï¼Œåœ¨æˆ‘ &lt;code&gt;clone&lt;/code&gt; äº† &lt;code&gt;models&lt;/code&gt; åˆ°æœ¬åœ°åï¼ŒæŒ‰ç…§ TensorFlow å®˜æ–¹çš„ä¾‹å­è¿è¡Œ &lt;code&gt;python cifar10_train.py&lt;/code&gt; çš„æ—¶å€™ï¼Œé—®é¢˜åˆå‡ºç°äº†â€¦â€¦&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
      <category term="TensorFlow" scheme="http://yoursite.com/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow 1.0 å‘å¸ƒ</title>
    <link href="http://yoursite.com/2017/02/16/tensorflow-1.0/"/>
    <id>http://yoursite.com/2017/02/16/tensorflow-1.0/</id>
    <published>2017-02-16T02:46:55.000Z</published>
    <updated>2017-12-25T16:35:07.546Z</updated>
    
    <content type="html"><![CDATA[<p>å‰é¢å†™äº† <a href="https://secsilm.github.io/2016/12/01/installing-tensorflow/" target="_blank" rel="noopener">TensorFlow åœ¨Windowsä¸Šçš„å®‰è£…æ•™ç¨‹</a>ï¼Œå½“æ—¶ç‰ˆæœ¬è¿˜æ˜¯ 0.12 ã€‚</p><p>NOW</p><p>é¦–å±Š <a href="https://events.withgoogle.com/tensorflow-dev-summit/watch-the-videos/#content" target="_blank" rel="noopener">TensorFlow å¼€å‘è€…å¤§ä¼š</a>ï¼ˆTensorFlow Dev Summitï¼‰å·²äºç¾å›½æ—¶é—´æ˜¨æ—¥å¬å¼€ï¼ŒYouTube è¿˜è¿›è¡Œäº†ç›´æ’­ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œ<strong>TensorFlow 1.0</strong> ç‰ˆæœ¬å‘å¸ƒã€‚Google Research Blog ä¹Ÿäºæ˜¨å¤©åœ¨ <a href="https://research.googleblog.com/2017/02/announcing-tensorflow-10.html" target="_blank" rel="noopener">åšå®¢</a> ä¸­å…¬å¸ƒäº†è¿™ä¸€æ¶ˆæ¯ã€‚</p><a id="more"></a><p><img src="http://img.blog.csdn.net/20170216155804609?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><hr><h2 id="æ”¹åŠ¨"><a href="#æ”¹åŠ¨" class="headerlink" title="æ”¹åŠ¨"></a>æ”¹åŠ¨</h2><p>è¿™ä¸€ç‰ˆæœ¬çš„æ”¹åŠ¨è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œå¾ˆå¤šæ—§çš„ API éƒ½å·²ç»ä¸å†ä½¿ç”¨ã€‚åœ¨ <a href="https://research.googleblog.com/2017/02/announcing-tensorflow-10.html" target="_blank" rel="noopener">åšå®¢</a> ä¸­å¯ä»¥çœ‹åˆ° 1.0 ç‰ˆæœ¬æ›´å¿«ã€æ›´çµæ´»ã€æ›´ç¨³å®šï¼ˆproduction-readyï¼‰ ã€‚TensorFlow 1.0 ç‰ˆæœ¬ä¿è¯ Python API çš„ç¨³å®šæ€§ï¼Œå³ä½¿ä»¥åæ·»åŠ æ–°çš„ç‰¹æ€§ä¹Ÿä¸ç”¨æ‹…å¿ƒä¼šç ´åç°æœ‰ä»£ç ã€‚</p><p>åšå®¢ä¸­æåˆ°çš„å…¶ä»–æ–°ç‰ˆæœ¬ä¸¤ç‚¹ï¼ˆ<em>ä¸ºé¿å…ç¿»è¯‘é€ æˆçš„åå·®ï¼Œæˆ‘å°±ç›´æ¥å¼•ç”¨åŸæ–‡äº†</em>ï¼‰ï¼š</p><ul><li>Python APIs have been changed to resemble NumPy more closely. For this and other backwards-incompatible changes made to support API stability going forward, please use our handy <a href="https://tensorflow.org/install/migration" target="_blank" rel="noopener">migration guide</a> and <a href="https://github.com/tensorflow/tensorflow/tree/r1.0/tensorflow/tools/compatibility" target="_blank" rel="noopener">conversion script</a>.</li><li>Experimental APIs for <a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/java" target="_blank" rel="noopener">Java</a> and <a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/go" target="_blank" rel="noopener">Go</a></li><li>Higher-level API modules tf.layers, tf.metrics, and tf.losses - brought over from <a href="https://www.tensorflow.org/get_started/tflearn" target="_blank" rel="noopener">tf.contrib.learn</a> after incorporating <a href="https://github.com/tensorflow/skflow" target="_blank" rel="noopener">skflow</a> and <a href="https://github.com/tensorflow/models/blob/master/inception/inception/slim/README.md" target="_blank" rel="noopener">TF Slim</a></li><li>Experimental release of <a href="http://tensorflow.org/performance/xla" target="_blank" rel="noopener">XLA</a>, a domain-specific compiler for TensorFlow graphs, that targets CPUs and GPUs. XLA is rapidly evolving - expect to see more progress in upcoming releases.</li><li>Introduction of the TensorFlow Debugger (<a href="https://www.tensorflow.org/programmers_guide/debugger" target="_blank" rel="noopener">tfdbg</a>), a command-line interface and API for debugging live TensorFlow programs.</li><li>New <a href="https://github.com/tensorflow/tensorflow/tree/r1.0/tensorflow/examples/android" target="_blank" rel="noopener">Android demos</a> for object detection and localization, and camera-based image stylization.</li><li><a href="https://www.tensorflow.org/install" target="_blank" rel="noopener">Installation</a> improvements: Python 3 docker images have been added, and TensorFlowâ€™s pip packages are now PyPI compliant. This means TensorFlow can now be installed with a simple invocation of <code>pip install tensorflow</code>.</li></ul><hr><h2 id="å‡çº§"><a href="#å‡çº§" class="headerlink" title="å‡çº§"></a>å‡çº§</h2><p>å‡çº§å¾ˆç®€å•ï¼ˆåœ¨è¿™é‡Œæ„Ÿè°¢ä¸€ä¸‹ä¸ºç®€åŒ– TensorFlow å®‰è£…è¿‡ç¨‹çš„å·¥ç¨‹å¸ˆä»¬ï¼‰ï¼Œå°±æ˜¯ä¸€è¡Œè¯­å¥ï¼Œè¿™ä¹Ÿæ˜¯å®‰è£…å‘½ä»¤ï¼š</p><p>å¯¹äº GPU ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --upgrade tensorflow-gpu</span><br></pre></td></tr></table></figure><p>å¯¹äº CPU ç‰ˆæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --upgrade tensorflow</span><br></pre></td></tr></table></figure><p><img src="http://img.blog.csdn.net/20170216162553891?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="å‡çº§è¿‡ç¨‹"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å›¾ç‰‡å¯æŸ¥çœ‹å¤§å›¾</em></p><p>è¾“å…¥å®Œå›è½¦å°±å¼€å§‹å‡çº§è¿‡ç¨‹ï¼Œä¼šä¸‹è½½å¹¶å¸è½½é‡è£…ä¸€äº›å¿…è¦çš„åŒ…ï¼Œæ—¶é—´é•¿çŸ­è§†ç½‘é€Ÿè€Œå®šã€‚</p><hr><h2 id="æ›´æ–°ä½ çš„æ—§ä»£ç "><a href="#æ›´æ–°ä½ çš„æ—§ä»£ç " class="headerlink" title="æ›´æ–°ä½ çš„æ—§ä»£ç "></a>æ›´æ–°ä½ çš„æ—§ä»£ç </h2><p>æœ‰ä¸¤ç§æ–¹æ³•æ›´æ–°ä½ çš„ä»£ç ï¼Œä¸€ç§å°±æ˜¯æˆ‘ä¸Šé¢æåˆ°çš„ç”¨è„šæœ¬è‡ªåŠ¨å‡çº§ï¼Œå¦ä¸€ç§å°±æ˜¯æ‰‹åŠ¨æ›´æ”¹ï¼Œå…·ä½“å¯ä»¥å‚è€ƒ <a href="https://www.tensorflow.org/install/migration" target="_blank" rel="noopener">è¿™é‡Œ</a> ã€‚</p><h3 id="ä½¿ç”¨è„šæœ¬"><a href="#ä½¿ç”¨è„šæœ¬" class="headerlink" title="ä½¿ç”¨è„šæœ¬"></a>ä½¿ç”¨è„šæœ¬</h3><p>ç”±äºç‰ˆæœ¬æ”¹åŠ¨è¾ƒå¤§ï¼ŒTensorFlow ç”šè‡³å‡ºäº†ä¸€ä¸ª <code>tf_upgrade.py</code> è„šæœ¬æ¥å¸®åŠ©ä½ æ›´æ–°ä»£ç ï¼Œä» <a href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/compatibility/tf_upgrade.py" target="_blank" rel="noopener">è¿™é‡Œ</a> è·å–è¿™ä»½ä»£ç ï¼Œæˆ–è€…ç‚¹å‡» <a href="http://download.csdn.net/detail/u010099080/9756279" target="_blank" rel="noopener">è¿™é‡Œ</a> ç›´æ¥ä¸‹è½½ã€‚</p><p>å¯¹äºæ›´æ–°å•ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tf_upgrade.py --infile InputFile --outfile OutputFile</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>InputFile</code> å’Œ <code>OutputFile</code> åˆ†åˆ«ä¸ºä½ çš„æ—§ä»£ç å’Œæ–°ä»£ç ï¼Œæ ¹æ®ä½ çš„æ–‡ä»¶ååšç›¸åº”çš„æ›¿æ¢ã€‚ä¾‹å¦‚æˆ‘çš„æ—§ä»£ç æ˜¯ <code>test.py</code>ï¼Œå°†è¦ç”Ÿæˆçš„æ–°ä»£ç æ˜¯ <code>test_1.0.py</code>ï¼Œåˆ™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tf_upgrade.py --infile test.py --outfile test_1.0.py</span><br></pre></td></tr></table></figure><p>åŒæ—¶ï¼Œ<code>tf_upgrade.py</code> ä¼šç”Ÿæˆä¸€ä¸ªåä¸º <code>report.txt</code> çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶è®°å½•äº†å¯¹æ—§æ–‡ä»¶åšçš„æ‰€æœ‰æ”¹åŠ¨ï¼ŒåŒæ—¶ä¹Ÿç»™å‡ºäº†å¯èƒ½éœ€è¦ä½ æ‰‹åŠ¨æ›´æ”¹çš„å»ºè®®ã€‚</p><p>å¯¹äºæ–‡ä»¶å¤¹ï¼ˆç›®å½•ï¼‰ï¼Œå’Œå•ä¸ªæ–‡ä»¶ç±»ä¼¼ï¼Œä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tf_upgrade.py --intree InputDir --outtree OutputDir</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œæˆ‘çš„ programs ä½äº <code>/home/user/cool</code> ç›®å½•ï¼Œæ–°çš„ç”Ÿæˆçš„æ–‡ä»¶æˆ‘æƒ³æ”¾åˆ° <code>/home/user/cool_1.0</code> é‡Œï¼Œåˆ™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python tf_upgrade.py --intree /home/user/cool --outtree /home/user/cool_1.0</span><br></pre></td></tr></table></figure><h3 id="æ‰‹åŠ¨æ›´æ”¹"><a href="#æ‰‹åŠ¨æ›´æ”¹" class="headerlink" title="æ‰‹åŠ¨æ›´æ”¹"></a>æ‰‹åŠ¨æ›´æ”¹</h3><p>é™¤äº†ä½¿ç”¨è„šæœ¬è‡ªåŠ¨æ›´æ–°å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ‰‹åŠ¨æ›¿æ¢çš„æ–¹å¼ã€‚éœ€è¦æ›¿æ¢çš„ä¸œè¥¿æœ‰å¾ˆå¤šï¼Œæˆ‘å°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒ <a href="https://www.tensorflow.org/install/migration" target="_blank" rel="noopener">å®˜ç½‘</a> ã€‚</p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å‰é¢å†™äº† &lt;a href=&quot;https://secsilm.github.io/2016/12/01/installing-tensorflow/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;TensorFlow åœ¨Windowsä¸Šçš„å®‰è£…æ•™ç¨‹&lt;/a&gt;ï¼Œå½“æ—¶ç‰ˆæœ¬è¿˜æ˜¯ 0.12 ã€‚&lt;/p&gt;
&lt;p&gt;NOW&lt;/p&gt;
&lt;p&gt;é¦–å±Š &lt;a href=&quot;https://events.withgoogle.com/tensorflow-dev-summit/watch-the-videos/#content&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;TensorFlow å¼€å‘è€…å¤§ä¼š&lt;/a&gt;ï¼ˆTensorFlow Dev Summitï¼‰å·²äºç¾å›½æ—¶é—´æ˜¨æ—¥å¬å¼€ï¼ŒYouTube è¿˜è¿›è¡Œäº†ç›´æ’­ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œ&lt;strong&gt;TensorFlow 1.0&lt;/strong&gt; ç‰ˆæœ¬å‘å¸ƒã€‚Google Research Blog ä¹Ÿäºæ˜¨å¤©åœ¨ &lt;a href=&quot;https://research.googleblog.com/2017/02/announcing-tensorflow-10.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åšå®¢&lt;/a&gt; ä¸­å…¬å¸ƒäº†è¿™ä¸€æ¶ˆæ¯ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="TensorFlow" scheme="http://yoursite.com/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow ä¸­çš„å·ç§¯ç¥ç»ç½‘ç»œ CNN - æ— TensorBoardç‰ˆ</title>
    <link href="http://yoursite.com/2016/12/28/tensorflow-cnn-no-tensorboard/"/>
    <id>http://yoursite.com/2016/12/28/tensorflow-cnn-no-tensorboard/</id>
    <published>2016-12-28T04:13:13.000Z</published>
    <updated>2017-12-23T07:54:47.445Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://blog.csdn.net/u010099080/article/details/53234227" target="_blank" rel="noopener">å‰é¢</a> æœ‰ç¯‡åšæ–‡è®²äº†å¤šå±‚æ„ŸçŸ¥å™¨ï¼Œä¹Ÿå°±æ˜¯ä¸€èˆ¬çš„å‰é¦ˆç¥ç»ç½‘ç»œï¼Œæ–‡ç« é‡Œä½¿ç”¨ CIFAR10 æ•°æ®é›†å¾—åˆ°çš„æµ‹è¯•å‡†ç¡®ç‡æ˜¯ <strong>46.98%</strong>ã€‚ä»Šå¤©æˆ‘ä»¬ä½¿ç”¨æ›´é€‚åˆå¤„ç†å›¾åƒçš„å·ç§¯ç¥ç»ç½‘ç»œæ¥å¤„ç†ç›¸åŒçš„æ•°æ®é›† - CIFAR10ï¼Œæ¥çœ‹ä¸‹å‡†ç¡®ç‡èƒ½è¾¾åˆ°å¤šå°‘ã€‚</p><p>æœ¬æ–‡ä»£ç åŸºäº <a href="https://www.tensorflow.org/tutorials/deep_cnn/" target="_blank" rel="noopener">TensorFlow çš„å®˜æ–¹æ–‡æ¡£</a> åšäº†äº›è®¸ä¿®æ”¹ï¼Œå®Œæ•´ä»£ç åŠç»“æœå›¾ç‰‡å¯ä» <a href="http://download.csdn.net/download/u010099080/9723302" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ã€‚</p><p><a href="http://blog.csdn.net/u010099080/article/details/62882006" target="_blank" rel="noopener">è¿™ç¯‡</a> æ–‡ç« æ˜¯å¯¹æœ¬æ–‡çš„ä¸€ä¸ªå‡çº§ï¼Œå¢åŠ äº† TensorBoard çš„å®ç°ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹å¯è§†åŒ–ç»“æœï¼ŒåŒ…æ‹¬å‡†ç¡®ç‡ã€æŸå¤±ã€è®¡ç®—å›¾ã€è®­ç»ƒæ—¶é—´å’Œå†…å­˜ä¿¡æ¯ç­‰ã€‚</p><a id="more"></a><hr><h1 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h1><p>è¿™é‡Œæˆ‘ä¼šåˆ—å‡ºå¯¹æœ¬æ–‡çš„æ›´æ–°ã€‚</p><ul><li>2017å¹´3æœˆ17æ—¥ï¼šå¢åŠ å®ç° TensorBoard çš„æ–‡ç« çš„é“¾æ¥ã€‚</li></ul><hr><h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><p>å…³äºå·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Networkï¼Œä»¥ä¸‹ç®€ç§° <strong>CNN</strong>ï¼‰ç½‘ä¸Šæœ‰å¾ˆå¤šä¼˜ç§€çš„æ•™ç¨‹ï¼Œæˆ‘åœ¨è¿™é‡Œä¹Ÿä¸å†é‡å¤é€ è½®å­ï¼Œå¼ºçƒˆæ¨è <a href="http://cs231n.github.io/convolutional-networks/" target="_blank" rel="noopener">æ–¯å¦ç¦çš„CS321n</a>ï¼Œè®²çš„å¾ˆå…¨é¢ã€‚</p><p>è¿˜æ˜¯å’Œä»¥å‰ä¸€æ ·ï¼Œæˆ‘åœ¨è¿™é‡Œç®€å•è¯´ä¸‹ CNN çš„åŸç†ã€‚é¦–å…ˆæ¥çœ‹ä¸‹ä¸€ä¸ªå…¸å‹çš„ CNN - LeNet5 çš„ç»“æ„å›¾ï¼Œ</p><p><img src="http://img.blog.csdn.net/20161228111539022?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>è¿™ä¸ª CNN æ˜¯ Yann LeCun åœ¨ 1998 å¹´å‘è¡¨çš„è®ºæ–‡ <a href="http://vision.stanford.edu/cs598_spring07/papers/Lecun98.pdf" target="_blank" rel="noopener">Gradient-Based Learning Applied to Document Recognition</a> ä¸­æ‰€æå‡ºçš„ï¼Œç”¨äºå­—ç¬¦è¯†åˆ«ã€‚å¦‚ä¸Šå›¾ï¼Œæ¨¡å‹è¾“å…¥æ˜¯ä¸€ä¸ªå­—ç¬¦å›¾åƒï¼Œç„¶åå¯¹è¾“å…¥è¿›è¡Œå·ç§¯æ“ä½œï¼ˆçŸ©é˜µç‚¹ä¹˜æ±‚å’Œï¼‰å¾—åˆ° <code>C1</code> <strong>å·ç§¯å±‚</strong>ï¼Œå†è¿›è¡Œä¸‹é‡‡æ ·æ“ä½œï¼ˆç¼©å‡ç»´åº¦ï¼‰å¾—åˆ° <code>S2</code> <strong>æ± åŒ–å±‚</strong>æˆ–è€…å«ä¸‹é‡‡æ ·å±‚ï¼Œç„¶åé‡å¤ä¸€éåˆšæ‰çš„æ“ä½œï¼Œå°†äºŒç»´æ•°æ® <em>æ‹‰å¹³</em>ï¼Œè¿ç€ä¸€ä¸ªå¤šå±‚çš„æ™®é€šç¥é‡‘ç½‘ç»œï¼Œæœ€ç»ˆå¾—åˆ°è¾“å‡ºã€‚è®­ç»ƒè¿™ä¸ªæ¨¡å‹çš„æ–¹æ³•è¿˜æ˜¯æ¢¯åº¦ä¸‹é™æ³•ï¼Œæˆ–è€…å…¶å˜ç§ã€‚</p><hr><h1 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h1><p>æ•°æ®é›†ä»ç„¶é‡‡ç”¨ CIFAR10ï¼ŒåŒ…å« <strong>60000</strong> å¼  <strong>32Ã—32</strong> çš„å½©è‰²RGBå›¾åƒï¼Œå…±æœ‰ <strong>10</strong> ç±»ï¼Œæ¯ç±»æœ‰ <strong>6000</strong> å¼ å›¾åƒã€‚å®Œæ•´æ•°æ®é›†å¯ä»¥ä» <a href="https://www.cs.toronto.edu/~kriz/cifar.html" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ï¼Œæ³¨æ„é€‰æ‹© Python ç‰ˆæœ¬ï¼Œå¤§æ¦‚æ˜¯ 163 MBã€‚</p><p>ä¸‹è½½å¥½åè§£å‹ä¼šçœ‹åˆ°æœ‰ 5 ä¸ªè®­ç»ƒæ–‡ä»¶å’Œ 1 ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€ä¸ªè¯´æ˜æ–‡ä»¶ <code>batches.meta</code>ï¼Œè¿™ä¸ªæ–‡ä»¶è¯´æ˜äº†æ¯ä¸ªæ•°å­—ç±»åˆ«ï¼ˆ0-9ï¼‰å…·ä½“ä»£è¡¨å“ªäº›ç±»åˆ«ã€‚è¿™å‡ ä¸ªæ–‡ä»¶éƒ½æ˜¯ç”¨ <code>cPickle</code> æ‰“åŒ…å¥½çš„ï¼Œæ‰€ä»¥è½½å…¥æ•°æ®ä¹Ÿè¦ç”¨ <code>cPickle</code> æ¥è½½å…¥ã€‚æ³¨æ„ <code>Python2</code> å’Œ <code>Python3</code> çš„è½½å…¥æ–¹å¼ç¨å¾®æœ‰äº›ä¸åŒï¼Œå…·ä½“è§ä»£ç ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ <code>Python3</code>ã€‚</p><p>ç›®å‰åœ¨æ­¤æ•°æ®é›†ä¸Šåšçš„å®éªŒåœ¨æ²¡æœ‰æ•°æ®å¢åŠ çš„æƒ…å†µä¸‹æœ€ä½çš„é”™è¯¯ç‡æ˜¯ 18%ï¼Œæ•°æ®å¢åŠ çš„æƒ…å†µä¸‹æœ€ä½çš„é”™è¯¯ç‡æ˜¯ 11%ï¼Œéƒ½æ˜¯é‡‡ç”¨çš„å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰çš„ç»“æ„ã€‚</p><p>æ•°æ®é›†ä¸­çš„å›¾åƒå’Œåˆ†ç±»å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="http://i.imgur.com/Rzsw6mo.png" alt=""></p><hr><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><p>ç”±äºå®Œæ•´ä»£ç è¾ƒé•¿ï¼Œè¿™é‡Œä»…åˆ—å‡ºå…³é”®ä»£ç ï¼Œä¾¿äºç†è§£æ•´ä¸ªæ¨¡å‹ï¼Œå®Œæ•´ä»£ç å¯ä» <a href="http://download.csdn.net/download/u010099080/9723302" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.device(<span class="string">'/cpu:0'</span>):</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ¨¡å‹å‚æ•°</span></span><br><span class="line">    learning_rate = <span class="number">1e-3</span></span><br><span class="line">    training_iters = <span class="number">500</span></span><br><span class="line">    batch_size = <span class="number">50</span></span><br><span class="line">    display_step = <span class="number">5</span></span><br><span class="line">    n_features = <span class="number">3072</span>  <span class="comment"># 32*32*3</span></span><br><span class="line">    n_classes = <span class="number">10</span></span><br><span class="line">    n_fc1 = <span class="number">384</span></span><br><span class="line">    n_fc2 = <span class="number">192</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ„å»ºæ¨¡å‹</span></span><br><span class="line">    x = tf.placeholder(tf.float32, [<span class="keyword">None</span>, n_features])</span><br><span class="line">    y = tf.placeholder(tf.float32, [<span class="keyword">None</span>, n_classes])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    w = &#123;</span><br><span class="line">        <span class="string">'conv1'</span>: tf.Variable(tf.truncated_normal([<span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">64</span>], stddev=<span class="number">5e-2</span>)),</span><br><span class="line">        <span class="string">'conv2'</span>: tf.Variable(tf.truncated_normal([<span class="number">5</span>, <span class="number">5</span>, <span class="number">64</span>, <span class="number">64</span>], stddev=<span class="number">0.1</span>)),</span><br><span class="line">        <span class="string">'fc1'</span>: tf.Variable(tf.truncated_normal([<span class="number">8</span>*<span class="number">8</span>*<span class="number">64</span>, n_fc1], stddev=<span class="number">0.04</span>)),</span><br><span class="line">        <span class="string">'fc2'</span>: tf.Variable(tf.truncated_normal([n_fc1, n_fc2], stddev=<span class="number">0.1</span>)),</span><br><span class="line">        <span class="string">'fc3'</span>: tf.Variable(tf.truncated_normal([n_fc2, n_classes], stddev=<span class="number">1</span>/<span class="number">192.0</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    b = &#123;</span><br><span class="line">        <span class="string">'conv1'</span>: tf.Variable(tf.constant(<span class="number">0.0</span>, dtype=tf.float32, shape=[<span class="number">64</span>])),</span><br><span class="line">        <span class="string">'conv2'</span>: tf.Variable(tf.constant(<span class="number">0.1</span>, dtype=tf.float32, shape=[<span class="number">64</span>])),</span><br><span class="line">        <span class="string">'fc1'</span>: tf.Variable(tf.constant(<span class="number">0.1</span>, dtype=tf.float32, shape=[n_fc1])),</span><br><span class="line">        <span class="string">'fc2'</span>: tf.Variable(tf.constant(<span class="number">0.1</span>, dtype=tf.float32, shape=[n_fc2])),</span><br><span class="line">        <span class="string">'fc3'</span>: tf.Variable(tf.constant(<span class="number">0.0</span>, dtype=tf.float32, shape=[n_classes]))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    x4d = tf.reshape(x, [<span class="number">-1</span>, <span class="number">32</span>, <span class="number">32</span>, <span class="number">3</span>])</span><br><span class="line">    <span class="comment"># å·ç§¯å±‚ 1</span></span><br><span class="line">    conv1 = tf.nn.conv2d(x4d, w[<span class="string">'conv1'</span>], strides=[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], padding=<span class="string">'SAME'</span>)</span><br><span class="line">    conv1 = tf.nn.bias_add(conv1, b[<span class="string">'conv1'</span>])</span><br><span class="line">    conv1 = tf.nn.relu(conv1)</span><br><span class="line">    <span class="comment"># æ± åŒ–å±‚ 1</span></span><br><span class="line">    pool1 = tf.nn.max_pool(conv1, ksize=[<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>], strides=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>], padding=<span class="string">'SAME'</span>)</span><br><span class="line">    <span class="comment"># LRNå±‚ï¼ŒLocal Response Normalization</span></span><br><span class="line">    norm1 = tf.nn.lrn(pool1, <span class="number">4</span>, bias=<span class="number">1.0</span>, alpha=<span class="number">0.001</span>/<span class="number">9.0</span>, beta=<span class="number">0.75</span>)</span><br><span class="line">    <span class="comment"># å·ç§¯å±‚ 2</span></span><br><span class="line">    conv2 = tf.nn.conv2d(norm1, w[<span class="string">'conv2'</span>], strides=[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], padding=<span class="string">'SAME'</span>)</span><br><span class="line">    conv2 = tf.nn.bias_add(conv2, b[<span class="string">'conv2'</span>])</span><br><span class="line">    conv2 = tf.nn.relu(conv2)</span><br><span class="line">    <span class="comment"># LRNå±‚ï¼ŒLocal Response Normalization</span></span><br><span class="line">    norm2 = tf.nn.lrn(conv2, <span class="number">4</span>, bias=<span class="number">1.0</span>, alpha=<span class="number">0.001</span>/<span class="number">9.0</span>, beta=<span class="number">0.75</span>)</span><br><span class="line">    <span class="comment"># æ± åŒ–å±‚ 2</span></span><br><span class="line">    pool2 = tf.nn.max_pool(norm2, ksize=[<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>], strides=[<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>], padding=<span class="string">'SAME'</span>)</span><br><span class="line">    reshape = tf.reshape(pool2, [<span class="number">-1</span>, <span class="number">8</span>*<span class="number">8</span>*<span class="number">64</span>])</span><br><span class="line">    dim = reshape.get_shape()[<span class="number">1</span>].value</span><br><span class="line">    fc1 = tf.add(tf.matmul(reshape, w[<span class="string">'fc1'</span>]), b[<span class="string">'fc1'</span>])</span><br><span class="line">    fc1 = tf.nn.relu(fc1)</span><br><span class="line">    <span class="comment"># å…¨è¿æ¥å±‚ 2</span></span><br><span class="line">    fc2 = tf.add(tf.matmul(fc1, w[<span class="string">'fc2'</span>]), b[<span class="string">'fc2'</span>])</span><br><span class="line">    fc2 = tf.nn.relu(fc2)</span><br><span class="line">    <span class="comment"># å…¨è¿æ¥å±‚ 3, å³åˆ†ç±»å±‚</span></span><br><span class="line">    fc3 = tf.add(tf.matmul(fc2, w[<span class="string">'fc3'</span>]), b[<span class="string">'fc3'</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä¹‰æŸå¤±</span></span><br><span class="line">    cost = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(fc3, y))</span><br><span class="line">    optimizer = tf.train.AdamOptimizer(learning_rate=learning_rate).minimize(cost)</span><br><span class="line">    <span class="comment"># è¯„ä¼°æ¨¡å‹</span></span><br><span class="line">    correct_pred = tf.equal(tf.argmax(fc3, <span class="number">1</span>), tf.argmax(y, <span class="number">1</span>))</span><br><span class="line">    accuracy = tf.reduce_mean(tf.cast(correct_pred, tf.float32))</span><br><span class="line"></span><br><span class="line">    init = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run(init)</span><br><span class="line">    c = []</span><br><span class="line">    total_batch = int(X_train.shape[<span class="number">0</span>] / batch_size)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(training_iters):</span><br><span class="line">        avg_cost = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> batch <span class="keyword">in</span> range(total_batch):</span><br><span class="line">            batch_x = X_train[batch*batch_size : (batch+<span class="number">1</span>)*batch_size, :]</span><br><span class="line">            batch_y = y_train[batch*batch_size : (batch+<span class="number">1</span>)*batch_size, :]</span><br><span class="line">            _, co = sess.run([optimizer, cost], feed_dict=&#123;x: batch_x, y: batch_y&#125;)</span><br><span class="line">            avg_cost += co</span><br><span class="line">    </span><br><span class="line">        c.append(avg_cost)</span><br><span class="line">        <span class="keyword">if</span> (i+<span class="number">1</span>) % display_step == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">"Iter "</span> + str(i+<span class="number">1</span>) + <span class="string">", Training Loss= "</span> + <span class="string">"&#123;:.6f&#125;"</span>.format(avg_cost))</span><br><span class="line">    </span><br><span class="line">    print(<span class="string">"Optimization Finished!"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Test</span></span><br><span class="line">    test_acc = sess.run(accuracy, feed_dict=&#123;x: X_test, y: y_test&#125;)</span><br><span class="line">    print(<span class="string">"Testing Accuracy:"</span>, test_acc)</span><br></pre></td></tr></table></figure></p><hr><h1 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h1><p><img src="http://img.blog.csdn.net/20161228121428562?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>å…¶ä¸­çš„ç¼©å†™ä»ç„¶éµç…§æˆ‘ä»¥å‰åšæ–‡çš„ä¹ æƒ¯ï¼š</p><ul><li>lrï¼šlearning rateï¼Œå­¦ä¹ ç‡</li><li>tiï¼štraining itersï¼Œè®­ç»ƒè¿­ä»£æ¬¡æ•°</li><li>bsï¼šbatch sizeï¼Œbatchå¤§å°</li><li>accï¼šæµ‹è¯•å‡†ç¡®ç‡</li></ul><p>æ¯æ¬¡ç»“æœéƒ½ä¼šä¸ä¸€æ ·ï¼Œä¸Šå›¾æ˜¯æœ€å¥½çš„ç»“æœçš„æ—¶å€™ï¼Œå…¶ä»–ç»“æœå›¾çš„ä¸‹è½½é“¾æ¥å’Œä¸Šé¢ä¸€æ ·ï¼Œæµ‹è¯•å‡†ç¡®ç‡å¤§çº¦ä¸º 60%ï¼Œå…¶å®è¿™ä¸ªå‡†ç¡®ç‡å¹¶ä¸é«˜ï¼Œå’Œ <a href="https://www.tensorflow.org/tutorials/deep_cnn/" target="_blank" rel="noopener">TensorFlow çš„å®˜æ–¹æ–‡æ¡£</a> æ‰€å¾—åˆ°çš„ 86% è¿˜å·®ä¸€æ®µè·ç¦»ï¼Œå’Œå®˜æ–¹æ–‡æ¡£çš„å·®è·åœ¨äºæˆ‘å¹¶æ²¡æœ‰å¯¹æ•°æ®è¿›è¡Œæ›´å¤šçš„é¢„å¤„ç†ï¼Œä¾‹å¦‚å›¾åƒè£å‰ªåˆ° 24Ã—24 çš„å°ºå¯¸ã€æ ‡å‡†åŒ–ã€éšæœºå·¦å³ç¿»è½¬å›¾åƒæˆ–è€…éšæœºæ”¹å˜å›¾åƒäº®åº¦å’Œå¯¹æ¯”åº¦ä»¥æ‰©å¤§æ•°æ®é›†ç­‰ç­‰ï¼Œç­‰æœ‰æ—¶é—´å†è¿›è¡Œè¿›ä¸€æ­¥çš„å®éªŒï¼Œä¸æœ¬æ¬¡å®éªŒè¿›è¡Œå¯¹æ¯”ã€‚</p><p><em>åœ¨å…¶ä»–æ¡ä»¶ä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œæœ¬æ¬¡å®éªŒå¾—åˆ°çš„å‡†ç¡®ç‡å¯èƒ½å¹¶ä¸æ˜¯æœ€é«˜çš„ï¼Œé‰´äºæœºå™¨å¤ªåƒåœ¾ï¼Œè¿è¡Œä¸€æ¬¡å®éªŒéœ€è¦ä¸¤ä¸‰å¤©ï¼Œæœªèƒ½è¿›è¡Œæ›´å¤šçš„æµ‹è¯•ã€‚</em></p><hr><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/53234227&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å‰é¢&lt;/a&gt; æœ‰ç¯‡åšæ–‡è®²äº†å¤šå±‚æ„ŸçŸ¥å™¨ï¼Œä¹Ÿå°±æ˜¯ä¸€èˆ¬çš„å‰é¦ˆç¥ç»ç½‘ç»œï¼Œæ–‡ç« é‡Œä½¿ç”¨ CIFAR10 æ•°æ®é›†å¾—åˆ°çš„æµ‹è¯•å‡†ç¡®ç‡æ˜¯ &lt;strong&gt;46.98%&lt;/strong&gt;ã€‚ä»Šå¤©æˆ‘ä»¬ä½¿ç”¨æ›´é€‚åˆå¤„ç†å›¾åƒçš„å·ç§¯ç¥ç»ç½‘ç»œæ¥å¤„ç†ç›¸åŒçš„æ•°æ®é›† - CIFAR10ï¼Œæ¥çœ‹ä¸‹å‡†ç¡®ç‡èƒ½è¾¾åˆ°å¤šå°‘ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä»£ç åŸºäº &lt;a href=&quot;https://www.tensorflow.org/tutorials/deep_cnn/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;TensorFlow çš„å®˜æ–¹æ–‡æ¡£&lt;/a&gt; åšäº†äº›è®¸ä¿®æ”¹ï¼Œå®Œæ•´ä»£ç åŠç»“æœå›¾ç‰‡å¯ä» &lt;a href=&quot;http://download.csdn.net/download/u010099080/9723302&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é‡Œ&lt;/a&gt; ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/62882006&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™ç¯‡&lt;/a&gt; æ–‡ç« æ˜¯å¯¹æœ¬æ–‡çš„ä¸€ä¸ªå‡çº§ï¼Œå¢åŠ äº† TensorBoard çš„å®ç°ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹å¯è§†åŒ–ç»“æœï¼ŒåŒ…æ‹¬å‡†ç¡®ç‡ã€æŸå¤±ã€è®¡ç®—å›¾ã€è®­ç»ƒæ—¶é—´å’Œå†…å­˜ä¿¡æ¯ç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="http://yoursite.com/tags/Python/"/>
    
      <category term="Machine Learning" scheme="http://yoursite.com/tags/Machine-Learning/"/>
    
      <category term="TensorFlow" scheme="http://yoursite.com/tags/TensorFlow/"/>
    
  </entry>
  
</feed>
