<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Alan Lee Space Station</title>
  
  <subtitle>Always Learning</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://secsilm.github.io/"/>
  <updated>2018-04-29T05:48:47.762Z</updated>
  <id>https://secsilm.github.io/</id>
  
  <author>
    <name>Alan Lee</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2017 Python é—®å·è°ƒæŸ¥ç»“æœåˆæ­¥åˆ†æ</title>
    <link href="https://secsilm.github.io/2018/04/28/analyzing-python-survey-2017/"/>
    <id>https://secsilm.github.io/2018/04/28/analyzing-python-survey-2017/</id>
    <published>2018-04-28T07:37:04.000Z</published>
    <updated>2018-04-29T05:48:47.762Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>2017 å¹´æœ«ï¼ŒPSFï¼ˆPython Software Foundationï¼ŒPython è½¯ä»¶åŸºé‡‘ä¼šï¼‰å’Œ JetBrains ä¸€èµ·è¿›è¡Œäº†ä¸€æ¬¡å…¨çƒèŒƒå›´å†…çš„å…³äº Python ä½¿ç”¨æƒ…å†µçš„é—®å·è°ƒæŸ¥ï¼Œå…±æœ‰æ¥è‡ª 153 ä¸ªå›½å®¶çš„ 9506 åå¼€å‘è€…å‚ä¸äº†è¿™æ¬¡è°ƒæŸ¥ï¼Œ<a href="https://www.jetbrains.com/research/python-developers-survey-2017/" target="_blank" rel="noopener">å®˜æ–¹</a>ä¹Ÿå‘å¸ƒäº†ä¸€ä»½è°ƒæŸ¥æŠ¥å‘Šåˆ†æã€‚</p><p>è¿™æ¬¡æˆ‘ä»æˆ‘è‡ªå·±æ„Ÿå…´è¶£çš„è§’åº¦æ¥å°è¯•åšä¸€äº›ç®€å•çš„åˆ†æï¼Œä¹Ÿæ˜¯ä¸€æ¬¡ç»ƒæ‰‹ã€‚è¿™ä¸ªè¿‡ç¨‹æ–­æ–­ç»­ç»­æŒç»­äº†å¾ˆé•¿æ—¶é—´ï¼Œä¸­é—´ä¹Ÿæ˜¯è¢«ç§ç§äº‹æƒ…æ‰“æ–­ï¼Œç°åœ¨ç»ˆäºåŸºæœ¬å®Œæˆäº†ï¼Œç„¶è€Œè¿˜æœ‰å¾ˆå¤šä¸œè¥¿å¯ä»¥åˆ†æï¼Œç­‰ä»¥åæœ‰æ—¶é—´äº†å†æ¥æ¥ç€åˆ†æã€‚</p><p>æˆ‘ä¸ªäººè®¤ä¸ºè°ƒæŸ¥æŠ¥å‘Šçš„åˆ†æä¸»è¦æœ‰ä¸¤ç‚¹ï¼š</p><ul><li>éªŒè¯ä¸€äº›å¸¸ç†</li><li>å‘ç°ä¸€äº›ç°è±¡</li></ul><p>æœ¬æ–‡åŸºæœ¬åªåšåˆ°äº†å‰è€…ï¼Œè€Œä¸”ä¾§é‡äºç›´æ¥å±•ç°åˆ†æç»“æœï¼ˆå¤§å¤šæ•°ä¸ºå›¾ï¼‰ï¼Œå…·ä½“çš„ä»£ç å®ç°è§ <a href="https://nbviewer.jupyter.org/github/secsilm/analyzing-python-survey-2017/blob/master/analyzing-python-survey-2017.ipynb" target="_blank" rel="noopener">analyzing-python-survey-2017.ipynb</a>ï¼ŒGitHub ä¸Šçš„å†…å®¹è§ <a href="https://github.com/secsilm/analyzing-python-survey-2017" target="_blank" rel="noopener">secsilm/analyzing-python-survey-2017</a>ï¼ŒåŒ…æ‹¬é—®å·è°ƒæŸ¥çš„å†…å®¹ï¼ˆPDFï¼‰å’Œè°ƒæŸ¥ç»“æœåŸå§‹æ•°æ®ï¼ˆCSVï¼‰ã€‚</p><h2 id="æ•°æ®"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h2><p>æˆ‘è®¤ä¸ºæ‹¿åˆ°æ•°æ®çš„ç¬¬ä¸€æ­¥å°±æ˜¯å…ˆçœ‹ä¸‹æ•°æ®é•¿ä»€ä¹ˆæ ·ï¼Œè¿™æ ·æ‰èƒ½ç€æ‰‹åˆ†æã€‚å…ˆæ¥çœ‹ä¸‹æˆ‘ä»¬çš„è°ƒæŸ¥ç»“æœæ•°æ®ï¼š</p><p><img src="https://i.imgur.com/MBIZmzA.png" alt=""></p><p>æ•°æ®æ€»å¤§å°æ˜¯ 9506Ã—162ï¼Œå³ 9506 è¡Œ 162 åˆ—ï¼Œä¸Šå›¾æ˜¯å‰ 5 è¡Œï¼Œæ¯è¡Œä»£è¡¨ä¸€ä¸ªæ ·æœ¬ï¼Œå³ä¸€ä¸ªå‚ä¸è°ƒæŸ¥çš„å¼€å‘è€…ã€‚å¯ä»¥çœ‹åˆ°å·²ç»å°†ä¸€é“é€‰æ‹©é¢˜çš„ç­”æ¡ˆæ‹†åˆ†æˆå¤šåˆ—ï¼Œè¿™ä¸€èˆ¬æ˜¯ç”¨äºå¤„ç†å¤šé€‰é¢˜ï¼Œä¾‹å¦‚ä¸Šå›¾ä¸­çš„ã€ŒWhat other language(s) do you use?ã€ï¼Œè€Œå•é€‰é¢˜åˆ™ä¸ç”¨æ‹†åˆ†ï¼Œå¯ä»¥ç›´æ¥å†™ç­”æ¡ˆï¼Œä¾‹å¦‚ä¸Šå›¾ç¬¬ä¸€åˆ—ã€‚</p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>åˆ†æå‰ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆæå‡ºä¸€äº›é—®é¢˜ï¼ŒåŸºäºè¿™äº›é—®é¢˜æ¥ä½œåˆ†æã€‚æœ¬æ–‡æå‡ºäº†ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p><ul><li>å¼€å‘è€…ä¸­ä½¿ç”¨ Python 2 å’Œ Python 3 çš„æƒ…å†µ</li><li>åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººä¸­åˆ†åˆ«æœ‰å¤šå°‘äººä½¿ç”¨çš„æ˜¯ Python 3ï¼Ÿ</li><li>å¸¸ç”¨æ¡†æ¶ä¸­ä½¿ç”¨ Python 2 å’Œ Python 3 çš„æ¯”ä¾‹</li><li>åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººå¸¸ç”¨çš„æ¡†æ¶ï¼Ÿ</li><li>å›¢é˜Ÿè§„æ¨¡å¤§å°å’Œæ˜¯å¦ä½¿ç”¨ Python 3 çš„å…³ç³»ï¼Ÿ</li><li>å¼€å‘è€…å¹´é¾„å’Œæ˜¯å¦ä½¿ç”¨ Python 3 çš„å…³ç³»ï¼Ÿ</li><li>ä½¿ç”¨ Python 3 å’Œ Python 2 çš„å¼€å‘è€…çš„å›½åˆ«åˆ†å¸ƒï¼Ÿ</li></ul><p>ä¸‹é¢æˆ‘ä»¬ä¾æ¬¡çœ‹ä¸‹è¿™å‡ ä¸ªé—®é¢˜ã€‚</p><h2 id="å¼€å‘è€…ä¸­ä½¿ç”¨-Python-2-å’Œ-Python-3-çš„æƒ…å†µ"><a href="#å¼€å‘è€…ä¸­ä½¿ç”¨-Python-2-å’Œ-Python-3-çš„æƒ…å†µ" class="headerlink" title="å¼€å‘è€…ä¸­ä½¿ç”¨ Python 2 å’Œ Python 3 çš„æƒ…å†µ"></a>å¼€å‘è€…ä¸­ä½¿ç”¨ Python 2 å’Œ Python 3 çš„æƒ…å†µ</h2><p>è¿™ä¸ªé—®é¢˜æ¯”è¾ƒå¥½è§£å†³ï¼Œè°ƒæŸ¥é—®å·ä¸­çš„é—®é¢˜ 5 æ˜¯ã€ŒWhich version of Python do you use the most?ã€ï¼Œè€Œä¸”æ˜¯å•é€‰é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç›´æ¥é‚£ä¹ˆå¯¹è¿™åˆ—ä½¿ç”¨ <code>value_counts()</code> è¿›è¡Œå¤„ç†ï¼Œç„¶åä½¿ç”¨ <code>plt.pie()</code> ç»˜åˆ¶é¥¼å›¾ï¼š</p><p><img src="https://i.imgur.com/VmC9haP.png" alt="python version"></p><p>å¯ä»¥çœ‹åˆ° Python å¼€å‘è€…ä¸­å·²ç»æœ‰ $\frac{3}{4}$ çš„äººåœ¨ä½¿ç”¨ Python 3 äº†ã€‚</p><blockquote><p>Noteï¼š2020 å¹´ Python 2 å°±ä¼šåœæ­¢ç»´æŠ¤ï¼Œå¦‚æœä½ è¿˜åœ¨çº ç»“ä½¿ç”¨ Python 2 è¿˜æ˜¯ Python 3ï¼Œæ¯‹åº¸ç½®ç–‘ Python 3ï¼</p></blockquote><h2 id="åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººä¸­åˆ†åˆ«æœ‰å¤šå°‘äººä½¿ç”¨çš„æ˜¯-Python-3"><a href="#åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººä¸­åˆ†åˆ«æœ‰å¤šå°‘äººä½¿ç”¨çš„æ˜¯-Python-3" class="headerlink" title="åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººä¸­åˆ†åˆ«æœ‰å¤šå°‘äººä½¿ç”¨çš„æ˜¯ Python 3"></a>åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººä¸­åˆ†åˆ«æœ‰å¤šå°‘äººä½¿ç”¨çš„æ˜¯ Python 3</h2><p>è°ƒæŸ¥é—®å·ä¸­é—®é¢˜ 4 æ˜¯ã€ŒWhat do you use Python for the most?ã€ï¼Œè¿™æ˜¯ä¸€é“å•é€‰é¢˜ï¼Œé€‰é¡¹ä¸­æœ‰ã€ŒData analysisã€å’Œã€ŒMachine learningã€ä¸¤é¡¹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†è¿™åˆ—ä¸ã€ŒWhich version of Python do you use the most?ã€åˆ—è¿›è¡Œäº¤å‰ï¼Œå°±å¯ä»¥å¾—åˆ°æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ ä¸­ä½¿ç”¨ Python 3 çš„æ¯”ä¾‹ï¼Œè€Œäº¤å‰å¯ä»¥ä½¿ç”¨ <code>pd.crosstab()</code> æ¥åšï¼Œç„¶åç»˜åˆ¶å‡ºæ¡å½¢å›¾ï¼š</p><p><img src="https://i.imgur.com/xq8WUst.png" alt="data analysis and machine learning VS python version"></p><p>å¯ä»¥çœ‹åˆ°å…¶å®ç›¸å·®æ— å‡ ï¼ŒPython 3 ä¼¼ä¹åœ¨æœºå™¨å­¦ä¹ ä¸­æ›´ä¸ºæµè¡Œã€‚æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ ä¸­æ¶‰åŠåˆ°çš„å­—ç¬¦ä¸²å¤„ç†æ¯”è¾ƒå¤šï¼Œè€Œ Python 3 åœ¨è¿™æ–¹é¢æ˜¾ç„¶æ›´å…·æœ‰ä¼˜åŠ¿ã€‚</p><p>æœºå™¨å­¦ä¹ å°¤å…¶æ˜¯æ·±åº¦å­¦ä¹ ä¸­æœ€å¸¸ç”¨çš„åº“å°±æ˜¯ <a href="https://www.tensorflow.org/" target="_blank" rel="noopener">TensorFlow</a> äº†ï¼Œä½†æ˜¯è¿™ä¸ªåº“å®˜æ–¹åªæ”¯æŒ Python 3ï¼Œå¯ä»¥è¯´è¿™ä¹Ÿæ˜¯æœºå™¨å­¦ä¹ ä¸­ Python 3 çš„æ¯”ä¾‹ç•¥å¾®é«˜äºæ•°æ®åˆ†æçš„ä¸€ä¸ªåŸå› ã€‚</p><h2 id="å¸¸ç”¨æ¡†æ¶ä¸­ä½¿ç”¨-Python-2-å’Œ-Python-3-çš„æ¯”ä¾‹"><a href="#å¸¸ç”¨æ¡†æ¶ä¸­ä½¿ç”¨-Python-2-å’Œ-Python-3-çš„æ¯”ä¾‹" class="headerlink" title="å¸¸ç”¨æ¡†æ¶ä¸­ä½¿ç”¨ Python 2 å’Œ Python 3 çš„æ¯”ä¾‹"></a>å¸¸ç”¨æ¡†æ¶ä¸­ä½¿ç”¨ Python 2 å’Œ Python 3 çš„æ¯”ä¾‹</h2><p>å¦‚æœæˆ‘ä»¬å°†å¼€å‘è€…å¸¸ç”¨çš„æ¡†æ¶ï¼ˆåº“ï¼‰ä¸æ‰€ä½¿ç”¨çš„ Python ç‰ˆæœ¬è¿›è¡Œäº¤å‰ï¼Œé‚£ä¹ˆå°†å¾—åˆ°å„æ¡†æ¶ä¸­çš„ Python 2 å’Œ Python 3 ä½¿ç”¨æƒ…å†µã€‚</p><p>åœ¨è¿™ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹æ¡†æ¶ä½¿ç”¨æ’è¡Œï¼ˆJust for curious ğŸ˜†ï¼‰ï¼š</p><p><img src="https://i.imgur.com/YvMez30.png" alt="frameworks"></p><p>ç»Ÿæ²» Python çš„ä¸¤å¤§é˜µè¥ï¼ˆWeb å¼€å‘å’Œæ•°æ®ç§‘å­¦ï¼‰çš„æ¡†æ¶æœç„¶å æ®äº†å‰ä¸¤å ğŸ‘</p><p>å¥½äº†å›åˆ°æ­£é¢˜ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸‹å„æ¡†æ¶ä¸­çš„ Python 2 å’Œ Python 3 ä½¿ç”¨æƒ…å†µï¼š</p><p><img src="https://i.imgur.com/nwzwRi3.png" alt="frameworks in python version"></p><p>ä¸Šå›¾æ˜¯æŒ‰ç…§ Python 3 çš„ä½¿ç”¨æ¯”ä¾‹ç”±é«˜åˆ°ä½æ’åºçš„ï¼Œå¯ä»¥çœ‹åˆ°æ’åå‰äº”çš„éƒ½æ˜¯ç½‘ç»œå’Œ UI ç›¸å…³çš„åº“ï¼Œæ’åç¬¬ä¸€çš„ aiohttp Python 2 ä¸ Python 3 çš„æ¯”ä¾‹ç”šè‡³è¾¾åˆ°äº† 1:9 ğŸ™€ ç”±äºæˆ‘æœ¬äººå¯¹è¿™æ–¹é¢ä¸å¤ªäº†è§£ï¼Œå°±ä¸åšè¿‡å¤šè¯„ä»·äº†ï¼Œå¦‚æœ‰æ‡‚å¾—åŒå­¦å¯ä»¥ç•™è¨€è§£é‡Šä¸‹ä¸ºä½•ç½‘ç»œå’Œ UI æ–¹é¢çš„åº“ä¸­ Python 3 çš„å æ¯”å¦‚æ­¤é«˜ã€‚</p><p>ä¸è¿‡æ€»ä½“ä¸Šæ¥è¯´ï¼Œå„å¤§æ¡†æ¶ä¸­ Python 3 çš„ä½¿ç”¨æ¯”ä¾‹éƒ½å·²ç»è¶…è¿‡ç”šè‡³è¿œè¶… Python 2 ğŸ‘</p><h2 id="åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººå¸¸ç”¨çš„æ¡†æ¶"><a href="#åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººå¸¸ç”¨çš„æ¡†æ¶" class="headerlink" title="åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººå¸¸ç”¨çš„æ¡†æ¶"></a>åšæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ çš„äººå¸¸ç”¨çš„æ¡†æ¶</h2><p>æ¥ç€ä¸Šé¢ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¡†æ¶ä½¿ç”¨æƒ…å†µä¸ Python åœ¨æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ æ–¹é¢çš„åº”ç”¨è¿›è¡Œäº¤å‰ï¼Œå¾—åˆ°æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ å¼€å‘è€…æœ€å¸¸ç”¨çš„æ¡†æ¶ï¼š</p><p><img src="https://i.imgur.com/RvW9Yyp.png" alt="frameworks in data analysis and machine learning"></p><p>å¯ä»¥çœ‹åˆ°æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ å¼€å‘è€…æ‰€ç”¨çš„æ¡†æ¶å¤§ä½“ç›¸åŒï¼Œæ•°æ®åˆ†æå¼€å‘è€…äººæ•°è¦å¤šäºæœºå™¨å­¦ä¹ å¼€å‘è€…ï¼Œä½†æ˜¯ç”±äºæœºå™¨å­¦ä¹ å¼€å‘è€…æ›´å¸¸ç”¨ Kerasã€scikit-learn å’Œ TensorFlow ç­‰æ¡†æ¶ï¼Œåè€Œä½¿ç”¨è¿™äº›æ¡†æ¶ä¸Šçš„æœºå™¨å­¦ä¹ å’Œæ•°æ®åˆ†æå¼€å‘è€…äººæ•°åŸºæœ¬ä¸€è‡´ã€‚</p><p>ä¹ä¸€çœ‹è®©æˆ‘æœ‰ç‚¹æ„å¤–çš„æ˜¯ Django å’Œ Flask çš„ä½ç½®ï¼Œç›¸å¯¹æ¥è¯´è¿™ä¸¤ä¸ªç”¨äºæ„å»ºç½‘ç«™çš„æ¡†æ¶æ’åè¿˜æ˜¯å¾ˆé å‰çš„ï¼Œä½†æ˜¯ä»”ç»†ä¸€æƒ³ï¼Œæˆ‘è§è¿‡å¾ˆå¤šæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ å¼€å‘è€…åšä¸€ä¸ªç½‘ç«™æ¥å±•ç¤ºè‡ªå·±çš„ä½œå“ï¼Œè¿™æ ·ä¸€æ¥ä¹Ÿä¸è¶³ä¸ºå¥‡äº†ã€‚åˆæˆ–è€…æ˜¯ Web å¼€å‘è€…å…¼èŒæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ ï¼Ÿç»†æ€ææâ€¦â€¦</p><h2 id="å›¢é˜Ÿè§„æ¨¡å¤§å°å’Œæ˜¯å¦ä½¿ç”¨-Python-3-çš„å…³ç³»"><a href="#å›¢é˜Ÿè§„æ¨¡å¤§å°å’Œæ˜¯å¦ä½¿ç”¨-Python-3-çš„å…³ç³»" class="headerlink" title="å›¢é˜Ÿè§„æ¨¡å¤§å°å’Œæ˜¯å¦ä½¿ç”¨ Python 3 çš„å…³ç³»"></a>å›¢é˜Ÿè§„æ¨¡å¤§å°å’Œæ˜¯å¦ä½¿ç”¨ Python 3 çš„å…³ç³»</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œå›¢é˜Ÿè§„æ¨¡è¶Šå¤§ï¼Œç”± Python 2 è½¬å‹ Python 3 æ‰€èŠ±è´¹çš„ä»£ä»·å°±è¶Šå¤§ï¼Œæ‰€ä»¥å›¢é˜Ÿè§„æ¨¡è¶Šå¤§ä½¿ç”¨ Python 3 çš„æ¯”ä¾‹å¯èƒ½å°±ä¼šè¶Šä½ï¼Œè€Œä¸‹å›¾ä¹Ÿå°è¯äº†è¿™ä¸€ç‚¹ã€‚</p><p><img src="https://i.imgur.com/3Ksk5JQ.png" alt="team scale and python 3"></p><p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰å°†è¿‘ 62% çš„äººæ˜¯ç‹¬ç«‹å¼€å‘æˆ–è€…æ˜¯å¤–éƒ¨é¡¾é—®ï¼ˆexternal consultantï¼‰å’ŒåŸ¹è®­è®²å¸ˆï¼ˆtrainerï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸åœ¨ä¸€ä¸ªå›¢é˜Ÿä¸­è¿›è¡Œå·¥ä½œã€‚ä¸Šå›¾å°±æ˜¯åŸºäºå‰©ä¸‹çš„çº¦ 38% çš„å¼€å‘è€…æ¥ç»˜åˆ¶çš„ã€‚</p><h2 id="å¼€å‘è€…å¹´é¾„å’Œæ˜¯å¦ä½¿ç”¨-Python-3-çš„å…³ç³»"><a href="#å¼€å‘è€…å¹´é¾„å’Œæ˜¯å¦ä½¿ç”¨-Python-3-çš„å…³ç³»" class="headerlink" title="å¼€å‘è€…å¹´é¾„å’Œæ˜¯å¦ä½¿ç”¨ Python 3 çš„å…³ç³»"></a>å¼€å‘è€…å¹´é¾„å’Œæ˜¯å¦ä½¿ç”¨ Python 3 çš„å…³ç³»</h2><p>åŒä¸Šï¼Œè¶Šå¹´è½»ä½¿ç”¨ Python 3 çš„æ¯”ä¾‹å°±è¶Šé«˜ï¼Œæ¯•ç«Ÿå¹´è½»äººã€Œæƒ…æ€€ã€æ¯”è¾ƒå°‘ ğŸ˜†</p><p>BUTï¼Œç‰©æå¿…åï¼Œ60 å²ä»¥ä¸Šçš„å¼€å‘è€…ä½¿ç”¨ Python 3 çš„æ¯”ä¾‹é™¡ç„¶æå‡äº† 10%â€¦â€¦éš¾é“å›å…‰è¿”ç…§ï¼Ÿ</p><p><img src="https://i.imgur.com/HezUSFH.png" alt="age python 3"></p><p>60 å²ä»¥ä¸Šè¿˜åœ¨ coding çš„äººåº”è¯¥ä¸å¤šï¼Œæˆ‘ä»¬æ¥ç»Ÿè®¡ä¸‹æ¯ä¸ªå›½å®¶å†… 60 å²ä»¥ä¸Šçš„å¼€å‘è€…äººæ•°ï¼Œç„¶åæ’åå–å‰ååï¼š</p><p><img src="https://i.imgur.com/fUDmC8a.png" alt="top10"></p><p>å‡ ä¹æ˜¯ç¾å›½ä¸€å®¶ç‹¬å¤§ï¼Œåé¢çš„å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œæ‰€æœ‰ 153 ä¸ªå›½å®¶çš„ 60 å²ä»¥ä¸Šå¼€å‘è€…äººæ•°ä¸º 111ï¼Œè€Œç¾å›½ä¸º 56ï¼Œå åˆ°äº†ä¸€åŠï¼Œè€Œè¿™ 56 ä¸ªäººä¸­æœ‰ 41 ä¸ªäººä½¿ç”¨çš„æ˜¯ Python 3ï¼Œå æ¯”çº¦ä¸º 73%ï¼Œsoï¼Œä¸Šé¢çš„ç–‘é—®ä¹Ÿå°±ä¸æ˜¯ç–‘é—®äº†ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å¼€å‘è€…äººæ•°æœ€å¤šçš„ä¸‰ä¸ªå›½å®¶ï¼ˆç¾å›½ã€å°åº¦å’Œä¸­å›½ï¼‰çš„å¼€å‘è€…å¹´é¾„æ„æˆï¼š</p><p><img src="https://i.imgur.com/0r7bQR3.png" alt="age distribution"></p><p>ç»“åˆå›½å†…ç¨‹åºåœˆçš„æƒ…å†µï¼Œå¤§å®¶éƒ½æƒ³ç€ 30 ä»¥åè¦ä¸è½¬è¦ä¸å‡ï¼Œä¸Šå›¾ä¹Ÿä¸è¶³ä¸ºå¥‡ï¼Œç¾å›½çš„å¹´é¾„åˆ†å¸ƒç›¸å¯¹æ¥è¯´è¦å¥½å¾ˆå¤šã€‚</p><h2 id="ä½¿ç”¨-Python-3-å’Œ-Python-2-çš„å¼€å‘è€…çš„å›½åˆ«åˆ†å¸ƒ"><a href="#ä½¿ç”¨-Python-3-å’Œ-Python-2-çš„å¼€å‘è€…çš„å›½åˆ«åˆ†å¸ƒ" class="headerlink" title="ä½¿ç”¨ Python 3 å’Œ Python 2 çš„å¼€å‘è€…çš„å›½åˆ«åˆ†å¸ƒ"></a>ä½¿ç”¨ Python 3 å’Œ Python 2 çš„å¼€å‘è€…çš„å›½åˆ«åˆ†å¸ƒ</h2><p>é¦–å…ˆæ¥çœ‹ä¸‹æ‰€æœ‰å¼€å‘è€…çš„å›½åˆ«åˆ†å¸ƒï¼š</p><p><img src="https://i.imgur.com/QHllwyy.png" alt="country counts"></p><p>ç¾å›½ã€å°åº¦å’Œä¸­å›½æ’åå‰ä¸‰ï¼Œä¸Šä¸€èŠ‚çš„å¹´é¾„åˆ†å¸ƒå›¾é€‰å–çš„ä¸‰ä¸ªå›½å®¶å°±æ˜¯å°±æ˜¯æ ¹æ®è¿™ä¸ªæ’åå–çš„ã€‚</p><p>å†æ¥çœ‹ä¸‹ä¸Šå›¾æ’åå‰åçš„å›½å®¶ä¸­çš„ Python 2 å’Œ Python 3 çš„ä½¿ç”¨æ¯”ä¾‹ï¼š</p><p><img src="https://i.imgur.com/rXuzRKi.png" alt="country python version"></p><p>å…¶å®ä½¿ç”¨æ¯”ä¾‹æ˜¯å·®ä¸å¤šçš„ï¼Œéƒ½æ˜¯ Python 3 è¿œè¶… Python 2ï¼Œè¿™ä¸€ç‚¹ä¹Ÿå¯ä»¥ç”¨ä¸‹å›¾ä½è¯ï¼š</p><p><img src="https://i.imgur.com/IpKZCq3.png" alt="use-ratio-of-python3-in-the-world"></p><p>æˆ‘ä»¬æœ‰äº†å›½å®¶ä¿¡æ¯ï¼Œé‚£ä¹ˆè‡ªç„¶è€Œç„¶å°±ä¼šæƒ³åˆ°ç›´æ¥åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºæ•°æ®ï¼š</p><p><img src="https://i.imgur.com/TAJV1LT.png" alt="python3-in-the-world"></p><center><i>åœ¨<a href="https://nbviewer.jupyter.org/github/secsilm/analyzing-python-survey-2017/blob/master/analyzing-python-survey-2017.ipynb#%E4%BD%BF%E7%94%A8-Python-3-%E5%92%8C-Python-2-%E7%9A%84%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84%E5%9B%BD%E5%88%AB%E5%88%86%E5%B8%83%EF%BC%9F" target="_blank" rel="noopener">è¿™é‡Œ</a>æŸ¥çœ‹æœ‰æ›´å¥½çš„äº¤äº’å¼ä½“éªŒ</i></center><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¯ä»¥çœ‹åˆ°çš„è¶‹åŠ¿æ˜¯ï¼š</p><ul><li>Python 3 å·²ç»è¢«å¤§å¤šæ•°äººä½¿ç”¨ï¼Œæ— è®ºæ˜¯ Web å¼€å‘è¿˜æ˜¯æ•°æ®ç§‘å­¦ï¼ˆæ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ ï¼‰ï¼Œæ— è®ºæ˜¯ç¾å›½è¿˜æ˜¯ä¸­å›½è¿˜æ˜¯å…¶ä»–å›½å®¶</li><li>Web å¼€å‘å’Œæ•°æ®ç§‘å­¦æ˜¯ Python å¼€å‘çš„ä¸¤å¤§ç»Ÿæ²»è€…</li><li>æ•°æ®åˆ†æå’Œæœºå™¨å­¦ä¹ å¼€å‘è€…ä½¿ç”¨çš„ Python æ¡†æ¶æœ‰å¾ˆå¤§çš„ç›¸ä¼¼æ€§ï¼Œåªæ˜¯åœ¨ TensorFlow ç­‰æœºå™¨å­¦ä¹ æ¡†æ¶ä¸Šçš„ä½¿ç”¨æœ‰ä¸€å®šåŒºåˆ«</li><li>å¹´é¾„å’Œå›¢é˜Ÿè§„æ¨¡å’Œä½¿ç”¨ Python 3 çš„æ¯”ä¾‹æœ‰ä¸€å®šå…³ç³»</li><li>ç¾å›½çš„å¼€å‘è€…å¹´é¾„åˆ†å¸ƒè¦å¥½äºä¸­å›½</li></ul><p>æ€»çš„æ¥è¯´ï¼Œæœ¬æ–‡æ‰€åˆ†æçš„å†…å®¹åªèƒ½è¯´æ˜¯å†°å±±ä¸€è§’ï¼Œè¿˜æœ‰å¤§é‡å†…å®¹å¯ä»¥åˆ†æï¼Œä½†æ˜¯æ—¶é—´ç²¾åŠ›æœ‰é™ï¼Œåç»­å¯èƒ½çš„è¯å†åœ¨æ­¤åŸºç¡€ä¸ŠåŠ ä»¥åˆ†æã€‚</p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;2017 å¹´æœ«ï¼ŒPSFï¼ˆPython Software Foundationï¼ŒPython è½¯ä»¶åŸºé‡‘ä¼šï¼‰å’Œ JetBrains ä¸€èµ·è¿›è¡Œäº†ä¸€
      
    
    </summary>
    
    
      <category term="Python" scheme="https://secsilm.github.io/tags/Python/"/>
    
      <category term="Data Science" scheme="https://secsilm.github.io/tags/Data-Science/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ zipfile è§£å‹å«æœ‰ä¸­æ–‡æ–‡ä»¶åçš„ zip æ–‡ä»¶</title>
    <link href="https://secsilm.github.io/2018/04/05/unzip-chinese/"/>
    <id>https://secsilm.github.io/2018/04/05/unzip-chinese/</id>
    <published>2018-04-05T10:51:23.000Z</published>
    <updated>2018-04-05T14:44:30.882Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>åœ¨ä½¿ç”¨ Python å†…ç½®æ ‡å‡†åº“ <a href="https://docs.python.org/3/library/zipfile.html" target="_blank" rel="noopener">zipfile</a> è§£å‹æ–‡ä»¶æ—¶ï¼Œå¦‚æœå‹ç¼©æ–‡ä»¶ä¸­æœ‰çš„æ–‡ä»¶å«æœ‰ä¸­æ–‡ï¼Œé‚£ä¹ˆè§£å‹åå°±ä¼šå‘ç°æ–‡ä»¶åä¸­çš„ä¸­æ–‡éƒ¨åˆ†æ˜¯ä¹±ç ã€‚ä¾‹å¦‚æˆ‘åˆ†åˆ«æ–°å»ºä¸‰ä¸ª txt æ–‡ä»¶ï¼š<code>æ–‡ä»¶1.txt</code>ï¼Œ<code>æ–‡ä»¶2.txt</code> å’Œ <code>æ–‡ä»¶3.txt</code>ï¼Œç„¶åå°†è¿™ä¸‰ä¸ªæ–‡ä»¶å‹ç¼©åˆ°ä¸€ä¸ªåä¸º <code>æ–‡ä»¶.zip</code> çš„å‹ç¼©æ–‡ä»¶ä¸­ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥è§£å‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> zipfile</span><br><span class="line"><span class="keyword">with</span> zipfile.ZipFile(<span class="string">'æ–‡ä»¶.zip'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.extractall()</span><br></pre></td></tr></table></figure><p>è§£å‹çš„ç»“æœå¦‚å›¾æ‰€ç¤ºï¼Œä¸­æ–‡å·²æˆä¹±ç ï¼š<br><img src="https://i.imgur.com/0Q6cdCe.png" alt="è§£å‹ç»“æœ"></p><h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>åŸå› å¾ˆç®€å•ï¼Œ<code>zipfile</code> ä¼šå°†æ‰€æœ‰æ–‡ä»¶åç”¨ <code>CP437</code> æ¥ç¼–ç ï¼Œå®˜æ–¹è¯´æ˜å¦‚ä¸‹ï¼š</p><blockquote><p>There is no official file name encoding for ZIP files. If you have unicode file names, you must convert them to byte strings in your desired encoding before passing them to write(). WinZip interprets all file names as encoded in CP437, also known as DOS Latin.</p></blockquote><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>çŸ¥é“æ–‡ä»¶åç”¨çš„ç¼–ç åï¼Œå°±å¯ä»¥ä½¿ç”¨å¯¹åº”çš„ç¼–ç æ¥è§£ç äº†ã€‚ä¹Ÿå°±æ˜¯å…ˆç”¨ <code>CP437</code> ç¼–ç  encode æˆ bytesï¼Œå†ä»¥ <code>gbk</code> æ ¼å¼è§£ç æˆä¸­æ–‡ stringã€‚</p><p>æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œä¸¤ç§æ–¹æ¡ˆéƒ½æ˜¯ä½¿ç”¨ <code>extract</code> æ–¹æ³•è€Œä¸æ˜¯ <code>extractall</code>æ–¹æ³•ï¼Œéƒ½æ˜¯å¯¹å‹ç¼©æ–‡ä»¶å†…çš„æ–‡ä»¶åè¿›è¡Œéå†ï¼Œé€ä¸ªè§£å‹ã€‚</p><blockquote><p>Noteï¼šPython ç‰ˆæœ¬ä¸º <code>3.6.4 |Anaconda custom (64-bit)| (default, Jan 16 2018, 10:22:32) [MSC v.1900 64 bit (AMD64)]</code>ã€‚</p></blockquote><h3 id="æ–¹æ¡ˆ-1"><a href="#æ–¹æ¡ˆ-1" class="headerlink" title="æ–¹æ¡ˆ 1"></a>æ–¹æ¡ˆ 1</h3><p>ç¬¬ä¸€ç§æ–¹æ¡ˆçš„æ€è·¯æ˜¯ï¼š</p><ol><li>å°†æ–‡ä»¶åæ­£ç¡®è§£ç ï¼Œå¹¶ç”¨è§£ç åçš„æ–‡ä»¶ååˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ã€‚</li><li>æ‰“å¼€åŸæ–‡ä»¶ï¼Œå³æ–‡ä»¶åä¹±ç çš„æ–‡ä»¶ã€‚</li><li>å°†åŸæ–‡ä»¶ä¸­çš„å†…å®¹å†™å…¥åˆ°æ–°æ–‡ä»¶ä¸­ã€‚</li></ol><p>å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> zipfile</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> zipfile.ZipFile(<span class="string">'æ–‡ä»¶.zip'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> zf:</span><br><span class="line">    <span class="keyword">for</span> fn <span class="keyword">in</span> zf.namelist():</span><br><span class="line">        right_fn = fn.encode(<span class="string">'cp437'</span>).decode(<span class="string">'gbk'</span>)  <span class="comment"># å°†æ–‡ä»¶åæ­£ç¡®ç¼–ç </span></span><br><span class="line">        <span class="keyword">with</span> open(right_fn, <span class="string">'wb'</span>) <span class="keyword">as</span> output_file:  <span class="comment"># åˆ›å»ºå¹¶æ‰“å¼€æ–°æ–‡ä»¶</span></span><br><span class="line">            <span class="keyword">with</span> zf.open(fn, <span class="string">'r'</span>) <span class="keyword">as</span> origin_file:  <span class="comment"># æ‰“å¼€åŸæ–‡ä»¶</span></span><br><span class="line">                shutil.copyfileobj(origin_file, output_file)  <span class="comment"># å°†åŸæ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°æ–°æ–‡ä»¶</span></span><br></pre></td></tr></table></figure><h3 id="æ–¹æ¡ˆ-2"><a href="#æ–¹æ¡ˆ-2" class="headerlink" title="æ–¹æ¡ˆ 2"></a>æ–¹æ¡ˆ 2</h3><p>ç¬¬äºŒç§æ–¹æ¡ˆæ€è·¯å°±æ¯”è¾ƒç®€å•äº†ï¼š</p><ol><li>æ­£å¸¸è§£å‹æ–‡ä»¶ã€‚</li><li>ä½¿ç”¨æ­£ç¡®çš„æ–‡ä»¶åé‡å‘½åè§£å‹çš„æ–‡ä»¶ã€‚</li></ol><p>å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼Œè¿™é‡Œä½¿ç”¨äº† <a href="https://docs.python.org/3/library/pathlib.html" target="_blank" rel="noopener">pathlib</a> åº“ï¼Œå¼ºçƒˆæ¨èè¯¥åº“ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"><span class="keyword">import</span> zipfile</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> zipfile.ZipFile(<span class="string">'æ–‡ä»¶.zip'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> fn <span class="keyword">in</span> f.namelist():</span><br><span class="line">        extracted_path = Path(f.extract(fn))</span><br><span class="line">        extracted_path.rename(fn.encode(<span class="string">'cp437'</span>).decode(<span class="string">'gbk'</span>))</span><br></pre></td></tr></table></figure><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a href=&quot;#é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜&quot;&gt;&lt;/a&gt;é—®é¢˜&lt;/h2&gt;&lt;p&gt;åœ¨ä½¿ç”¨ Python å†…ç½®æ ‡å‡†åº“ &lt;a href=&quot;https://docs.python.org/3/library/zipfile.ht
      
    
    </summary>
    
    
      <category term="Python" scheme="https://secsilm.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>åµŒå…¥ bokeh ç»˜å›¾åˆ° hexo åšå®¢ä¸­</title>
    <link href="https://secsilm.github.io/2018/03/15/embed-bokeh-plot/"/>
    <id>https://secsilm.github.io/2018/03/15/embed-bokeh-plot/</id>
    <published>2018-03-15T07:57:45.000Z</published>
    <updated>2018-03-15T12:12:43.091Z</updated>
    
    <content type="html"><![CDATA[<p><link href="https://cdn.pydata.org/bokeh/release/bokeh-0.12.14.min.css" rel="stylesheet" type="text/css"></p><p><link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.14.min.css" type="text/css"></p><script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-0.12.14.min.js"></script><script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.14.min.js"></script><p><a href="https://bokeh.pydata.org/en/latest/" target="_blank" rel="noopener">Bokeh</a> æ˜¯ä¸€ä¸ª Python äº¤äº’å¼å¯è§†åŒ–åº“ï¼Œä¸»è¦ç”¨äºç»˜åˆ¶é¢å‘æµè§ˆå™¨çš„äº¤äº’å¼å›¾è¡¨ï¼ŒD3.js çš„é£æ ¼ï¼ŒAnaconda å‡ºå“ã€‚å…³æ³¨è¿™ä¸ªåº“å¾ˆä¹…äº†ï¼Œæˆ‘çŸ¥é“çš„ Python ä¸­ç”¨äºåˆ›å»ºè¿™ç§äº¤äº’å¼å›¾è¡¨çš„åº“å¥½ç”¨çš„ä¸æ˜¯å¾ˆå¤šï¼Œè¿˜æœ‰ä¸ª <a href="https://plot.ly/" target="_blank" rel="noopener">plotly</a> ä¹Ÿä¸é”™ï¼ŒåŒæ—¶æ”¯æŒ Python å’Œ Rï¼Œåªä¸è¿‡æ˜¯æ”¶è´¹çš„ï¼Œå…è´¹çš„æœ‰å¾ˆå¤šé™åˆ¶ã€‚</p><p>ä½¿ç”¨ bokeh ä½ å¯ä»¥ç»˜åˆ¶å¾ˆå¤šå…·æœ‰äº¤äº’æ•ˆæœçš„å›¾ï¼Œä¾‹å¦‚ç›´æ¥æ‹–åŠ¨å›¾ã€hover æ•ˆæœã€æ»šè½®ç¼©æ”¾ã€box ç¼©æ”¾ã€æŒ‰é’®å’Œæ»‘å—ç­‰å…¶ä»–ä¸°å¯Œçš„ç»„ä»¶ã€‚è¿™é‡Œæ”¾ä¸€ä¸ªæˆ‘å†™æœ¬æ–‡çš„æ—¶å€™å‘ç°çš„ä»¥ Stephen Hawking ï¼ˆR.I.Pï¼‰çš„è®ºæ–‡å’Œä¹¦ç±æˆå°±æ•°æ®ä¸ºåŸºç¡€ç»˜åˆ¶çš„å›¾ï¼Œè¿™ä¹Ÿæ˜¯ä½¿ç”¨ bokeh ç»˜åˆ¶çš„ï¼Œå®Œæ•´æ–‡ç« å¯è§ <a href="http://michael.szell.net/hawking/" target="_blank" rel="noopener">Stephen Hawking - An interactive history of his career</a>ï¼š</p><p><img src="https://i.imgur.com/VbaGgC1.gif" alt="sh"></p><p>è¯è¯´æ­£é¢˜ï¼Œæœ¬æ–‡çš„ç›®çš„ä¸æ˜¯è®©ä½ å­¦ä¼šæ€ä¹ˆä½¿ç”¨ bokeh ç”»å›¾ï¼Œè€Œæ˜¯å¦‚ä½•æŠŠç”»å¥½çš„å›¾åµŒå…¥åˆ°ç½‘é¡µæˆ–è€…åšå®¢ä¸­ï¼Œä¾‹å¦‚ hexo åšå®¢ã€‚è€Œè¿™ä¸€éƒ¨åˆ†æˆ‘å°†åˆ†ä¸¤éƒ¨åˆ†è¯´ï¼šå¸¦æœ‰ widgets çš„å›¾ï¼ˆ<strong>No Widgets</strong>ï¼‰å’Œä¸å¸¦ widgets çš„å›¾ï¼ˆ<strong>With Widgets</strong>ï¼‰ã€‚è¿™é‡Œè¯´çš„ widgets æŒ‡æŒ‰é’®ã€å¤é€‰æ¡†ã€å•é€‰æ¡†ã€ä¸‹æ‹‰èœå•å’Œæ»‘å—ç­‰å°éƒ¨ä»¶ã€‚å¼•ç”¨ <a href="https://bokeh.pydata.org/en/latest/docs/user_guide/concepts.html" target="_blank" rel="noopener">Bokeh å®˜æ–¹</a>å¯¹ widgets çš„è§£é‡Šï¼š</p><blockquote><p>User interface elements outside of a Bokeh plot such as sliders, drop down menus, buttons, etc. Events and updates from widgets can inform additional computations, or cause Bokeh plots to update. Widgets can be used in both standalone applications or with the Bokeh server. For examples and information, see <a href="https://bokeh.pydata.org/en/latest/docs/user_guide/interaction.html#userguide-interaction" target="_blank" rel="noopener">Adding Interactions</a>.</p></blockquote><p>æ ¹æ® <a href="https://bokeh.pydata.org/en/latest/docs/user_guide/embed.html" target="_blank" rel="noopener">Bokeh å®˜æ–¹</a>çš„æè¿°ï¼Œæˆ‘ä»¬æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥å°†å›¾åµŒå…¥åˆ°ç½‘é¡µä¸­ï¼š</p><ul><li><strong>HTML files</strong></li><li><strong>Components</strong></li><li>Autoload Scripts</li></ul><blockquote><p>Noteï¼š</p><ul><li><a href="https://bokeh.pydata.org/en/latest/docs/user_guide/server.html#userguide-server" target="_blank" rel="noopener">Bokeh Server</a> ä¸åœ¨æ­¤æ–‡è®¨è®ºèŒƒå›´ä¸­ã€‚</li><li>å…³äºå¦‚ä½•ä½¿ç”¨ Bokehï¼Œå¯èƒ½çš„è¯ä»¥åå†å†™ç¯‡æ¥è¯´ã€‚</li></ul></blockquote><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p>å…ˆæ¥çœ‹ä¸‹åµŒå…¥åçš„æ•ˆæœï¼š</p><p>No widgetsï¼š</p><div class="bk-root">    <div class="bk-plotdiv" id="c3e3c5d7-6d0f-4253-aa32-4d4b05636220"></div></div><script type="application/json" id="0c06bc21-28fe-4fcb-ba43-91c7166610c6">    {"0c8888dd-d728-4892-a09c-12106d1d56c8":{"roots":{"references":[{"attributes":{"formatter":{"id":"2e33a094-8602-4d4c-97df-714b0c01c3ba","type":"BasicTickFormatter"},"plot":{"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},"ticker":{"id":"4e280448-750a-46cb-870c-92475291a7db","type":"BasicTicker"}},"id":"8741a13f-2118-4351-9d91-504a45f7fe04","type":"LinearAxis"},{"attributes":{},"id":"2e33a094-8602-4d4c-97df-714b0c01c3ba","type":"BasicTickFormatter"},{"attributes":{},"id":"a398d591-409e-45bd-8152-dbcc472b8636","type":"PanTool"},{"attributes":{},"id":"e0464e1f-a698-4c36-ac8c-8f2c5407a417","type":"WheelZoomTool"},{"attributes":{"formatter":{"id":"50165239-a8a4-4f1a-bd1c-9cb9f945d866","type":"BasicTickFormatter"},"plot":{"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},"ticker":{"id":"c159ca20-b2e9-4e75-9ee1-8ce417051b28","type":"BasicTicker"}},"id":"6aedd8c6-8bc2-48c0-b336-f90cf146a6c3","type":"LinearAxis"},{"attributes":{},"id":"da3e277b-51fd-405f-aa8f-94206ec769a4","type":"BasicTickFormatter"},{"attributes":{"dimension":1,"plot":{"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},"ticker":{"id":"51485646-f97e-46bb-8111-2cff98015aae","type":"BasicTicker"}},"id":"d75cca78-1048-4a3e-ab43-0c0e98df5b36","type":"Grid"},{"attributes":{"source":{"id":"2a31d9c6-d0f0-4d27-882a-06494c043151","type":"ColumnDataSource"}},"id":"868d4f51-2b41-47f2-acf2-f1d160fd0999","type":"CDSView"},{"attributes":{"callback":null},"id":"1ffa00c4-f9c2-4816-a98e-c66beabc4b70","type":"DataRange1d"},{"attributes":{},"id":"b85908c0-106f-49cd-8f4a-83e92d958074","type":"LinearScale"},{"attributes":{},"id":"f484f0c7-d10b-4813-83ee-dd4ac86f610d","type":"WheelZoomTool"},{"attributes":{"below":[{"id":"e15d54ce-0bbe-44f2-9634-c60f9414f4c4","type":"LinearAxis"}],"left":[{"id":"6aedd8c6-8bc2-48c0-b336-f90cf146a6c3","type":"LinearAxis"}],"plot_height":400,"renderers":[{"id":"e15d54ce-0bbe-44f2-9634-c60f9414f4c4","type":"LinearAxis"},{"id":"413b7a2a-58cd-4570-a15b-4774445bc075","type":"Grid"},{"id":"6aedd8c6-8bc2-48c0-b336-f90cf146a6c3","type":"LinearAxis"},{"id":"ced5469e-a711-4588-afca-f1dabd241d07","type":"Grid"},{"id":"481e6e58-04f8-41c1-bdf2-aef7c1fca52f","type":"BoxAnnotation"},{"id":"1db047e9-5900-4f6d-b5a7-d5aff16b4770","type":"GlyphRenderer"}],"title":{"id":"cebf0126-7d05-4538-b776-62af024d3b43","type":"Title"},"toolbar":{"id":"7c64d5aa-6215-4c24-9014-113dfecba9b1","type":"Toolbar"},"x_range":{"id":"da0aa644-9956-41e5-9bf9-151dca8613bc","type":"DataRange1d"},"x_scale":{"id":"f5769855-4441-4181-82d3-14e5e1cbfd66","type":"LinearScale"},"y_range":{"id":"167f9a5d-fa71-4e1b-885f-1625d9f29b1b","type":"DataRange1d"},"y_scale":{"id":"b85908c0-106f-49cd-8f4a-83e92d958074","type":"LinearScale"}},"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"2a31d9c6-d0f0-4d27-882a-06494c043151","type":"ColumnDataSource"},"glyph":{"id":"3556bfe2-bab1-45cc-a066-591cab89b812","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"04f140b8-754a-4261-98cb-26b1ff1f2b06","type":"Line"},"selection_glyph":null,"view":{"id":"868d4f51-2b41-47f2-acf2-f1d160fd0999","type":"CDSView"}},"id":"0b8ad283-579c-4eee-bd94-57f8629d95f9","type":"GlyphRenderer"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"a398d591-409e-45bd-8152-dbcc472b8636","type":"PanTool"},{"id":"e0464e1f-a698-4c36-ac8c-8f2c5407a417","type":"WheelZoomTool"},{"id":"cfa6b691-70d9-4e1b-985f-97fd83304cfd","type":"BoxZoomTool"},{"id":"fc40d6d3-72cf-4cd1-baab-78e4b807bb1a","type":"SaveTool"},{"id":"30635d51-4c94-4436-b4dc-5152211127e1","type":"ResetTool"},{"id":"3b7a65ea-a301-4bc1-9f72-04a488858860","type":"HelpTool"}]},"id":"e7743f55-fb9c-42de-a5fc-920330134fc9","type":"Toolbar"},{"attributes":{"callback":null},"id":"da0aa644-9956-41e5-9bf9-151dca8613bc","type":"DataRange1d"},{"attributes":{},"id":"50165239-a8a4-4f1a-bd1c-9cb9f945d866","type":"BasicTickFormatter"},{"attributes":{"overlay":{"id":"481e6e58-04f8-41c1-bdf2-aef7c1fca52f","type":"BoxAnnotation"}},"id":"59715e61-a1b9-4efe-a0b0-c39b10a530e9","type":"BoxZoomTool"},{"attributes":{"plot":null,"text":""},"id":"cebf0126-7d05-4538-b776-62af024d3b43","type":"Title"},{"attributes":{},"id":"6b502fcf-944d-4f79-b0d7-7ff8c02404b7","type":"ResetTool"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"04f140b8-754a-4261-98cb-26b1ff1f2b06","type":"Line"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"d953b8ce-b1cc-47f4-8a1d-742f35c86af4","type":"Line"},{"attributes":{"below":[{"id":"8741a13f-2118-4351-9d91-504a45f7fe04","type":"LinearAxis"}],"left":[{"id":"dd362f70-a96b-41c1-91d0-784da0cd0205","type":"LinearAxis"}],"renderers":[{"id":"8741a13f-2118-4351-9d91-504a45f7fe04","type":"LinearAxis"},{"id":"12f2c781-5f88-46a4-ad7a-70be9f1965fd","type":"Grid"},{"id":"dd362f70-a96b-41c1-91d0-784da0cd0205","type":"LinearAxis"},{"id":"d75cca78-1048-4a3e-ab43-0c0e98df5b36","type":"Grid"},{"id":"37305650-8c49-45b1-9455-e0c8644fb37b","type":"BoxAnnotation"},{"id":"0b8ad283-579c-4eee-bd94-57f8629d95f9","type":"GlyphRenderer"},{"id":"20419767-e365-43ca-81e6-9825076ab4bb","type":"GlyphRenderer"}],"title":{"id":"ccbe5382-ecae-4e55-8ac3-610208a92c7d","type":"Title"},"toolbar":{"id":"e7743f55-fb9c-42de-a5fc-920330134fc9","type":"Toolbar"},"x_range":{"id":"1ffa00c4-f9c2-4816-a98e-c66beabc4b70","type":"DataRange1d"},"x_scale":{"id":"b2182d83-08ec-40e7-b28e-650592227237","type":"LinearScale"},"y_range":{"id":"5765487d-b1a0-424f-9e36-8dbc469f05a1","type":"DataRange1d"},"y_scale":{"id":"1f614c03-87c2-404d-b31b-5d8d82114e92","type":"LinearScale"}},"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"b712048b-35ad-4935-ae1c-ead54b79e489","type":"SaveTool"},{"attributes":{},"id":"1f614c03-87c2-404d-b31b-5d8d82114e92","type":"LinearScale"},{"attributes":{},"id":"c159ca20-b2e9-4e75-9ee1-8ce417051b28","type":"BasicTicker"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAFMCamZmZmZkTwDQzMzMzMxPAzszMzMzMEsBoZmZmZmYSwAIAAAAAABLAnJmZmZmZEcA2MzMzMzMRwNDMzMzMzBDAamZmZmZmEMAEAAAAAAAQwDwzMzMzMw/AcGZmZmZmDsCkmZmZmZkNwNjMzMzMzAzADAAAAAAADMBAMzMzMzMLwHRmZmZmZgrAqJmZmZmZCcDczMzMzMwIwBAAAAAAAAjARDMzMzMzB8B4ZmZmZmYGwKyZmZmZmQXA4MzMzMzMBMAUAAAAAAAEwEgzMzMzMwPAfGZmZmZmAsCwmZmZmZkBwOTMzMzMzADAGAAAAAAAAMCYZmZmZmb+vwDNzMzMzPy/aDMzMzMz+7/QmZmZmZn5vzgAAAAAAPi/oGZmZmZm9r8IzczMzMz0v3AzMzMzM/O/2JmZmZmZ8b9AAAAAAADwv1DNzMzMzOy/IJqZmZmZ6b/wZmZmZmbmv8AzMzMzM+O/kAAAAAAA4L/AmpmZmZnZv2A0MzMzM9O/AJyZmZmZyb+AnpmZmZm5vwAAAAAAABS9gJSZmZmZuT8Al5mZmZnJP+AxMzMzM9M/QJiZmZmZ2T+g/v/////fP4AyMzMzM+M/sGVmZmZm5j/gmJmZmZnpPxDMzMzMzOw/QP//////7z84mZmZmZnxP9AyMzMzM/M/aMzMzMzM9D8AZmZmZmb2P5j///////c/MJmZmZmZ+T/IMjMzMzP7P2DMzMzMzPw/+GVmZmZm/j+Q////////P5TMzMzMzABAYJmZmZmZAUAsZmZmZmYCQPgyMzMzMwNAxP//////A0CQzMzMzMwEQFyZmZmZmQVAKGZmZmZmBkD0MjMzMzMHQMD//////wdAjMzMzMzMCEBYmZmZmZkJQCRmZmZmZgpA8DIzMzMzC0C8//////8LQIjMzMzMzAxAVJmZmZmZDUAgZmZmZmYOQOwyMzMzMw9AuP//////D0BCZmZmZmYQQKjMzMzMzBBADjMzMzMzEUB0mZmZmZkRQNr//////xFAQGZmZmZmEkCmzMzMzMwSQAwzMzMzMxNAcpmZmZmZE0A=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"M5ng9YGv7j+k6yJ2QHDvP/89DJqU4O8/U+w3D1//7z+77F0TUczvP4RAxz3tR+8/9ChFMYZz7j8vigE6O1HtP+MS0N/y4+s/y8jielMv6j/EHtzduTfoP+WzHy0uAuY/vcDs/1aU4z9iGy7savTgP0DS8ENBUtw/eWK6fjtz1j/RTP8QyVrQP2QNt8oCMcQ/sTDoOTfjrT9vDJiCD0qlv17Utm04EMK/2i9I1rifzr9A5V0jcnDVv4qmJCQxWtu/eoWgu/x+4L9wys8Nrybjv13Rw/VkneW/6i5YLdHc57/U1qrZM9/pv81y6z9pn+u/HrTR6vYY7b83OBofF0juv9kVvYHCKe+/qZgv17e777/CQuDHgfzvv5NtLJt66++/FuFE382I779rHsX5d9Xuv/FVGqJD0+2/cGMtTMWE7L8zDQmPVO3qv5KoXZgDEem/Kv+/wpT05r8iGkZpbp3kv81BpReNEeK/7QZLdOiu3r96aCvpOuzYv1O7upXN6dK/FtU9I/9tyb8M0IvLro65vwAAAAAAABS9GcaLy66OuT8w0D0j/23JP++4upXN6dI/LGYr6Trs2D+7BEt06K7eP8VApReNEeI/LRlGaW6d5D9M/r/ClPTmP8unXZgDEek/hgwJj1Tt6j/fYi1MxYTsP31VGqJD0+0/FR7F+XfV7j/g4ETfzYjvP3xtLJt66+8/zELgx4H87z/SmC/Xt7vvPyIWvYHCKe8/nzgaHxdI7j+jtNHq9hjtP25z6z9pn+s/kNeq2TPf6T+/L1gt0dznP0nSw/VkneU/ccvPDa8m4z+MhqC7/H7gP8yoJCQxWts/m+ddI3Jw1T+1NEjWuJ/OP1HZtm04EMI/aiCYgg9KpT+5HOg5N+Otv3QIt8oCMcS/Zkr/EMla0L8iYLp+O3PWvwLQ8ENBUty/Uxou7Gr04L/Av+z/VpTjv/yyHy0uAua/8h3c3bk36L8TyOJ6Uy/qv0cS0N/y4+u/r4kBOjtR7b+SKEUxhnPuv0BAxz3tR++/l+xdE1HM779P7DcPX//vvxs+DJqU4O+/3+sidkBw778=","dtype":"float64","shape":[100]}}},"id":"2a31d9c6-d0f0-4d27-882a-06494c043151","type":"ColumnDataSource"},{"attributes":{"callback":null},"id":"5765487d-b1a0-424f-9e36-8dbc469f05a1","type":"DataRange1d"},{"attributes":{"dimension":1,"plot":{"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},"ticker":{"id":"c159ca20-b2e9-4e75-9ee1-8ce417051b28","type":"BasicTicker"}},"id":"ced5469e-a711-4588-afca-f1dabd241d07","type":"Grid"},{"attributes":{"source":{"id":"d29c79fa-76e7-49d7-86af-613b8a30e436","type":"ColumnDataSource"}},"id":"1d22a5ff-7969-43d0-a244-d06d00adb013","type":"CDSView"},{"attributes":{},"id":"b2182d83-08ec-40e7-b28e-650592227237","type":"LinearScale"},{"attributes":{"plot":{"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},"ticker":{"id":"4e280448-750a-46cb-870c-92475291a7db","type":"BasicTicker"}},"id":"12f2c781-5f88-46a4-ad7a-70be9f1965fd","type":"Grid"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"dcd07e66-8b65-4886-a0e6-0187c3783c46","type":"Line"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAFMCamZmZmZkTwDQzMzMzMxPAzszMzMzMEsBoZmZmZmYSwAIAAAAAABLAnJmZmZmZEcA2MzMzMzMRwNDMzMzMzBDAamZmZmZmEMAEAAAAAAAQwDwzMzMzMw/AcGZmZmZmDsCkmZmZmZkNwNjMzMzMzAzADAAAAAAADMBAMzMzMzMLwHRmZmZmZgrAqJmZmZmZCcDczMzMzMwIwBAAAAAAAAjARDMzMzMzB8B4ZmZmZmYGwKyZmZmZmQXA4MzMzMzMBMAUAAAAAAAEwEgzMzMzMwPAfGZmZmZmAsCwmZmZmZkBwOTMzMzMzADAGAAAAAAAAMCYZmZmZmb+vwDNzMzMzPy/aDMzMzMz+7/QmZmZmZn5vzgAAAAAAPi/oGZmZmZm9r8IzczMzMz0v3AzMzMzM/O/2JmZmZmZ8b9AAAAAAADwv1DNzMzMzOy/IJqZmZmZ6b/wZmZmZmbmv8AzMzMzM+O/kAAAAAAA4L/AmpmZmZnZv2A0MzMzM9O/AJyZmZmZyb+AnpmZmZm5vwAAAAAAABS9gJSZmZmZuT8Al5mZmZnJP+AxMzMzM9M/QJiZmZmZ2T+g/v/////fP4AyMzMzM+M/sGVmZmZm5j/gmJmZmZnpPxDMzMzMzOw/QP//////7z84mZmZmZnxP9AyMzMzM/M/aMzMzMzM9D8AZmZmZmb2P5j///////c/MJmZmZmZ+T/IMjMzMzP7P2DMzMzMzPw/+GVmZmZm/j+Q////////P5TMzMzMzABAYJmZmZmZAUAsZmZmZmYCQPgyMzMzMwNAxP//////A0CQzMzMzMwEQFyZmZmZmQVAKGZmZmZmBkD0MjMzMzMHQMD//////wdAjMzMzMzMCEBYmZmZmZkJQCRmZmZmZgpA8DIzMzMzC0C8//////8LQIjMzMzMzAxAVJmZmZmZDUAgZmZmZmYOQOwyMzMzMw9AuP//////D0BCZmZmZmYQQKjMzMzMzBBADjMzMzMzEUB0mZmZmZkRQNr//////xFAQGZmZmZmEkCmzMzMzMwSQAwzMzMzMxNAcpmZmZmZE0A=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"M5ng9YGv7j+k6yJ2QHDvP/89DJqU4O8/U+w3D1//7z+77F0TUczvP4RAxz3tR+8/9ChFMYZz7j8vigE6O1HtP+MS0N/y4+s/y8jielMv6j/EHtzduTfoP+WzHy0uAuY/vcDs/1aU4z9iGy7savTgP0DS8ENBUtw/eWK6fjtz1j/RTP8QyVrQP2QNt8oCMcQ/sTDoOTfjrT9vDJiCD0qlv17Utm04EMK/2i9I1rifzr9A5V0jcnDVv4qmJCQxWtu/eoWgu/x+4L9wys8Nrybjv13Rw/VkneW/6i5YLdHc57/U1qrZM9/pv81y6z9pn+u/HrTR6vYY7b83OBofF0juv9kVvYHCKe+/qZgv17e777/CQuDHgfzvv5NtLJt66++/FuFE382I779rHsX5d9Xuv/FVGqJD0+2/cGMtTMWE7L8zDQmPVO3qv5KoXZgDEem/Kv+/wpT05r8iGkZpbp3kv81BpReNEeK/7QZLdOiu3r96aCvpOuzYv1O7upXN6dK/FtU9I/9tyb8M0IvLro65vwAAAAAAABS9GcaLy66OuT8w0D0j/23JP++4upXN6dI/LGYr6Trs2D+7BEt06K7eP8VApReNEeI/LRlGaW6d5D9M/r/ClPTmP8unXZgDEek/hgwJj1Tt6j/fYi1MxYTsP31VGqJD0+0/FR7F+XfV7j/g4ETfzYjvP3xtLJt66+8/zELgx4H87z/SmC/Xt7vvPyIWvYHCKe8/nzgaHxdI7j+jtNHq9hjtP25z6z9pn+s/kNeq2TPf6T+/L1gt0dznP0nSw/VkneU/ccvPDa8m4z+MhqC7/H7gP8yoJCQxWts/m+ddI3Jw1T+1NEjWuJ/OP1HZtm04EMI/aiCYgg9KpT+5HOg5N+Otv3QIt8oCMcS/Zkr/EMla0L8iYLp+O3PWvwLQ8ENBUty/Uxou7Gr04L/Av+z/VpTjv/yyHy0uAua/8h3c3bk36L8TyOJ6Uy/qv0cS0N/y4+u/r4kBOjtR7b+SKEUxhnPuv0BAxz3tR++/l+xdE1HM779P7DcPX//vvxs+DJqU4O+/3+sidkBw778=","dtype":"float64","shape":[100]}}},"id":"8c3c4789-9ae9-42d3-80f7-27e80d58a21a","type":"ColumnDataSource"},{"attributes":{"callback":null},"id":"167f9a5d-fa71-4e1b-885f-1625d9f29b1b","type":"DataRange1d"},{"attributes":{},"id":"44d69179-0506-48ef-8872-3e74205932d5","type":"PanTool"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"37305650-8c49-45b1-9455-e0c8644fb37b","type":"BoxAnnotation"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAFMCamZmZmZkTwDQzMzMzMxPAzszMzMzMEsBoZmZmZmYSwAIAAAAAABLAnJmZmZmZEcA2MzMzMzMRwNDMzMzMzBDAamZmZmZmEMAEAAAAAAAQwDwzMzMzMw/AcGZmZmZmDsCkmZmZmZkNwNjMzMzMzAzADAAAAAAADMBAMzMzMzMLwHRmZmZmZgrAqJmZmZmZCcDczMzMzMwIwBAAAAAAAAjARDMzMzMzB8B4ZmZmZmYGwKyZmZmZmQXA4MzMzMzMBMAUAAAAAAAEwEgzMzMzMwPAfGZmZmZmAsCwmZmZmZkBwOTMzMzMzADAGAAAAAAAAMCYZmZmZmb+vwDNzMzMzPy/aDMzMzMz+7/QmZmZmZn5vzgAAAAAAPi/oGZmZmZm9r8IzczMzMz0v3AzMzMzM/O/2JmZmZmZ8b9AAAAAAADwv1DNzMzMzOy/IJqZmZmZ6b/wZmZmZmbmv8AzMzMzM+O/kAAAAAAA4L/AmpmZmZnZv2A0MzMzM9O/AJyZmZmZyb+AnpmZmZm5vwAAAAAAABS9gJSZmZmZuT8Al5mZmZnJP+AxMzMzM9M/QJiZmZmZ2T+g/v/////fP4AyMzMzM+M/sGVmZmZm5j/gmJmZmZnpPxDMzMzMzOw/QP//////7z84mZmZmZnxP9AyMzMzM/M/aMzMzMzM9D8AZmZmZmb2P5j///////c/MJmZmZmZ+T/IMjMzMzP7P2DMzMzMzPw/+GVmZmZm/j+Q////////P5TMzMzMzABAYJmZmZmZAUAsZmZmZmYCQPgyMzMzMwNAxP//////A0CQzMzMzMwEQFyZmZmZmQVAKGZmZmZmBkD0MjMzMzMHQMD//////wdAjMzMzMzMCEBYmZmZmZkJQCRmZmZmZgpA8DIzMzMzC0C8//////8LQIjMzMzMzAxAVJmZmZmZDUAgZmZmZmYOQOwyMzMzMw9AuP//////D0BCZmZmZmYQQKjMzMzMzBBADjMzMzMzEUB0mZmZmZkRQNr//////xFAQGZmZmZmEkCmzMzMzMwSQAwzMzMzMxNAcpmZmZmZE0A=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"M5ng9YGv7j+k6yJ2QHDvP/89DJqU4O8/U+w3D1//7z+77F0TUczvP4RAxz3tR+8/9ChFMYZz7j8vigE6O1HtP+MS0N/y4+s/y8jielMv6j/EHtzduTfoP+WzHy0uAuY/vcDs/1aU4z9iGy7savTgP0DS8ENBUtw/eWK6fjtz1j/RTP8QyVrQP2QNt8oCMcQ/sTDoOTfjrT9vDJiCD0qlv17Utm04EMK/2i9I1rifzr9A5V0jcnDVv4qmJCQxWtu/eoWgu/x+4L9wys8Nrybjv13Rw/VkneW/6i5YLdHc57/U1qrZM9/pv81y6z9pn+u/HrTR6vYY7b83OBofF0juv9kVvYHCKe+/qZgv17e777/CQuDHgfzvv5NtLJt66++/FuFE382I779rHsX5d9Xuv/FVGqJD0+2/cGMtTMWE7L8zDQmPVO3qv5KoXZgDEem/Kv+/wpT05r8iGkZpbp3kv81BpReNEeK/7QZLdOiu3r96aCvpOuzYv1O7upXN6dK/FtU9I/9tyb8M0IvLro65vwAAAAAAABS9GcaLy66OuT8w0D0j/23JP++4upXN6dI/LGYr6Trs2D+7BEt06K7eP8VApReNEeI/LRlGaW6d5D9M/r/ClPTmP8unXZgDEek/hgwJj1Tt6j/fYi1MxYTsP31VGqJD0+0/FR7F+XfV7j/g4ETfzYjvP3xtLJt66+8/zELgx4H87z/SmC/Xt7vvPyIWvYHCKe8/nzgaHxdI7j+jtNHq9hjtP25z6z9pn+s/kNeq2TPf6T+/L1gt0dznP0nSw/VkneU/ccvPDa8m4z+MhqC7/H7gP8yoJCQxWts/m+ddI3Jw1T+1NEjWuJ/OP1HZtm04EMI/aiCYgg9KpT+5HOg5N+Otv3QIt8oCMcS/Zkr/EMla0L8iYLp+O3PWvwLQ8ENBUty/Uxou7Gr04L/Av+z/VpTjv/yyHy0uAua/8h3c3bk36L8TyOJ6Uy/qv0cS0N/y4+u/r4kBOjtR7b+SKEUxhnPuv0BAxz3tR++/l+xdE1HM779P7DcPX//vvxs+DJqU4O+/3+sidkBw778=","dtype":"float64","shape":[100]}}},"id":"d29c79fa-76e7-49d7-86af-613b8a30e436","type":"ColumnDataSource"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"41aabb79-37b6-4ae7-b4b6-11b70ca9fc6d","type":"Line"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"44d69179-0506-48ef-8872-3e74205932d5","type":"PanTool"},{"id":"f484f0c7-d10b-4813-83ee-dd4ac86f610d","type":"WheelZoomTool"},{"id":"59715e61-a1b9-4efe-a0b0-c39b10a530e9","type":"BoxZoomTool"},{"id":"b712048b-35ad-4935-ae1c-ead54b79e489","type":"SaveTool"},{"id":"6b502fcf-944d-4f79-b0d7-7ff8c02404b7","type":"ResetTool"},{"id":"ccb6843f-9ce1-4b27-8a84-a987a24a630b","type":"HelpTool"}]},"id":"7c64d5aa-6215-4c24-9014-113dfecba9b1","type":"Toolbar"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"67cac86c-72b8-4585-a942-54988072032f","type":"Line"},{"attributes":{"data_source":{"id":"d29c79fa-76e7-49d7-86af-613b8a30e436","type":"ColumnDataSource"},"glyph":{"id":"d953b8ce-b1cc-47f4-8a1d-742f35c86af4","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"dcd07e66-8b65-4886-a0e6-0187c3783c46","type":"Line"},"selection_glyph":null,"view":{"id":"1d22a5ff-7969-43d0-a244-d06d00adb013","type":"CDSView"}},"id":"1db047e9-5900-4f6d-b5a7-d5aff16b4770","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"8c3c4789-9ae9-42d3-80f7-27e80d58a21a","type":"ColumnDataSource"},"glyph":{"id":"41aabb79-37b6-4ae7-b4b6-11b70ca9fc6d","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"67cac86c-72b8-4585-a942-54988072032f","type":"Line"},"selection_glyph":null,"view":{"id":"a8e6f99a-34ab-43c7-a0d4-b3e541f0d288","type":"CDSView"}},"id":"20419767-e365-43ca-81e6-9825076ab4bb","type":"GlyphRenderer"},{"attributes":{},"id":"ccb6843f-9ce1-4b27-8a84-a987a24a630b","type":"HelpTool"},{"attributes":{"source":{"id":"8c3c4789-9ae9-42d3-80f7-27e80d58a21a","type":"ColumnDataSource"}},"id":"a8e6f99a-34ab-43c7-a0d4-b3e541f0d288","type":"CDSView"},{"attributes":{"overlay":{"id":"37305650-8c49-45b1-9455-e0c8644fb37b","type":"BoxAnnotation"}},"id":"cfa6b691-70d9-4e1b-985f-97fd83304cfd","type":"BoxZoomTool"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"481e6e58-04f8-41c1-bdf2-aef7c1fca52f","type":"BoxAnnotation"},{"attributes":{"plot":null,"text":""},"id":"ccbe5382-ecae-4e55-8ac3-610208a92c7d","type":"Title"},{"attributes":{"formatter":{"id":"c6af5d8e-5988-4f6a-a22a-789a6223bedf","type":"BasicTickFormatter"},"plot":{"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},"ticker":{"id":"a5a931e1-9bb1-496f-a27d-6a4c12de23b0","type":"BasicTicker"}},"id":"e15d54ce-0bbe-44f2-9634-c60f9414f4c4","type":"LinearAxis"},{"attributes":{},"id":"fc40d6d3-72cf-4cd1-baab-78e4b807bb1a","type":"SaveTool"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"3556bfe2-bab1-45cc-a066-591cab89b812","type":"Line"},{"attributes":{},"id":"30635d51-4c94-4436-b4dc-5152211127e1","type":"ResetTool"},{"attributes":{"plot":{"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},"ticker":{"id":"a5a931e1-9bb1-496f-a27d-6a4c12de23b0","type":"BasicTicker"}},"id":"413b7a2a-58cd-4570-a15b-4774445bc075","type":"Grid"},{"attributes":{},"id":"f5769855-4441-4181-82d3-14e5e1cbfd66","type":"LinearScale"},{"attributes":{},"id":"3b7a65ea-a301-4bc1-9f72-04a488858860","type":"HelpTool"},{"attributes":{},"id":"51485646-f97e-46bb-8111-2cff98015aae","type":"BasicTicker"},{"attributes":{},"id":"4e280448-750a-46cb-870c-92475291a7db","type":"BasicTicker"},{"attributes":{},"id":"c6af5d8e-5988-4f6a-a22a-789a6223bedf","type":"BasicTickFormatter"},{"attributes":{"formatter":{"id":"da3e277b-51fd-405f-aa8f-94206ec769a4","type":"BasicTickFormatter"},"plot":{"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},"ticker":{"id":"51485646-f97e-46bb-8111-2cff98015aae","type":"BasicTicker"}},"id":"dd362f70-a96b-41c1-91d0-784da0cd0205","type":"LinearAxis"},{"attributes":{},"id":"a5a931e1-9bb1-496f-a27d-6a4c12de23b0","type":"BasicTicker"}],"root_ids":["025f068b-88d7-4051-9a74-8b3cf4ca3322","b90f0883-95b6-4cd2-b378-ceab8964a7b5"]},"title":"Bokeh Application","version":"0.12.14"}}</script><script type="text/javascript">    (function() {    var fn = function() {        Bokeh.safely(function() {        (function(root) {            function embed_document(root) {            var docs_json = document.getElementById('0c06bc21-28fe-4fcb-ba43-91c7166610c6').textContent;            var render_items = [{"docid":"0c8888dd-d728-4892-a09c-12106d1d56c8","elementid":"c3e3c5d7-6d0f-4253-aa32-4d4b05636220","modelid":"b90f0883-95b6-4cd2-b378-ceab8964a7b5"}];            root.Bokeh.embed.embed_items(docs_json, render_items);            }            if (root.Bokeh !== undefined) {            embed_document(root);            } else {            var attempts = 0;            var timer = setInterval(function(root) {                if (root.Bokeh !== undefined) {                embed_document(root);                clearInterval(timer);                }                attempts++;                if (attempts > 100) {                console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing")                clearInterval(timer);                }            }, 10, root)            }        })(window);        });    };    if (document.readyState != "loading") fn();    else document.addEventListener("DOMContentLoaded", fn);    })();</script><p>With widgetsï¼š</p><div class="bk-root">    <div class="bk-plotdiv" id="d5b7c7a5-8fef-4f8f-9395-7643af0ca730"></div></div><script type="application/json" id="51bd30f2-f016-428d-bf01-dfa13a5641fa">  {"c735e38e-6c46-4737-ab01-75ad9c85e84a":{"roots":{"references":[{"attributes":{},"id":"e0464e1f-a698-4c36-ac8c-8f2c5407a417","type":"WheelZoomTool"},{"attributes":{"line_alpha":0.6,"line_color":"#1f77b4","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"442517bd-b021-469d-b8af-5c72c7db7f83","type":"Line"},{"attributes":{},"id":"da3e277b-51fd-405f-aa8f-94206ec769a4","type":"BasicTickFormatter"},{"attributes":{},"id":"0692b593-a76c-4214-babe-81612f4ce5f7","type":"LinearScale"},{"attributes":{"callback":null},"id":"8b69b140-f0dd-4b12-a781-d309af814089","type":"DataRange1d"},{"attributes":{"callback":null},"id":"1ffa00c4-f9c2-4816-a98e-c66beabc4b70","type":"DataRange1d"},{"attributes":{},"id":"b85908c0-106f-49cd-8f4a-83e92d958074","type":"LinearScale"},{"attributes":{"plot":{"id":"9e85073b-3834-446f-a92c-decb9137e4a7","subtype":"Figure","type":"Plot"},"ticker":{"id":"534a5016-02e3-4506-b467-e615025ea194","type":"BasicTicker"}},"id":"8170b6df-ae63-4908-8d4b-7ef6d93029cc","type":"Grid"},{"attributes":{"plot":null,"text":""},"id":"41609255-7240-4f85-bf8d-4d5ab18763f3","type":"Title"},{"attributes":{"below":[{"id":"e15d54ce-0bbe-44f2-9634-c60f9414f4c4","type":"LinearAxis"}],"left":[{"id":"6aedd8c6-8bc2-48c0-b336-f90cf146a6c3","type":"LinearAxis"}],"plot_height":400,"renderers":[{"id":"e15d54ce-0bbe-44f2-9634-c60f9414f4c4","type":"LinearAxis"},{"id":"413b7a2a-58cd-4570-a15b-4774445bc075","type":"Grid"},{"id":"6aedd8c6-8bc2-48c0-b336-f90cf146a6c3","type":"LinearAxis"},{"id":"ced5469e-a711-4588-afca-f1dabd241d07","type":"Grid"},{"id":"481e6e58-04f8-41c1-bdf2-aef7c1fca52f","type":"BoxAnnotation"},{"id":"1db047e9-5900-4f6d-b5a7-d5aff16b4770","type":"GlyphRenderer"}],"title":{"id":"cebf0126-7d05-4538-b776-62af024d3b43","type":"Title"},"toolbar":{"id":"7c64d5aa-6215-4c24-9014-113dfecba9b1","type":"Toolbar"},"x_range":{"id":"da0aa644-9956-41e5-9bf9-151dca8613bc","type":"DataRange1d"},"x_scale":{"id":"f5769855-4441-4181-82d3-14e5e1cbfd66","type":"LinearScale"},"y_range":{"id":"167f9a5d-fa71-4e1b-885f-1625d9f29b1b","type":"DataRange1d"},"y_scale":{"id":"b85908c0-106f-49cd-8f4a-83e92d958074","type":"LinearScale"}},"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},{"attributes":{"formatter":{"id":"6f18901b-1365-4a7f-ad6c-3d848374a721","type":"BasicTickFormatter"},"plot":{"id":"9e85073b-3834-446f-a92c-decb9137e4a7","subtype":"Figure","type":"Plot"},"ticker":{"id":"534a5016-02e3-4506-b467-e615025ea194","type":"BasicTicker"}},"id":"efd02180-9db1-4cf3-86b6-c38a49736567","type":"LinearAxis"},{"attributes":{"source":{"id":"959803c4-225a-452d-8e89-58193d81cb7d","type":"ColumnDataSource"}},"id":"0bcd2a4a-eb70-4bc2-85c7-f1adfa2fdc5f","type":"CDSView"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"a398d591-409e-45bd-8152-dbcc472b8636","type":"PanTool"},{"id":"e0464e1f-a698-4c36-ac8c-8f2c5407a417","type":"WheelZoomTool"},{"id":"cfa6b691-70d9-4e1b-985f-97fd83304cfd","type":"BoxZoomTool"},{"id":"fc40d6d3-72cf-4cd1-baab-78e4b807bb1a","type":"SaveTool"},{"id":"30635d51-4c94-4436-b4dc-5152211127e1","type":"ResetTool"},{"id":"3b7a65ea-a301-4bc1-9f72-04a488858860","type":"HelpTool"}]},"id":"e7743f55-fb9c-42de-a5fc-920330134fc9","type":"Toolbar"},{"attributes":{"callback":null},"id":"da0aa644-9956-41e5-9bf9-151dca8613bc","type":"DataRange1d"},{"attributes":{},"id":"742c1cc8-2c58-40a8-8573-65a22a141647","type":"HelpTool"},{"attributes":{},"id":"534a5016-02e3-4506-b467-e615025ea194","type":"BasicTicker"},{"attributes":{"overlay":{"id":"481e6e58-04f8-41c1-bdf2-aef7c1fca52f","type":"BoxAnnotation"}},"id":"59715e61-a1b9-4efe-a0b0-c39b10a530e9","type":"BoxZoomTool"},{"attributes":{"formatter":{"id":"6915490c-1b04-4f3e-a128-fa1bca0fed20","type":"BasicTickFormatter"},"plot":{"id":"9e85073b-3834-446f-a92c-decb9137e4a7","subtype":"Figure","type":"Plot"},"ticker":{"id":"ed361074-98f1-4b32-bd19-206c9718de67","type":"BasicTicker"}},"id":"e86a27e5-7feb-4207-8105-4517c6552cda","type":"LinearAxis"},{"attributes":{},"id":"13beec82-da72-4954-b0a4-bd02a03353eb","type":"SaveTool"},{"attributes":{},"id":"ed361074-98f1-4b32-bd19-206c9718de67","type":"BasicTicker"},{"attributes":{},"id":"68617b5b-9e89-496a-a9d8-747c6aa11595","type":"BasicTickFormatter"},{"attributes":{},"id":"6b502fcf-944d-4f79-b0d7-7ff8c02404b7","type":"ResetTool"},{"attributes":{"dimension":1,"plot":{"id":"9e85073b-3834-446f-a92c-decb9137e4a7","subtype":"Figure","type":"Plot"},"ticker":{"id":"ed361074-98f1-4b32-bd19-206c9718de67","type":"BasicTicker"}},"id":"3da1cb0e-cdd6-4dea-b510-d6c277174994","type":"Grid"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAFMCamZmZmZkTwDQzMzMzMxPAzszMzMzMEsBoZmZmZmYSwAIAAAAAABLAnJmZmZmZEcA2MzMzMzMRwNDMzMzMzBDAamZmZmZmEMAEAAAAAAAQwDwzMzMzMw/AcGZmZmZmDsCkmZmZmZkNwNjMzMzMzAzADAAAAAAADMBAMzMzMzMLwHRmZmZmZgrAqJmZmZmZCcDczMzMzMwIwBAAAAAAAAjARDMzMzMzB8B4ZmZmZmYGwKyZmZmZmQXA4MzMzMzMBMAUAAAAAAAEwEgzMzMzMwPAfGZmZmZmAsCwmZmZmZkBwOTMzMzMzADAGAAAAAAAAMCYZmZmZmb+vwDNzMzMzPy/aDMzMzMz+7/QmZmZmZn5vzgAAAAAAPi/oGZmZmZm9r8IzczMzMz0v3AzMzMzM/O/2JmZmZmZ8b9AAAAAAADwv1DNzMzMzOy/IJqZmZmZ6b/wZmZmZmbmv8AzMzMzM+O/kAAAAAAA4L/AmpmZmZnZv2A0MzMzM9O/AJyZmZmZyb+AnpmZmZm5vwAAAAAAABS9gJSZmZmZuT8Al5mZmZnJP+AxMzMzM9M/QJiZmZmZ2T+g/v/////fP4AyMzMzM+M/sGVmZmZm5j/gmJmZmZnpPxDMzMzMzOw/QP//////7z84mZmZmZnxP9AyMzMzM/M/aMzMzMzM9D8AZmZmZmb2P5j///////c/MJmZmZmZ+T/IMjMzMzP7P2DMzMzMzPw/+GVmZmZm/j+Q////////P5TMzMzMzABAYJmZmZmZAUAsZmZmZmYCQPgyMzMzMwNAxP//////A0CQzMzMzMwEQFyZmZmZmQVAKGZmZmZmBkD0MjMzMzMHQMD//////wdAjMzMzMzMCEBYmZmZmZkJQCRmZmZmZgpA8DIzMzMzC0C8//////8LQIjMzMzMzAxAVJmZmZmZDUAgZmZmZmYOQOwyMzMzMw9AuP//////D0BCZmZmZmYQQKjMzMzMzBBADjMzMzMzEUB0mZmZmZkRQNr//////xFAQGZmZmZmEkCmzMzMzMwSQAwzMzMzMxNAcpmZmZmZE0A=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"M5ng9YGv7j+k6yJ2QHDvP/89DJqU4O8/U+w3D1//7z+77F0TUczvP4RAxz3tR+8/9ChFMYZz7j8vigE6O1HtP+MS0N/y4+s/y8jielMv6j/EHtzduTfoP+WzHy0uAuY/vcDs/1aU4z9iGy7savTgP0DS8ENBUtw/eWK6fjtz1j/RTP8QyVrQP2QNt8oCMcQ/sTDoOTfjrT9vDJiCD0qlv17Utm04EMK/2i9I1rifzr9A5V0jcnDVv4qmJCQxWtu/eoWgu/x+4L9wys8Nrybjv13Rw/VkneW/6i5YLdHc57/U1qrZM9/pv81y6z9pn+u/HrTR6vYY7b83OBofF0juv9kVvYHCKe+/qZgv17e777/CQuDHgfzvv5NtLJt66++/FuFE382I779rHsX5d9Xuv/FVGqJD0+2/cGMtTMWE7L8zDQmPVO3qv5KoXZgDEem/Kv+/wpT05r8iGkZpbp3kv81BpReNEeK/7QZLdOiu3r96aCvpOuzYv1O7upXN6dK/FtU9I/9tyb8M0IvLro65vwAAAAAAABS9GcaLy66OuT8w0D0j/23JP++4upXN6dI/LGYr6Trs2D+7BEt06K7eP8VApReNEeI/LRlGaW6d5D9M/r/ClPTmP8unXZgDEek/hgwJj1Tt6j/fYi1MxYTsP31VGqJD0+0/FR7F+XfV7j/g4ETfzYjvP3xtLJt66+8/zELgx4H87z/SmC/Xt7vvPyIWvYHCKe8/nzgaHxdI7j+jtNHq9hjtP25z6z9pn+s/kNeq2TPf6T+/L1gt0dznP0nSw/VkneU/ccvPDa8m4z+MhqC7/H7gP8yoJCQxWts/m+ddI3Jw1T+1NEjWuJ/OP1HZtm04EMI/aiCYgg9KpT+5HOg5N+Otv3QIt8oCMcS/Zkr/EMla0L8iYLp+O3PWvwLQ8ENBUty/Uxou7Gr04L/Av+z/VpTjv/yyHy0uAua/8h3c3bk36L8TyOJ6Uy/qv0cS0N/y4+u/r4kBOjtR7b+SKEUxhnPuv0BAxz3tR++/l+xdE1HM779P7DcPX//vvxs+DJqU4O+/3+sidkBw778=","dtype":"float64","shape":[100]}}},"id":"959803c4-225a-452d-8e89-58193d81cb7d","type":"ColumnDataSource"},{"attributes":{"below":[{"id":"8741a13f-2118-4351-9d91-504a45f7fe04","type":"LinearAxis"}],"left":[{"id":"dd362f70-a96b-41c1-91d0-784da0cd0205","type":"LinearAxis"}],"renderers":[{"id":"8741a13f-2118-4351-9d91-504a45f7fe04","type":"LinearAxis"},{"id":"12f2c781-5f88-46a4-ad7a-70be9f1965fd","type":"Grid"},{"id":"dd362f70-a96b-41c1-91d0-784da0cd0205","type":"LinearAxis"},{"id":"d75cca78-1048-4a3e-ab43-0c0e98df5b36","type":"Grid"},{"id":"37305650-8c49-45b1-9455-e0c8644fb37b","type":"BoxAnnotation"},{"id":"0b8ad283-579c-4eee-bd94-57f8629d95f9","type":"GlyphRenderer"},{"id":"20419767-e365-43ca-81e6-9825076ab4bb","type":"GlyphRenderer"}],"title":{"id":"ccbe5382-ecae-4e55-8ac3-610208a92c7d","type":"Title"},"toolbar":{"id":"e7743f55-fb9c-42de-a5fc-920330134fc9","type":"Toolbar"},"x_range":{"id":"1ffa00c4-f9c2-4816-a98e-c66beabc4b70","type":"DataRange1d"},"x_scale":{"id":"b2182d83-08ec-40e7-b28e-650592227237","type":"LinearScale"},"y_range":{"id":"5765487d-b1a0-424f-9e36-8dbc469f05a1","type":"DataRange1d"},"y_scale":{"id":"1f614c03-87c2-404d-b31b-5d8d82114e92","type":"LinearScale"}},"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"b712048b-35ad-4935-ae1c-ead54b79e489","type":"SaveTool"},{"attributes":{},"id":"ef916a0f-17f9-47fa-9b91-cd39031324f7","type":"PanTool"},{"attributes":{"below":[{"id":"ebd39a2b-e7d4-4ded-910a-41e56914f3d4","type":"LinearAxis"}],"left":[{"id":"1ac25c06-4428-445c-a046-b807fcd61bfd","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"ebd39a2b-e7d4-4ded-910a-41e56914f3d4","type":"LinearAxis"},{"id":"d5154776-fcea-4fce-9125-bd1d04a03ab5","type":"Grid"},{"id":"1ac25c06-4428-445c-a046-b807fcd61bfd","type":"LinearAxis"},{"id":"b1ee50c1-13e3-46bb-9c77-97a9bd12d632","type":"Grid"},{"id":"00afcf2f-3d63-4ad5-8c64-b31a05e86987","type":"BoxAnnotation"},{"id":"9fefb425-b24c-40fc-b282-d970e388b4f5","type":"GlyphRenderer"}],"title":{"id":"41609255-7240-4f85-bf8d-4d5ab18763f3","type":"Title"},"toolbar":{"id":"629bbb70-4153-413e-8f47-6bdab5ca6943","type":"Toolbar"},"x_range":{"id":"8b69b140-f0dd-4b12-a781-d309af814089","type":"DataRange1d"},"x_scale":{"id":"baedce77-8087-4a39-bfbc-a2ff936e6d8f","type":"LinearScale"},"y_range":{"id":"337f4e1c-9d06-49d2-9fc7-13725bb39f04","type":"Range1d"},"y_scale":{"id":"5a5eb415-fe8a-4f0e-aa66-b927d1ea45e8","type":"LinearScale"}},"id":"d06a2e27-c4ed-4e08-9ca6-dec70fc2c593","subtype":"Figure","type":"Plot"},{"attributes":{"source":{"id":"08c4a922-77b4-4250-a13a-9fddf147787c","type":"ColumnDataSource"}},"id":"23b5c7bb-c0ba-4894-9e08-60789d7136bb","type":"CDSView"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"f5d8b6ef-a1d6-4550-a985-4d3a707ba7bb","type":"PanTool"},{"id":"bded7dd3-fb10-4032-9eab-349a43ba917b","type":"WheelZoomTool"},{"id":"3818aea3-a7b5-4ca5-a0a9-0b682541f99b","type":"BoxZoomTool"},{"id":"b2187cb4-e540-49ce-b81a-4be158a4879f","type":"SaveTool"},{"id":"af97642d-848a-4657-86c8-18caef9acc80","type":"ResetTool"},{"id":"e0596d28-fa72-4739-b79d-ecb0a0733236","type":"HelpTool"}]},"id":"629bbb70-4153-413e-8f47-6bdab5ca6943","type":"Toolbar"},{"attributes":{},"id":"1f614c03-87c2-404d-b31b-5d8d82114e92","type":"LinearScale"},{"attributes":{},"id":"c159ca20-b2e9-4e75-9ee1-8ce417051b28","type":"BasicTicker"},{"attributes":{"callback":{"id":"00c622b4-2925-4ca5-af9a-bcc7cf7a390d","type":"CustomJS"},"end":10,"start":0.1,"step":0.1,"title":"Frequency","value":1},"id":"e0dcba8c-25ec-4af7-a915-3f5aa718acf1","type":"Slider"},{"attributes":{"data_source":{"id":"08c4a922-77b4-4250-a13a-9fddf147787c","type":"ColumnDataSource"},"glyph":{"id":"be28ff81-13f5-4a6a-87cf-cee63a353dc3","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"e3e96b56-e938-4dd9-b2c0-1d6f68b11997","type":"Line"},"selection_glyph":null,"view":{"id":"23b5c7bb-c0ba-4894-9e08-60789d7136bb","type":"CDSView"}},"id":"cb2f4e04-6c88-4f2b-bfd3-2f48d68738e8","type":"GlyphRenderer"},{"attributes":{},"id":"1195cf55-a404-443b-a6a9-38988b72673b","type":"BasicTickFormatter"},{"attributes":{"children":[{"id":"b3b1d5ac-0b55-42d5-9ecc-be3f1ccd9ec0","type":"Slider"},{"id":"537d39b8-3d33-4eb3-8650-611264eae516","type":"Slider"},{"id":"e6080249-a875-443f-8600-f850fcebe08c","type":"Slider"},{"id":"a7a30a9b-f1e5-4a9e-a1a9-a59b1f79ed41","type":"Slider"}]},"id":"0d2048b6-7525-490c-9e28-db36bd628f34","type":"WidgetBox"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"00afcf2f-3d63-4ad5-8c64-b31a05e86987","type":"BoxAnnotation"},{"attributes":{"callback":null},"id":"5765487d-b1a0-424f-9e36-8dbc469f05a1","type":"DataRange1d"},{"attributes":{"callback":{"id":"00c622b4-2925-4ca5-af9a-bcc7cf7a390d","type":"CustomJS"},"end":6.4,"start":0,"step":0.1,"title":"Phase","value":0},"id":"4a21206c-ec74-4810-ada3-8a2fff22c271","type":"Slider"},{"attributes":{},"id":"5a5eb415-fe8a-4f0e-aa66-b927d1ea45e8","type":"LinearScale"},{"attributes":{"callback":{"id":"d73793a0-67f5-4fdc-9dfb-90a371dc035e","type":"CustomJS"},"end":10,"start":0.1,"step":0.1,"title":"Amplitude","value":1},"id":"b3b1d5ac-0b55-42d5-9ecc-be3f1ccd9ec0","type":"Slider"},{"attributes":{"callback":{"id":"397a958b-44c9-4ed9-9006-60f700662505","type":"CustomJS"},"end":10,"start":0.1,"step":0.1,"title":"Amplitude","value":1},"id":"84284e10-679f-4deb-a411-414704175019","type":"Slider"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"e3e96b56-e938-4dd9-b2c0-1d6f68b11997","type":"Line"},{"attributes":{"callback":null,"end":10,"start":-10},"id":"337f4e1c-9d06-49d2-9fc7-13725bb39f04","type":"Range1d"},{"attributes":{},"id":"b2182d83-08ec-40e7-b28e-650592227237","type":"LinearScale"},{"attributes":{"plot":{"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},"ticker":{"id":"4e280448-750a-46cb-870c-92475291a7db","type":"BasicTicker"}},"id":"12f2c781-5f88-46a4-ad7a-70be9f1965fd","type":"Grid"},{"attributes":{},"id":"baedce77-8087-4a39-bfbc-a2ff936e6d8f","type":"LinearScale"},{"attributes":{"formatter":{"id":"68617b5b-9e89-496a-a9d8-747c6aa11595","type":"BasicTickFormatter"},"plot":{"id":"d06a2e27-c4ed-4e08-9ca6-dec70fc2c593","subtype":"Figure","type":"Plot"},"ticker":{"id":"7e767e1e-00b8-4ef7-b921-687287801292","type":"BasicTicker"}},"id":"1ac25c06-4428-445c-a046-b807fcd61bfd","type":"LinearAxis"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAFMCamZmZmZkTwDQzMzMzMxPAzszMzMzMEsBoZmZmZmYSwAIAAAAAABLAnJmZmZmZEcA2MzMzMzMRwNDMzMzMzBDAamZmZmZmEMAEAAAAAAAQwDwzMzMzMw/AcGZmZmZmDsCkmZmZmZkNwNjMzMzMzAzADAAAAAAADMBAMzMzMzMLwHRmZmZmZgrAqJmZmZmZCcDczMzMzMwIwBAAAAAAAAjARDMzMzMzB8B4ZmZmZmYGwKyZmZmZmQXA4MzMzMzMBMAUAAAAAAAEwEgzMzMzMwPAfGZmZmZmAsCwmZmZmZkBwOTMzMzMzADAGAAAAAAAAMCYZmZmZmb+vwDNzMzMzPy/aDMzMzMz+7/QmZmZmZn5vzgAAAAAAPi/oGZmZmZm9r8IzczMzMz0v3AzMzMzM/O/2JmZmZmZ8b9AAAAAAADwv1DNzMzMzOy/IJqZmZmZ6b/wZmZmZmbmv8AzMzMzM+O/kAAAAAAA4L/AmpmZmZnZv2A0MzMzM9O/AJyZmZmZyb+AnpmZmZm5vwAAAAAAABS9gJSZmZmZuT8Al5mZmZnJP+AxMzMzM9M/QJiZmZmZ2T+g/v/////fP4AyMzMzM+M/sGVmZmZm5j/gmJmZmZnpPxDMzMzMzOw/QP//////7z84mZmZmZnxP9AyMzMzM/M/aMzMzMzM9D8AZmZmZmb2P5j///////c/MJmZmZmZ+T/IMjMzMzP7P2DMzMzMzPw/+GVmZmZm/j+Q////////P5TMzMzMzABAYJmZmZmZAUAsZmZmZmYCQPgyMzMzMwNAxP//////A0CQzMzMzMwEQFyZmZmZmQVAKGZmZmZmBkD0MjMzMzMHQMD//////wdAjMzMzMzMCEBYmZmZmZkJQCRmZmZmZgpA8DIzMzMzC0C8//////8LQIjMzMzMzAxAVJmZmZmZDUAgZmZmZmYOQOwyMzMzMw9AuP//////D0BCZmZmZmYQQKjMzMzMzBBADjMzMzMzEUB0mZmZmZkRQNr//////xFAQGZmZmZmEkCmzMzMzMwSQAwzMzMzMxNAcpmZmZmZE0A=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"M5ng9YGv7j+k6yJ2QHDvP/89DJqU4O8/U+w3D1//7z+77F0TUczvP4RAxz3tR+8/9ChFMYZz7j8vigE6O1HtP+MS0N/y4+s/y8jielMv6j/EHtzduTfoP+WzHy0uAuY/vcDs/1aU4z9iGy7savTgP0DS8ENBUtw/eWK6fjtz1j/RTP8QyVrQP2QNt8oCMcQ/sTDoOTfjrT9vDJiCD0qlv17Utm04EMK/2i9I1rifzr9A5V0jcnDVv4qmJCQxWtu/eoWgu/x+4L9wys8Nrybjv13Rw/VkneW/6i5YLdHc57/U1qrZM9/pv81y6z9pn+u/HrTR6vYY7b83OBofF0juv9kVvYHCKe+/qZgv17e777/CQuDHgfzvv5NtLJt66++/FuFE382I779rHsX5d9Xuv/FVGqJD0+2/cGMtTMWE7L8zDQmPVO3qv5KoXZgDEem/Kv+/wpT05r8iGkZpbp3kv81BpReNEeK/7QZLdOiu3r96aCvpOuzYv1O7upXN6dK/FtU9I/9tyb8M0IvLro65vwAAAAAAABS9GcaLy66OuT8w0D0j/23JP++4upXN6dI/LGYr6Trs2D+7BEt06K7eP8VApReNEeI/LRlGaW6d5D9M/r/ClPTmP8unXZgDEek/hgwJj1Tt6j/fYi1MxYTsP31VGqJD0+0/FR7F+XfV7j/g4ETfzYjvP3xtLJt66+8/zELgx4H87z/SmC/Xt7vvPyIWvYHCKe8/nzgaHxdI7j+jtNHq9hjtP25z6z9pn+s/kNeq2TPf6T+/L1gt0dznP0nSw/VkneU/ccvPDa8m4z+MhqC7/H7gP8yoJCQxWts/m+ddI3Jw1T+1NEjWuJ/OP1HZtm04EMI/aiCYgg9KpT+5HOg5N+Otv3QIt8oCMcS/Zkr/EMla0L8iYLp+O3PWvwLQ8ENBUty/Uxou7Gr04L/Av+z/VpTjv/yyHy0uAua/8h3c3bk36L8TyOJ6Uy/qv0cS0N/y4+u/r4kBOjtR7b+SKEUxhnPuv0BAxz3tR++/l+xdE1HM779P7DcPX//vvxs+DJqU4O+/3+sidkBw778=","dtype":"float64","shape":[100]}}},"id":"8c3c4789-9ae9-42d3-80f7-27e80d58a21a","type":"ColumnDataSource"},{"attributes":{"callback":null},"id":"167f9a5d-fa71-4e1b-885f-1625d9f29b1b","type":"DataRange1d"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"9d8287f0-9b3f-47de-94a5-591adc59a0ea","type":"Line"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"37305650-8c49-45b1-9455-e0c8644fb37b","type":"BoxAnnotation"},{"attributes":{},"id":"284bbf91-0288-49ee-976a-f78b81bfa7c7","type":"ResetTool"},{"attributes":{"line_alpha":0.6,"line_color":"#1f77b4","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"75e04be5-e6e9-470f-b298-592fa6db3071","type":"Line"},{"attributes":{"data_source":{"id":"959803c4-225a-452d-8e89-58193d81cb7d","type":"ColumnDataSource"},"glyph":{"id":"75e04be5-e6e9-470f-b298-592fa6db3071","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"9d8287f0-9b3f-47de-94a5-591adc59a0ea","type":"Line"},"selection_glyph":null,"view":{"id":"0bcd2a4a-eb70-4bc2-85c7-f1adfa2fdc5f","type":"CDSView"}},"id":"9fefb425-b24c-40fc-b282-d970e388b4f5","type":"GlyphRenderer"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"41aabb79-37b6-4ae7-b4b6-11b70ca9fc6d","type":"Line"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"44d69179-0506-48ef-8872-3e74205932d5","type":"PanTool"},{"id":"f484f0c7-d10b-4813-83ee-dd4ac86f610d","type":"WheelZoomTool"},{"id":"59715e61-a1b9-4efe-a0b0-c39b10a530e9","type":"BoxZoomTool"},{"id":"b712048b-35ad-4935-ae1c-ead54b79e489","type":"SaveTool"},{"id":"6b502fcf-944d-4f79-b0d7-7ff8c02404b7","type":"ResetTool"},{"id":"ccb6843f-9ce1-4b27-8a84-a987a24a630b","type":"HelpTool"}]},"id":"7c64d5aa-6215-4c24-9014-113dfecba9b1","type":"Toolbar"},{"attributes":{"data_source":{"id":"0df2dffe-f023-469d-a8e7-d31674abbb0a","type":"ColumnDataSource"},"glyph":{"id":"442517bd-b021-469d-b8af-5c72c7db7f83","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"39bb4328-6aee-4ff1-baad-97a894968cdb","type":"Line"},"selection_glyph":null,"view":{"id":"5c23c9ca-3e0e-4330-83f0-ffa23cf4b5c0","type":"CDSView"}},"id":"bd13252c-9074-4e4b-b799-cbaa60b06ae9","type":"GlyphRenderer"},{"attributes":{},"id":"6915490c-1b04-4f3e-a128-fa1bca0fed20","type":"BasicTickFormatter"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"67cac86c-72b8-4585-a942-54988072032f","type":"Line"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"4c18dd2c-53ba-4f1c-a21e-6899582b243f","type":"BoxAnnotation"},{"attributes":{"dimension":1,"plot":{"id":"d06a2e27-c4ed-4e08-9ca6-dec70fc2c593","subtype":"Figure","type":"Plot"},"ticker":{"id":"7e767e1e-00b8-4ef7-b921-687287801292","type":"BasicTicker"}},"id":"b1ee50c1-13e3-46bb-9c77-97a9bd12d632","type":"Grid"},{"attributes":{"data_source":{"id":"8c3c4789-9ae9-42d3-80f7-27e80d58a21a","type":"ColumnDataSource"},"glyph":{"id":"41aabb79-37b6-4ae7-b4b6-11b70ca9fc6d","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"67cac86c-72b8-4585-a942-54988072032f","type":"Line"},"selection_glyph":null,"view":{"id":"a8e6f99a-34ab-43c7-a0d4-b3e541f0d288","type":"CDSView"}},"id":"20419767-e365-43ca-81e6-9825076ab4bb","type":"GlyphRenderer"},{"attributes":{},"id":"ccb6843f-9ce1-4b27-8a84-a987a24a630b","type":"HelpTool"},{"attributes":{},"id":"1bfc486c-93df-4d5b-930e-f9da5882e048","type":"WheelZoomTool"},{"attributes":{},"id":"35b56544-6da7-4271-8908-4f3fce307d92","type":"PanTool"},{"attributes":{"source":{"id":"8c3c4789-9ae9-42d3-80f7-27e80d58a21a","type":"ColumnDataSource"}},"id":"a8e6f99a-34ab-43c7-a0d4-b3e541f0d288","type":"CDSView"},{"attributes":{"overlay":{"id":"4c18dd2c-53ba-4f1c-a21e-6899582b243f","type":"BoxAnnotation"}},"id":"35d9a612-6554-4ad5-b26d-a0d65c2f377e","type":"BoxZoomTool"},{"attributes":{},"id":"7e767e1e-00b8-4ef7-b921-687287801292","type":"BasicTicker"},{"attributes":{"overlay":{"id":"37305650-8c49-45b1-9455-e0c8644fb37b","type":"BoxAnnotation"}},"id":"cfa6b691-70d9-4e1b-985f-97fd83304cfd","type":"BoxZoomTool"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"481e6e58-04f8-41c1-bdf2-aef7c1fca52f","type":"BoxAnnotation"},{"attributes":{"callback":null},"id":"8df8a96f-3cd7-4f95-83dd-c3825e64a567","type":"DataRange1d"},{"attributes":{},"id":"6f18901b-1365-4a7f-ad6c-3d848374a721","type":"BasicTickFormatter"},{"attributes":{},"id":"6d5f612b-a75c-4fce-9ee8-76858bce184d","type":"SaveTool"},{"attributes":{},"id":"c8f97c04-e883-4f1a-95b8-a696eae9a182","type":"LinearScale"},{"attributes":{"plot":{"id":"d06a2e27-c4ed-4e08-9ca6-dec70fc2c593","subtype":"Figure","type":"Plot"},"ticker":{"id":"e46e1c2b-1de3-4d31-851e-b78c6d56f88c","type":"BasicTicker"}},"id":"d5154776-fcea-4fce-9125-bd1d04a03ab5","type":"Grid"},{"attributes":{},"id":"0d5bb837-9dad-4302-903e-214ed8fae797","type":"BasicTickFormatter"},{"attributes":{},"id":"b2654f60-ef14-4c29-bf49-d0bec3fbc6eb","type":"WheelZoomTool"},{"attributes":{},"id":"8c423f85-7a8e-4981-b5a4-04ccb0b92e24","type":"ResetTool"},{"attributes":{"callback":{"id":"397a958b-44c9-4ed9-9006-60f700662505","type":"CustomJS"},"end":6.4,"start":0,"step":0.1,"title":"Phase","value":0},"id":"e0459d87-b4f8-4913-a8e8-5e5170aecc84","type":"Slider"},{"attributes":{"formatter":{"id":"c6af5d8e-5988-4f6a-a22a-789a6223bedf","type":"BasicTickFormatter"},"plot":{"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},"ticker":{"id":"a5a931e1-9bb1-496f-a27d-6a4c12de23b0","type":"BasicTicker"}},"id":"e15d54ce-0bbe-44f2-9634-c60f9414f4c4","type":"LinearAxis"},{"attributes":{"callback":null},"id":"feefab8e-27cc-4128-8f39-63df5dd3f66f","type":"DataRange1d"},{"attributes":{},"id":"3c7b2e62-5e5c-4a78-bd0b-2bcad77fc253","type":"HelpTool"},{"attributes":{},"id":"fc40d6d3-72cf-4cd1-baab-78e4b807bb1a","type":"SaveTool"},{"attributes":{"overlay":{"id":"6f5a4156-ca05-409e-ae10-312aeb1e4628","type":"BoxAnnotation"}},"id":"20ad2131-fbf2-451a-b088-cf33c3427790","type":"BoxZoomTool"},{"attributes":{"children":[{"id":"84284e10-679f-4deb-a411-414704175019","type":"Slider"},{"id":"f9d9e39b-1171-4cea-a527-88a635f89582","type":"Slider"},{"id":"e0459d87-b4f8-4913-a8e8-5e5170aecc84","type":"Slider"},{"id":"be8072dc-1e67-48b1-b4e2-adc17f65ae29","type":"Slider"}]},"id":"432f4674-bf4a-451d-9dee-6688059fbb55","type":"WidgetBox"},{"attributes":{},"id":"b2187cb4-e540-49ce-b81a-4be158a4879f","type":"SaveTool"},{"attributes":{"plot":null,"text":""},"id":"147df0ea-ce83-469e-a051-f5fe73fea531","type":"Title"},{"attributes":{"args":{"amp":{"id":"b3b1d5ac-0b55-42d5-9ecc-be3f1ccd9ec0","type":"Slider"},"freq":{"id":"537d39b8-3d33-4eb3-8650-611264eae516","type":"Slider"},"offset":{"id":"a7a30a9b-f1e5-4a9e-a1a9-a59b1f79ed41","type":"Slider"},"phase":{"id":"e6080249-a875-443f-8600-f850fcebe08c","type":"Slider"},"source":{"id":"959803c4-225a-452d-8e89-58193d81cb7d","type":"ColumnDataSource"}},"code":"\n    var data = source.data;\n    var A = amp.value;\n    var k = freq.value;\n    var phi = phase.value;\n    var B = offset.value;\n    x = data['x']\n    y = data['y']\n    for (i = 0; i &lt; x.length; i++) {\n        y[i] = B + A*Math.sin(k*x[i]+phi);\n    }\n    source.change.emit();\n"},"id":"d73793a0-67f5-4fdc-9dfb-90a371dc035e","type":"CustomJS"},{"attributes":{},"id":"30635d51-4c94-4436-b4dc-5152211127e1","type":"ResetTool"},{"attributes":{"plot":{"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},"ticker":{"id":"a5a931e1-9bb1-496f-a27d-6a4c12de23b0","type":"BasicTicker"}},"id":"413b7a2a-58cd-4570-a15b-4774445bc075","type":"Grid"},{"attributes":{},"id":"8cfc810e-d9d0-4b5a-97fb-5c2256f8a6f6","type":"LinearScale"},{"attributes":{"children":[{"id":"9e85073b-3834-446f-a92c-decb9137e4a7","subtype":"Figure","type":"Plot"},{"id":"432f4674-bf4a-451d-9dee-6688059fbb55","type":"WidgetBox"}]},"id":"fef30824-891d-4ef9-b09e-8566f6fd3b41","type":"Row"},{"attributes":{},"id":"f5769855-4441-4181-82d3-14e5e1cbfd66","type":"LinearScale"},{"attributes":{"callback":{"id":"397a958b-44c9-4ed9-9006-60f700662505","type":"CustomJS"},"end":10,"start":0.1,"step":0.1,"title":"Frequency","value":1},"id":"f9d9e39b-1171-4cea-a527-88a635f89582","type":"Slider"},{"attributes":{},"id":"e46e1c2b-1de3-4d31-851e-b78c6d56f88c","type":"BasicTicker"},{"attributes":{},"id":"3b7a65ea-a301-4bc1-9f72-04a488858860","type":"HelpTool"},{"attributes":{},"id":"51485646-f97e-46bb-8111-2cff98015aae","type":"BasicTicker"},{"attributes":{},"id":"2720b520-cac6-4614-bf27-4386d6b120bd","type":"BasicTicker"},{"attributes":{},"id":"e0596d28-fa72-4739-b79d-ecb0a0733236","type":"HelpTool"},{"attributes":{"overlay":{"id":"00afcf2f-3d63-4ad5-8c64-b31a05e86987","type":"BoxAnnotation"}},"id":"3818aea3-a7b5-4ca5-a0a9-0b682541f99b","type":"BoxZoomTool"},{"attributes":{},"id":"bded7dd3-fb10-4032-9eab-349a43ba917b","type":"WheelZoomTool"},{"attributes":{},"id":"4e280448-750a-46cb-870c-92475291a7db","type":"BasicTicker"},{"attributes":{"formatter":{"id":"0d5bb837-9dad-4302-903e-214ed8fae797","type":"BasicTickFormatter"},"plot":{"id":"f5e39ffe-00ae-43f4-9577-6cbf5a46e7bf","subtype":"Figure","type":"Plot"},"ticker":{"id":"2720b520-cac6-4614-bf27-4386d6b120bd","type":"BasicTicker"}},"id":"8d92c29c-89c3-40d6-9e49-651a4c13ac41","type":"LinearAxis"},{"attributes":{"callback":{"id":"397a958b-44c9-4ed9-9006-60f700662505","type":"CustomJS"},"end":5,"start":-5,"step":0.1,"title":"Offset","value":0},"id":"be8072dc-1e67-48b1-b4e2-adc17f65ae29","type":"Slider"},{"attributes":{"callback":{"id":"d73793a0-67f5-4fdc-9dfb-90a371dc035e","type":"CustomJS"},"end":5,"start":-5,"step":0.1,"title":"Offset","value":0},"id":"a7a30a9b-f1e5-4a9e-a1a9-a59b1f79ed41","type":"Slider"},{"attributes":{},"id":"f5d8b6ef-a1d6-4550-a985-4d3a707ba7bb","type":"PanTool"},{"attributes":{},"id":"f484f0c7-d10b-4813-83ee-dd4ac86f610d","type":"WheelZoomTool"},{"attributes":{"plot":null,"text":""},"id":"ccbe5382-ecae-4e55-8ac3-610208a92c7d","type":"Title"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"3556bfe2-bab1-45cc-a066-591cab89b812","type":"Line"},{"attributes":{"formatter":{"id":"da3e277b-51fd-405f-aa8f-94206ec769a4","type":"BasicTickFormatter"},"plot":{"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},"ticker":{"id":"51485646-f97e-46bb-8111-2cff98015aae","type":"BasicTicker"}},"id":"dd362f70-a96b-41c1-91d0-784da0cd0205","type":"LinearAxis"},{"attributes":{},"id":"a5a931e1-9bb1-496f-a27d-6a4c12de23b0","type":"BasicTicker"},{"attributes":{},"id":"fb163469-2e57-43e6-bdd8-23f69cfd8b8a","type":"BasicTickFormatter"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"6f5a4156-ca05-409e-ae10-312aeb1e4628","type":"BoxAnnotation"},{"attributes":{"formatter":{"id":"2e33a094-8602-4d4c-97df-714b0c01c3ba","type":"BasicTickFormatter"},"plot":{"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},"ticker":{"id":"4e280448-750a-46cb-870c-92475291a7db","type":"BasicTicker"}},"id":"8741a13f-2118-4351-9d91-504a45f7fe04","type":"LinearAxis"},{"attributes":{},"id":"2e33a094-8602-4d4c-97df-714b0c01c3ba","type":"BasicTickFormatter"},{"attributes":{},"id":"a398d591-409e-45bd-8152-dbcc472b8636","type":"PanTool"},{"attributes":{"formatter":{"id":"50165239-a8a4-4f1a-bd1c-9cb9f945d866","type":"BasicTickFormatter"},"plot":{"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},"ticker":{"id":"c159ca20-b2e9-4e75-9ee1-8ce417051b28","type":"BasicTicker"}},"id":"6aedd8c6-8bc2-48c0-b336-f90cf146a6c3","type":"LinearAxis"},{"attributes":{},"id":"7943efd9-9aaa-4f4b-acef-c8f430b76616","type":"LinearScale"},{"attributes":{"callback":{"id":"d73793a0-67f5-4fdc-9dfb-90a371dc035e","type":"CustomJS"},"end":10,"start":0.1,"step":0.1,"title":"Frequency","value":1},"id":"537d39b8-3d33-4eb3-8650-611264eae516","type":"Slider"},{"attributes":{"callback":{"id":"d73793a0-67f5-4fdc-9dfb-90a371dc035e","type":"CustomJS"},"end":6.4,"start":0,"step":0.1,"title":"Phase","value":0},"id":"e6080249-a875-443f-8600-f850fcebe08c","type":"Slider"},{"attributes":{"dimension":1,"plot":{"id":"025f068b-88d7-4051-9a74-8b3cf4ca3322","subtype":"Figure","type":"Plot"},"ticker":{"id":"51485646-f97e-46bb-8111-2cff98015aae","type":"BasicTicker"}},"id":"d75cca78-1048-4a3e-ab43-0c0e98df5b36","type":"Grid"},{"attributes":{"source":{"id":"2a31d9c6-d0f0-4d27-882a-06494c043151","type":"ColumnDataSource"}},"id":"868d4f51-2b41-47f2-acf2-f1d160fd0999","type":"CDSView"},{"attributes":{"formatter":{"id":"fb163469-2e57-43e6-bdd8-23f69cfd8b8a","type":"BasicTickFormatter"},"plot":{"id":"f5e39ffe-00ae-43f4-9577-6cbf5a46e7bf","subtype":"Figure","type":"Plot"},"ticker":{"id":"0811dd43-c233-4225-b002-115ac341ec22","type":"BasicTicker"}},"id":"500c3f32-3892-4bfc-9e8e-8ad7e1a8d123","type":"LinearAxis"},{"attributes":{"children":[{"id":"d06a2e27-c4ed-4e08-9ca6-dec70fc2c593","subtype":"Figure","type":"Plot"},{"id":"0d2048b6-7525-490c-9e28-db36bd628f34","type":"WidgetBox"}]},"id":"49f6f981-c30b-4abe-a9c5-eb13a8d64ac1","type":"Row"},{"attributes":{"data_source":{"id":"2a31d9c6-d0f0-4d27-882a-06494c043151","type":"ColumnDataSource"},"glyph":{"id":"3556bfe2-bab1-45cc-a066-591cab89b812","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"04f140b8-754a-4261-98cb-26b1ff1f2b06","type":"Line"},"selection_glyph":null,"view":{"id":"868d4f51-2b41-47f2-acf2-f1d160fd0999","type":"CDSView"}},"id":"0b8ad283-579c-4eee-bd94-57f8629d95f9","type":"GlyphRenderer"},{"attributes":{"plot":null,"text":""},"id":"e309628c-db02-475a-986b-14c76d3a98ab","type":"Title"},{"attributes":{},"id":"50165239-a8a4-4f1a-bd1c-9cb9f945d866","type":"BasicTickFormatter"},{"attributes":{"plot":null,"text":""},"id":"cebf0126-7d05-4538-b776-62af024d3b43","type":"Title"},{"attributes":{"children":[{"id":"ab96f988-f867-4e43-8162-160adc103d5e","type":"Slider"},{"id":"e0dcba8c-25ec-4af7-a915-3f5aa718acf1","type":"Slider"},{"id":"4a21206c-ec74-4810-ada3-8a2fff22c271","type":"Slider"},{"id":"bda10ed0-05e2-41e3-9fc2-cbe8f5ac3624","type":"Slider"}]},"id":"d02badee-2f93-4932-a5c9-566da115a4a2","type":"WidgetBox"},{"attributes":{},"id":"0811dd43-c233-4225-b002-115ac341ec22","type":"BasicTicker"},{"attributes":{"children":[{"id":"f5e39ffe-00ae-43f4-9577-6cbf5a46e7bf","subtype":"Figure","type":"Plot"},{"id":"d02badee-2f93-4932-a5c9-566da115a4a2","type":"WidgetBox"}]},"id":"beee17a2-17b5-40c8-b43d-aea7cf3aa1eb","type":"Row"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"04f140b8-754a-4261-98cb-26b1ff1f2b06","type":"Line"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"d953b8ce-b1cc-47f4-8a1d-742f35c86af4","type":"Line"},{"attributes":{"dimension":1,"plot":{"id":"f5e39ffe-00ae-43f4-9577-6cbf5a46e7bf","subtype":"Figure","type":"Plot"},"ticker":{"id":"0811dd43-c233-4225-b002-115ac341ec22","type":"BasicTicker"}},"id":"a8f59fb6-efb9-4211-b60b-4fc603487242","type":"Grid"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"39bb4328-6aee-4ff1-baad-97a894968cdb","type":"Line"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAFMCamZmZmZkTwDQzMzMzMxPAzszMzMzMEsBoZmZmZmYSwAIAAAAAABLAnJmZmZmZEcA2MzMzMzMRwNDMzMzMzBDAamZmZmZmEMAEAAAAAAAQwDwzMzMzMw/AcGZmZmZmDsCkmZmZmZkNwNjMzMzMzAzADAAAAAAADMBAMzMzMzMLwHRmZmZmZgrAqJmZmZmZCcDczMzMzMwIwBAAAAAAAAjARDMzMzMzB8B4ZmZmZmYGwKyZmZmZmQXA4MzMzMzMBMAUAAAAAAAEwEgzMzMzMwPAfGZmZmZmAsCwmZmZmZkBwOTMzMzMzADAGAAAAAAAAMCYZmZmZmb+vwDNzMzMzPy/aDMzMzMz+7/QmZmZmZn5vzgAAAAAAPi/oGZmZmZm9r8IzczMzMz0v3AzMzMzM/O/2JmZmZmZ8b9AAAAAAADwv1DNzMzMzOy/IJqZmZmZ6b/wZmZmZmbmv8AzMzMzM+O/kAAAAAAA4L/AmpmZmZnZv2A0MzMzM9O/AJyZmZmZyb+AnpmZmZm5vwAAAAAAABS9gJSZmZmZuT8Al5mZmZnJP+AxMzMzM9M/QJiZmZmZ2T+g/v/////fP4AyMzMzM+M/sGVmZmZm5j/gmJmZmZnpPxDMzMzMzOw/QP//////7z84mZmZmZnxP9AyMzMzM/M/aMzMzMzM9D8AZmZmZmb2P5j///////c/MJmZmZmZ+T/IMjMzMzP7P2DMzMzMzPw/+GVmZmZm/j+Q////////P5TMzMzMzABAYJmZmZmZAUAsZmZmZmYCQPgyMzMzMwNAxP//////A0CQzMzMzMwEQFyZmZmZmQVAKGZmZmZmBkD0MjMzMzMHQMD//////wdAjMzMzMzMCEBYmZmZmZkJQCRmZmZmZgpA8DIzMzMzC0C8//////8LQIjMzMzMzAxAVJmZmZmZDUAgZmZmZmYOQOwyMzMzMw9AuP//////D0BCZmZmZmYQQKjMzMzMzBBADjMzMzMzEUB0mZmZmZkRQNr//////xFAQGZmZmZmEkCmzMzMzMwSQAwzMzMzMxNAcpmZmZmZE0A=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"M5ng9YGv7j+k6yJ2QHDvP/89DJqU4O8/U+w3D1//7z+77F0TUczvP4RAxz3tR+8/9ChFMYZz7j8vigE6O1HtP+MS0N/y4+s/y8jielMv6j/EHtzduTfoP+WzHy0uAuY/vcDs/1aU4z9iGy7savTgP0DS8ENBUtw/eWK6fjtz1j/RTP8QyVrQP2QNt8oCMcQ/sTDoOTfjrT9vDJiCD0qlv17Utm04EMK/2i9I1rifzr9A5V0jcnDVv4qmJCQxWtu/eoWgu/x+4L9wys8Nrybjv13Rw/VkneW/6i5YLdHc57/U1qrZM9/pv81y6z9pn+u/HrTR6vYY7b83OBofF0juv9kVvYHCKe+/qZgv17e777/CQuDHgfzvv5NtLJt66++/FuFE382I779rHsX5d9Xuv/FVGqJD0+2/cGMtTMWE7L8zDQmPVO3qv5KoXZgDEem/Kv+/wpT05r8iGkZpbp3kv81BpReNEeK/7QZLdOiu3r96aCvpOuzYv1O7upXN6dK/FtU9I/9tyb8M0IvLro65vwAAAAAAABS9GcaLy66OuT8w0D0j/23JP++4upXN6dI/LGYr6Trs2D+7BEt06K7eP8VApReNEeI/LRlGaW6d5D9M/r/ClPTmP8unXZgDEek/hgwJj1Tt6j/fYi1MxYTsP31VGqJD0+0/FR7F+XfV7j/g4ETfzYjvP3xtLJt66+8/zELgx4H87z/SmC/Xt7vvPyIWvYHCKe8/nzgaHxdI7j+jtNHq9hjtP25z6z9pn+s/kNeq2TPf6T+/L1gt0dznP0nSw/VkneU/ccvPDa8m4z+MhqC7/H7gP8yoJCQxWts/m+ddI3Jw1T+1NEjWuJ/OP1HZtm04EMI/aiCYgg9KpT+5HOg5N+Otv3QIt8oCMcS/Zkr/EMla0L8iYLp+O3PWvwLQ8ENBUty/Uxou7Gr04L/Av+z/VpTjv/yyHy0uAua/8h3c3bk36L8TyOJ6Uy/qv0cS0N/y4+u/r4kBOjtR7b+SKEUxhnPuv0BAxz3tR++/l+xdE1HM779P7DcPX//vvxs+DJqU4O+/3+sidkBw778=","dtype":"float64","shape":[100]}}},"id":"2a31d9c6-d0f0-4d27-882a-06494c043151","type":"ColumnDataSource"},{"attributes":{"dimension":1,"plot":{"id":"b90f0883-95b6-4cd2-b378-ceab8964a7b5","subtype":"Figure","type":"Plot"},"ticker":{"id":"c159ca20-b2e9-4e75-9ee1-8ce417051b28","type":"BasicTicker"}},"id":"ced5469e-a711-4588-afca-f1dabd241d07","type":"Grid"},{"attributes":{"source":{"id":"d29c79fa-76e7-49d7-86af-613b8a30e436","type":"ColumnDataSource"}},"id":"1d22a5ff-7969-43d0-a244-d06d00adb013","type":"CDSView"},{"attributes":{"source":{"id":"0df2dffe-f023-469d-a8e7-d31674abbb0a","type":"ColumnDataSource"}},"id":"5c23c9ca-3e0e-4330-83f0-ffa23cf4b5c0","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"dcd07e66-8b65-4886-a0e6-0187c3783c46","type":"Line"},{"attributes":{},"id":"44d69179-0506-48ef-8872-3e74205932d5","type":"PanTool"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAFMCamZmZmZkTwDQzMzMzMxPAzszMzMzMEsBoZmZmZmYSwAIAAAAAABLAnJmZmZmZEcA2MzMzMzMRwNDMzMzMzBDAamZmZmZmEMAEAAAAAAAQwDwzMzMzMw/AcGZmZmZmDsCkmZmZmZkNwNjMzMzMzAzADAAAAAAADMBAMzMzMzMLwHRmZmZmZgrAqJmZmZmZCcDczMzMzMwIwBAAAAAAAAjARDMzMzMzB8B4ZmZmZmYGwKyZmZmZmQXA4MzMzMzMBMAUAAAAAAAEwEgzMzMzMwPAfGZmZmZmAsCwmZmZmZkBwOTMzMzMzADAGAAAAAAAAMCYZmZmZmb+vwDNzMzMzPy/aDMzMzMz+7/QmZmZmZn5vzgAAAAAAPi/oGZmZmZm9r8IzczMzMz0v3AzMzMzM/O/2JmZmZmZ8b9AAAAAAADwv1DNzMzMzOy/IJqZmZmZ6b/wZmZmZmbmv8AzMzMzM+O/kAAAAAAA4L/AmpmZmZnZv2A0MzMzM9O/AJyZmZmZyb+AnpmZmZm5vwAAAAAAABS9gJSZmZmZuT8Al5mZmZnJP+AxMzMzM9M/QJiZmZmZ2T+g/v/////fP4AyMzMzM+M/sGVmZmZm5j/gmJmZmZnpPxDMzMzMzOw/QP//////7z84mZmZmZnxP9AyMzMzM/M/aMzMzMzM9D8AZmZmZmb2P5j///////c/MJmZmZmZ+T/IMjMzMzP7P2DMzMzMzPw/+GVmZmZm/j+Q////////P5TMzMzMzABAYJmZmZmZAUAsZmZmZmYCQPgyMzMzMwNAxP//////A0CQzMzMzMwEQFyZmZmZmQVAKGZmZmZmBkD0MjMzMzMHQMD//////wdAjMzMzMzMCEBYmZmZmZkJQCRmZmZmZgpA8DIzMzMzC0C8//////8LQIjMzMzMzAxAVJmZmZmZDUAgZmZmZmYOQOwyMzMzMw9AuP//////D0BCZmZmZmYQQKjMzMzMzBBADjMzMzMzEUB0mZmZmZkRQNr//////xFAQGZmZmZmEkCmzMzMzMwSQAwzMzMzMxNAcpmZmZmZE0A=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"M5ng9YGv7j+k6yJ2QHDvP/89DJqU4O8/U+w3D1//7z+77F0TUczvP4RAxz3tR+8/9ChFMYZz7j8vigE6O1HtP+MS0N/y4+s/y8jielMv6j/EHtzduTfoP+WzHy0uAuY/vcDs/1aU4z9iGy7savTgP0DS8ENBUtw/eWK6fjtz1j/RTP8QyVrQP2QNt8oCMcQ/sTDoOTfjrT9vDJiCD0qlv17Utm04EMK/2i9I1rifzr9A5V0jcnDVv4qmJCQxWtu/eoWgu/x+4L9wys8Nrybjv13Rw/VkneW/6i5YLdHc57/U1qrZM9/pv81y6z9pn+u/HrTR6vYY7b83OBofF0juv9kVvYHCKe+/qZgv17e777/CQuDHgfzvv5NtLJt66++/FuFE382I779rHsX5d9Xuv/FVGqJD0+2/cGMtTMWE7L8zDQmPVO3qv5KoXZgDEem/Kv+/wpT05r8iGkZpbp3kv81BpReNEeK/7QZLdOiu3r96aCvpOuzYv1O7upXN6dK/FtU9I/9tyb8M0IvLro65vwAAAAAAABS9GcaLy66OuT8w0D0j/23JP++4upXN6dI/LGYr6Trs2D+7BEt06K7eP8VApReNEeI/LRlGaW6d5D9M/r/ClPTmP8unXZgDEek/hgwJj1Tt6j/fYi1MxYTsP31VGqJD0+0/FR7F+XfV7j/g4ETfzYjvP3xtLJt66+8/zELgx4H87z/SmC/Xt7vvPyIWvYHCKe8/nzgaHxdI7j+jtNHq9hjtP25z6z9pn+s/kNeq2TPf6T+/L1gt0dznP0nSw/VkneU/ccvPDa8m4z+MhqC7/H7gP8yoJCQxWts/m+ddI3Jw1T+1NEjWuJ/OP1HZtm04EMI/aiCYgg9KpT+5HOg5N+Otv3QIt8oCMcS/Zkr/EMla0L8iYLp+O3PWvwLQ8ENBUty/Uxou7Gr04L/Av+z/VpTjv/yyHy0uAua/8h3c3bk36L8TyOJ6Uy/qv0cS0N/y4+u/r4kBOjtR7b+SKEUxhnPuv0BAxz3tR++/l+xdE1HM779P7DcPX//vvxs+DJqU4O+/3+sidkBw778=","dtype":"float64","shape":[100]}}},"id":"d29c79fa-76e7-49d7-86af-613b8a30e436","type":"ColumnDataSource"},{"attributes":{"callback":{"id":"00c622b4-2925-4ca5-af9a-bcc7cf7a390d","type":"CustomJS"},"end":5,"start":-5,"step":0.1,"title":"Offset","value":0},"id":"bda10ed0-05e2-41e3-9fc2-cbe8f5ac3624","type":"Slider"},{"attributes":{},"id":"af97642d-848a-4657-86c8-18caef9acc80","type":"ResetTool"},{"attributes":{"data_source":{"id":"d29c79fa-76e7-49d7-86af-613b8a30e436","type":"ColumnDataSource"},"glyph":{"id":"d953b8ce-b1cc-47f4-8a1d-742f35c86af4","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"dcd07e66-8b65-4886-a0e6-0187c3783c46","type":"Line"},"selection_glyph":null,"view":{"id":"1d22a5ff-7969-43d0-a244-d06d00adb013","type":"CDSView"}},"id":"1db047e9-5900-4f6d-b5a7-d5aff16b4770","type":"GlyphRenderer"},{"attributes":{"plot":{"id":"f5e39ffe-00ae-43f4-9577-6cbf5a46e7bf","subtype":"Figure","type":"Plot"},"ticker":{"id":"2720b520-cac6-4614-bf27-4386d6b120bd","type":"BasicTicker"}},"id":"f8895768-5b0c-40b9-a4ec-c5cd3c2f707c","type":"Grid"},{"attributes":{"below":[{"id":"8d92c29c-89c3-40d6-9e49-651a4c13ac41","type":"LinearAxis"}],"left":[{"id":"500c3f32-3892-4bfc-9e8e-8ad7e1a8d123","type":"LinearAxis"}],"plot_height":400,"plot_width":400,"renderers":[{"id":"8d92c29c-89c3-40d6-9e49-651a4c13ac41","type":"LinearAxis"},{"id":"f8895768-5b0c-40b9-a4ec-c5cd3c2f707c","type":"Grid"},{"id":"500c3f32-3892-4bfc-9e8e-8ad7e1a8d123","type":"LinearAxis"},{"id":"a8f59fb6-efb9-4211-b60b-4fc603487242","type":"Grid"},{"id":"6f5a4156-ca05-409e-ae10-312aeb1e4628","type":"BoxAnnotation"},{"id":"bd13252c-9074-4e4b-b799-cbaa60b06ae9","type":"GlyphRenderer"}],"title":{"id":"e309628c-db02-475a-986b-14c76d3a98ab","type":"Title"},"toolbar":{"id":"376694f2-29b5-4cc5-bf57-d2c898627bb0","type":"Toolbar"},"x_range":{"id":"8df8a96f-3cd7-4f95-83dd-c3825e64a567","type":"DataRange1d"},"x_scale":{"id":"7943efd9-9aaa-4f4b-acef-c8f430b76616","type":"LinearScale"},"y_range":{"id":"0726e76d-9395-4a17-812a-85dcc87c740a","type":"Range1d"},"y_scale":{"id":"8cfc810e-d9d0-4b5a-97fb-5c2256f8a6f6","type":"LinearScale"}},"id":"f5e39ffe-00ae-43f4-9577-6cbf5a46e7bf","subtype":"Figure","type":"Plot"},{"attributes":{"args":{"amp":{"id":"ab96f988-f867-4e43-8162-160adc103d5e","type":"Slider"},"freq":{"id":"e0dcba8c-25ec-4af7-a915-3f5aa718acf1","type":"Slider"},"offset":{"id":"bda10ed0-05e2-41e3-9fc2-cbe8f5ac3624","type":"Slider"},"phase":{"id":"4a21206c-ec74-4810-ada3-8a2fff22c271","type":"Slider"},"source":{"id":"0df2dffe-f023-469d-a8e7-d31674abbb0a","type":"ColumnDataSource"}},"code":"\n    var data = source.data;\n    var A = amp.value;\n    var k = freq.value;\n    var phi = phase.value;\n    var B = offset.value;\n    x = data['x']\n    y = data['y']\n    for (i = 0; i &lt; x.length; i++) {\n        y[i] = B + A*Math.sin(k*x[i]+phi);\n    }\n    source.change.emit();\n"},"id":"00c622b4-2925-4ca5-af9a-bcc7cf7a390d","type":"CustomJS"},{"attributes":{"formatter":{"id":"1195cf55-a404-443b-a6a9-38988b72673b","type":"BasicTickFormatter"},"plot":{"id":"d06a2e27-c4ed-4e08-9ca6-dec70fc2c593","subtype":"Figure","type":"Plot"},"ticker":{"id":"e46e1c2b-1de3-4d31-851e-b78c6d56f88c","type":"BasicTicker"}},"id":"ebd39a2b-e7d4-4ded-910a-41e56914f3d4","type":"LinearAxis"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"ef916a0f-17f9-47fa-9b91-cd39031324f7","type":"PanTool"},{"id":"1bfc486c-93df-4d5b-930e-f9da5882e048","type":"WheelZoomTool"},{"id":"20ad2131-fbf2-451a-b088-cf33c3427790","type":"BoxZoomTool"},{"id":"13beec82-da72-4954-b0a4-bd02a03353eb","type":"SaveTool"},{"id":"284bbf91-0288-49ee-976a-f78b81bfa7c7","type":"ResetTool"},{"id":"742c1cc8-2c58-40a8-8573-65a22a141647","type":"HelpTool"}]},"id":"376694f2-29b5-4cc5-bf57-d2c898627bb0","type":"Toolbar"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAAAC6V5cDY4WUP7pXlwNjhaQ/lwNjhRTIrj+6V5cDY4W0P6gtfcS7prk/lwNjhRTIvj/DbCSjtvTBP7pXlwNjhcQ/sUIKZA8Wxz+oLX3Eu6bJP6AY8CRoN8w/lwNjhRTIzj9H9+pyYKzQP8NsJKO29NE/PuJd0ww90z+6V5cDY4XUPzbN0DO5zdU/sUIKZA8W1z8tuEOUZV7YP6gtfcS7ptk/JKO29BHv2j+gGPAkaDfcPxuOKVW+f90/lwNjhRTI3j+JPM5aNQjgP0f36nJgrOA/BbIHi4tQ4T/DbCSjtvThP4EnQbvhmOI/PuJd0ww94z/8nHrrN+HjP7pXlwNjheQ/eBK0G44p5T82zdAzuc3lP/OH7UvkceY/sUIKZA8W5z9v/SZ8OrrnPy24Q5RlXug/63JgrJAC6T+oLX3Eu6bpP2bomdzmSuo/JKO29BHv6j/iXdMMPZPrP6AY8CRoN+w/XtMMPZPb7D8bjilVvn/tP9lIRm3pI+4/lwNjhRTI7j9Vvn+dP2zvP4k8zlo1CPA/6Jnc5kpa8D9H9+pyYKzwP6ZU+f51/vA/BbIHi4tQ8T9kDxYXoaLxP8NsJKO29PE/IsoyL8xG8j+BJ0G74ZjyP9+ET0f36vI/PuJd0ww98z+dP2xfIo/zP/yceus34fM/W/qId00z9D+6V5cDY4X0Pxm1pY941/Q/eBK0G44p9T/Xb8Kno3v1PzbN0DO5zfU/lSrfv84f9j/zh+1L5HH2P1Ll+9f5w/Y/sUIKZA8W9z8QoBjwJGj3P2/9Jnw6uvc/zlo1CFAM+D8tuEOUZV74P4wVUiB7sPg/63JgrJAC+T9K0G44plT5P6gtfcS7pvk/B4uLUNH4+T9m6Jnc5kr6P8VFqGj8nPo/JKO29BHv+j+DAMWAJ0H7P+Jd0ww9k/s/QbvhmFLl+z+gGPAkaDf8P/91/rB9ifw/XtMMPZPb/D+8MBvJqC39PxuOKVW+f/0/eus34dPR/T/ZSEZt6SP+PzimVPn+df4/lwNjhRTI/j/2YHERKhr/P1W+f50/bP8/tBuOKVW+/z+JPM5aNQgAQDlr1SBAMQBA6Jnc5kpaAECYyOOsVYMAQEf36nJgrABA9yXyOGvVAECmVPn+df4AQFWDAMWAJwFABbIHi4tQAUC04A5RlnkBQGQPFhehogFAEz4d3avLAUDDbCSjtvQBQHKbK2nBHQJAIsoyL8xGAkDR+Dn11m8CQIEnQbvhmAJAMFZIgezBAkDfhE9H9+oCQI+zVg0CFANAPuJd0ww9A0DuEGWZF2YDQJ0/bF8ijwNATW5zJS24A0D8nHrrN+EDQKzLgbFCCgRAW/qId00zBEALKZA9WFwEQLpXlwNjhQRAaYaeyW2uBEAZtaWPeNcEQMjjrFWDAAVAeBK0G44pBUAnQbvhmFIFQNdvwqejewVAhp7Jba6kBUA2zdAzuc0FQOX71/nD9gVAlSrfv84fBkBEWeaF2UgGQPOH7UvkcQZAo7b0Ee+aBkBS5fvX+cMGQAIUA54E7QZAsUIKZA8WB0BhcREqGj8HQBCgGPAkaAdAwM4fti+RB0Bv/SZ8OroHQB8sLkJF4wdAzlo1CFAMCEB9iTzOWjUIQC24Q5RlXghA3OZKWnCHCECMFVIge7AIQDtEWeaF2QhA63JgrJACCUCaoWdymysJQErQbjimVAlA+f51/rB9CUCoLX3Eu6YJQFhchIrGzwlAB4uLUNH4CUC3uZIW3CEKQGbomdzmSgpAFhehovFzCkDFRaho/JwKQHV0ry4HxgpAJKO29BHvCkDU0b26HBgLQIMAxYAnQQtAMi/MRjJqC0DiXdMMPZMLQJGM2tJHvAtAQbvhmFLlC0Dw6eheXQ4MQKAY8CRoNwxAT0f36nJgDED/df6wfYkMQK6kBXeIsgxAXtMMPZPbDEANAhQDngQNQLwwG8moLQ1AbF8ij7NWDUAbjilVvn8NQMu8MBvJqA1Aeus34dPRDUAqGj+n3voNQNlIRm3pIw5AiXdNM/RMDkA4plT5/nUOQOjUW78Jnw5AlwNjhRTIDkBGMmpLH/EOQPZgcREqGg9ApY941zRDD0BVvn+dP2wPQATthmNKlQ9AtBuOKVW+D0BjSpXvX+cPQIk8zlo1CBBA4dPRvbocEEA5a9UgQDEQQJAC2YPFRRBA6Jnc5kpaEEBAMeBJ0G4QQJjI46xVgxBA71/nD9uXEEBH9+pyYKwQQJ+O7tXlwBBA9yXyOGvVEEBOvfWb8OkQQKZU+f51/hBA/uv8YfsSEUBVgwDFgCcRQK0aBCgGPBFABbIHi4tQEUBdSQvuEGURQLTgDlGWeRFADHgStBuOEUBkDxYXoaIRQLymGXomtxFAEz4d3avLEUBr1SBAMeARQMNsJKO29BFAGgQoBjwJEkBymytpwR0SQMoyL8xGMhJAIsoyL8xGEkB5YTaSUVsSQNH4OfXWbxJAKZA9WFyEEkCBJ0G74ZgSQNi+RB5nrRJAMFZIgezBEkCI7UvkcdYSQN+ET0f36hJANxxTqnz/EkCPs1YNAhQTQOdKWnCHKBNAPuJd0ww9E0CWeWE2klETQO4QZZkXZhNARqho/Jx6E0CdP2xfIo8TQPXWb8KnoxNATW5zJS24E0CkBXeIsswTQPyceus34RNAVDR+Tr31E0Csy4GxQgoUQANjhRTIHhRAW/qId00zFECzkYza0kcUQAspkD1YXBRAYsCToN1wFEC6V5cDY4UUQBLvmmbomRRAaYaeyW2uFEDBHaIs88IUQBm1pY941xRAcUyp8v3rFEDI46xVgwAVQCB7sLgIFRVAeBK0G44pFUDQqbd+Ez4VQCdBu+GYUhVAf9i+RB5nFUDXb8Kno3sVQC4HxgopkBVAhp7Jba6kFUDeNc3QM7kVQDbN0DO5zRVAjWTUlj7iFUDl+9f5w/YVQD2T21xJCxZAlSrfv84fFkDsweIiVDQWQERZ5oXZSBZAnPDp6F5dFkDzh+1L5HEWQEsf8a5phhZAo7b0Ee+aFkD7Tfh0dK8WQFLl+9f5wxZAqnz/On/YFkACFAOeBO0WQFqrBgGKARdAsUIKZA8WF0AJ2g3HlCoXQGFxESoaPxdAuAgVjZ9TF0AQoBjwJGgXQGg3HFOqfBdAwM4fti+RF0AXZiMZtaUXQG/9Jnw6uhdAx5Qq37/OF0AfLC5CReMXQHbDMaXK9xdAzlo1CFAMGEAm8jhr1SAYQH2JPM5aNRhA1SBAMeBJGEAtuEOUZV4YQIVPR/fqchhA3OZKWnCHGEA0fk699ZsYQIwVUiB7sBhA5KxVgwDFGEA7RFnmhdkYQJPbXEkL7hhA63JgrJACGUBCCmQPFhcZQJqhZ3KbKxlA8jhr1SBAGUBK0G44plQZQKFncpsraRlA+f51/rB9GUBRlnlhNpIZQKgtfcS7phlAAMWAJ0G7GUBYXISKxs8ZQLDzh+1L5BlAB4uLUNH4GUBfIo+zVg0aQLe5khbcIRpAD1GWeWE2GkBm6Jnc5koaQL5/nT9sXxpAFhehovFzGkBtrqQFd4gaQMVFqGj8nBpAHd2ry4GxGkB1dK8uB8YaQMwLs5GM2hpAJKO29BHvGkB8OrpXlwMbQNTRvbocGBtAK2nBHaIsG0CDAMWAJ0EbQNuXyOOsVRtAMi/MRjJqG0CKxs+pt34bQOJd0ww9kxtAOvXWb8KnG0CRjNrSR7wbQOkj3jXN0BtAQbvhmFLlG0CZUuX71/kbQPDp6F5dDhxASIHsweIiHECgGPAkaDccQPev84ftSxxAT0f36nJgHECn3vpN+HQcQP91/rB9iRxAVg0CFAOeHECupAV3iLIcQAY8CdoNxxxAXtMMPZPbHEC1ahCgGPAcQA0CFAOeBB1AZZkXZiMZHUC8MBvJqC0dQBTIHiwuQh1AbF8ij7NWHUDE9iXyOGsdQBuOKVW+fx1AcyUtuEOUHUDLvDAbyagdQCNUNH5OvR1Aeus34dPRHUDSgjtEWeYdQCoaP6fe+h1AgbFCCmQPHkDZSEZt6SMeQDHgSdBuOB5AiXdNM/RMHkDgDlGWeWEeQDimVPn+dR5AkD1YXISKHkDo1Fu/CZ8eQD9sXyKPsx5AlwNjhRTIHkDvmmbomdweQEYyaksf8R5AnsltrqQFH0D2YHERKhofQE74dHSvLh9ApY941zRDH0D9Jnw6ulcfQFW+f50/bB9ArVWDAMWAH0AE7YZjSpUfQFyEisbPqR9AtBuOKVW+H0ALs5GM2tIfQGNKle9f5x9Au+GYUuX7H0CJPM5aNQggQDUIUAx4EiBA4dPRvbocIECNn1Nv/SYgQDlr1SBAMSBA5TZX0oI7IECQAtmDxUUgQDzOWjUIUCBA6Jnc5kpaIECUZV6YjWQgQEAx4EnQbiBA7Pxh+xJ5IECYyOOsVYMgQESUZV6YjSBA71/nD9uXIECbK2nBHaIgQEf36nJgrCBA88JsJKO2IECfju7V5cAgQEtacIcoyyBA9yXyOGvVIECi8XPqrd8gQE699Zvw6SBA+oh3TTP0IECmVPn+df4gQFIge7C4CCFA/uv8YfsSIUCqt34TPh0hQFWDAMWAJyFAAU+CdsMxIUCtGgQoBjwhQFnmhdlIRiFABbIHi4tQIUCxfYk8zlohQF1JC+4QZSFACRWNn1NvIUC04A5RlnkhQGCskALZgyFADHgStBuOIUC4Q5RlXpghQGQPFhehoiFAENuXyOOsIUC8phl6JrchQGdymytpwSFAEz4d3avLIUC/CZ+O7tUhQGvVIEAx4CFAF6Gi8XPqIUDDbCSjtvQhQG84plT5/iFAGgQoBjwJIkDGz6m3fhMiQHKbK2nBHSJAHmetGgQoIkDKMi/MRjIiQHb+sH2JPCJAIsoyL8xGIkDOlbTgDlEiQHlhNpJRWyJAJS24Q5RlIkDR+Dn11m8iQH3Eu6YZeiJAKZA9WFyEIkDVW78Jn44iQIEnQbvhmCJALPPCbCSjIkDYvkQeZ60iQISKxs+ptyJAMFZIgezBIkDcIcoyL8wiQIjtS+Rx1iJANLnNlbTgIkDfhE9H9+oiQItQ0fg59SJANxxTqnz/IkDj59RbvwkjQI+zVg0CFCNAO3/YvkQeI0DnSlpwhygjQJMW3CHKMiNAPuJd0ww9I0Dqrd+ET0cjQJZ5YTaSUSNAQkXj59RbI0DuEGWZF2YjQJrc5kpacCNARqho/Jx6I0Dxc+qt34QjQJ0/bF8ijyNASQvuEGWZI0D11m/Cp6MjQKGi8XPqrSNATW5zJS24I0D5OfXWb8IjQKQFd4iyzCNAUNH4OfXWI0D8nHrrN+EjQKho/Jx66yNAVDR+Tr31I0AAAAAAAAAkQA==","dtype":"float64","shape":[500]},"y":{"__ndarray__":"AAAAAAAAAAAvNZL/CIWUP7tEEPn6g6Q/O0UWgVXDrj9sO08yw3+0P/d31CHAm7k/wg2SFhu1vj+ruqTupuXBP64x6UrpbsQ/gxtv4BH2xj+wudgm3nrJP0vt6NML/cs/buFT4lh8zj+iT0TMQXzQP3VsuUeluNE/sByaXDbz0j9PROqz1CvUP8758ylgYtU/x2SV0biW1j8VAIn3vsjXPyrppyVT+Ng/zOYlJlYl2j8f0sYGqU/bP38NDRwtd9w/erVgBMSb3T/kOC+rT73eP9gFA0yy298/Hn3JOmd74D+ho2SGQwfhPx284KdfkeE/96ZebK0Z4j9oEIjQHqDiP30+AAKmJOM/K9bPYDWn4z8DcsuAvyfkP7Dl9Co3puQ/7AnXXo8i5T8g7dtTu5zlP5hFnXquFOY/nAIvflyK5j+C2mNFuf3mP1G0C/S4buc/Qcwr7E/d5z/6cjDPcknoPylIGH8Ws+g/ptGYHzAa6T8OUTwXtX7pP366eBCb4Ok/ta+/+tc/6j+oY4cLYpzqP1RLTL8v9uo/SIGL2jdN6z8nwrVqcaHrPznpGsfT8us/ttTNkVZB7D+DmoC48YzsP5f2WHWd1ew/UN28T1Ib7T+jHBcdCV7tP+f3kwG7ne0/76rVcGHa7T/MwaAu9hPuP4YzgE9zSu4//y5hOdN97j/fiSakEK7uP3HCM5om2+4/KYbveBAF7z9erz3xySvvP7Kt8AdPT+8/g00yFpxv7z+X0+PJrYzvPypj9SWBpu8/W6W0ghO97z/kqRKOYtDvP/X54Ets4O8/39YFFi/t7z80n6ecqfbvP+tVT+ba/O8/+EcCUML/7z+yzVKNX//vP1AmaKiy++8/sWz9Abz07z+JpVdRfOrvP/XnMqT03O8/aaKmXibM7z/X/gA7E7jvP8VpmUm9oO8/DUGa8CaG7z/Ur8HrUmjvPzu+GUxER+8/J5ynd/4i7z96LxIphfvuP93uP2/c0O4/QxPsrAij7j8bKzOYDnLuPwMbFzrzPe4/zJj67bsG7j9sLhRhbsztP0rT2JEQj+0/YCtez6hO7T9PfLS4PQvtP4FpODzWxOw/TInclnl77D/C5WpTLy/sP+N8vkn/3+s/b9T0nfGN6z/Etpe/DjnrP5Uuv2hf4eo/h9grneyG6j8solmpvynqP74OiyHiyek/5xrN4F1n6T9M2fMHPQLpP8Xij/yJmug/YbXcZ08w6D+pHqg1mMPnP6HNMpNvVOc/byoK7uDi5j+Xkdvy927mP+oRQYzA+OU/uMyH4UaA5T9aGHBVlwXlP0SG54S+iOQ/ve28RckJ5D/XnU6lxIjjP9rYMue9BeM/+bzag8KA4j+/vS8n4PnhPwvTK68kceE/P4JsKp7m4D9v58DWWlrgP/vIZT/SmN8/HDkXOq953j9ExqYialfdP+WLmtAgMtw/0bPcavEJ2z9L5qFk+t7ZP5niR3pasdg/tJEsrjCB1z8R531FnE7WP5biAsW8GdU//wje7bHi0z/Kp0m6m6nSPyo6TlqabtE/aUZzMM4x0D96E9acr+bNP5OWcuOvZss/ulqrAN/jyD8JrZMKf17GP/6Ul1rS1sM/35qphhtNwT+EqNS0OoO9P9HYlKA1abg/GrlPFa5Msz8EI5wzVVysPyLiIdJjHKI/zvS9I1dqjz90Y9qhN0Bzv5EqvbjIVJm/mUj9bHTrpr/MuO+iFJWwvyWBaKK6srW/EB2tkCXOur+1ajcEz+a/v6pJBG4YfsK/jJK5puIGxb+QJe54g43Hv99eOWq4Ecq/A//sPz+TzL9mPOQF1hHPv7XJpYqdxtC/RVKwjZYC0r+othSQtTzTvwAWkUbadNS/cJ/wmeSq1b9TJ1iqtN7Wvz0MjdIqENi/ehQ2qyc/2b917xUOjGvavwEFPxk5ldu/TT9AMhC83L/nekoJ89/dv/hKTpzDAN+/e98IHTIP4L9w7J7CW5zgvwSysTvQJ+G/EG77MYGx4b+Ai6F9YDniv1MxqSZgv+K/zuVmZnJD47+6H+moicXjv8ugXY6YReS/AHRx7JHD5L9BbKvPaD/lv0P/wHwQueW/xlnlcXww5r/aihJooKXmvwukTFRwGOe/lK3eaOCI57+qTZEW5fbnvz0D2w1zYui/t9QJQH/L6L8kVGbg/jHpv/LaT2Xnlem/BOBRiS736b9tSzJMylXqv1Os+POwseq/qjXuDdkK67+tZ5ZvOWHrvzFMoDfJtOu/dC3Qzn8F7L8Br+HoVFPsv60xYoVAnuy//WuD8Drm7L+EIebDPCvtv1fkXOc+be2/YMymkTqs7b+tESJJKejtvxh3duQEIe6/AXQ3i8dW7r8gDH62a4nuv/hFejHsuO6/sDD8GUTl7r9ma/Tgbg7vv6Ug7EpoNO+/wWl0cCxX77+qDo2+t3bvv32XAvcGk++/W6bDMBes77+akC3Y5cHvv4svUK9w1O+/veEozrXj77/OttSis+/vv4jAufFo+O+/G4Wn1dT9778Sj+6/9v/vv50Yb3jO/u+/r9CeHVz6779VuYUkoPLvv5sfslib5++/N64j3E7Z778onS0nvMfvv1ABUAjlsu+/FEAIpMua77/Lq5h0cn/vv+NOx0ncYO+/YuyTSAw/779jPeXqBRrvv/9zLf/M8e6/Og0GqGXG7r8C/MJb1Jfuv6I4/eMdZu6/mMAUXUcx7r/pE6o1Vvntv6E9Dy5Qvu2/R3awVzuA7b/Gb3QUHj/tv1hbFBb/+uy/i7prXeWz7L+LDcA52Gnsv8pxAEjfHOy/kET9cQLN67873pftSXrrv3F76ju+JOu/vmpoKGjM6r9ClfbHUHHqv5Z6/HeBE+q/Jbht3QOz6b+7Nczj4U/pv/AQI7wl6ui/fWL629mB6L84+UP8CBfov6cmQRi+qee/fLphbAQ6579vShx158fmvzzlv+1yU+a/Y08/z7Lc5b/E6fVOs2PlvzliZt2A6OS/lk/zJChr5L882pEItuvjv8uTdqI3auO/+aC8Qrrm4r+RWAduS2HivxB8Htz42eG/DC6FdtBQ4b8HzAtX4MXgv8DQXMY2OeC/KssJdcRV37+bkuyq4jXev7tnD8flEt2/X7zds+vs27+MrG2qEsTav8qQZC95mNm/TcvTDz5q2L9kIw5egDnXv90Bdm5fBta/VuNE1PrQ1L8YVExecpnTv+XLsBPmX9K/Ab+eMHYk0b9NePRFhs7Pv9vaEg7bUM2/6qg0SCzQyr8uNUjSu0zIv12ZyNLLxsW/BLnwsZ4+w789gecSd7TAv641zJkvUby/p4GxyIc2t78U5PUHfRmyvyXHvtcr9am/lXm05mRpn784cOLNbsqFv0OMsrIpQIM/rh09xmMknj8R0OuyzFKpP08y9YNmyLE/3pU6qZLltj//MJExZAC8P0YPnGEqjMA/ozIZKG8Wwz93jQeSvZ7FP4Uq1PjSJMg/2rxr8Gyoyj9PxQ5OSSnNP37/Hi8mp88/yrLy/+AQ0T9nCyjBbUzSP0a4U+oYhtM/1NMcPMK91D9bGv6rSfPVP8oxkWePJtc/9ivU13NX2D9F7mik14XZP3Yozrabsdo/RYaRPaHa2z8Dx3qvyQDdP9For872I94/9ZPOqwpE3z+XeoLUczDgP44ajD44veA/0N40G0RI4T/FPvgeidHhP9qtFC35WOI/oAb/WIbe4j/gANHnImLjP0KNslHB4+M/AfE9Q1Rj5D+Ffd6ezuDkP32/KX4jXOU/OQIzM0bV5T8FBNlJKkzmP6W5DYnDwOY/Av8X9AUz5z/YE8/L5aLnP0bEz49XEOg/Mx2r/0976D+gjQ4cxOPoPyVW5SepSek/PClzqfSs6T/+3mdrnA3qPzAg7H2Wa+o/vOymN9nG6j8E47s2Wx/rP8YtwmETdes/BP+z6PjH6z+nf9ZFAxjsP74bmj4qZew/eRRz5GWv7D9iQaqVrvbsP6zrJf78Ou0/qa4qGEp87T/SSRQtj7rtPxNRBtbF9e0/iKmU/Oct7j8mwWPb72LuP8pwwP7XlO4/QXkvRZvD7j9jjPTfNO/uP3TUkFOgF+8/quw4eNk87z/lPkJ63F7vPza7h9qlfe8/7d7FbjKZ7z+nAe5hf7HvP+DfcDSKxu8/VVuAvFDY7z9uakgm0ebvP+EwH/QJ8u8/kTys/vn57z+v4gZ1oP7vP+u5y9z8/+8/jy8pEg/+7z8yNuNH1/jvP6MNTgdW8O8/mCRAMIzk7z+RFfv4etXvP0zBC+4jw+8/Fooh8oit7z8qtNw9rJTvPy/wk1+QeO8/4RUROzhZ7z/VFUUJpzbvPw0q81fgEO8/Qk5TCejn7j9WCaxTwrvuP3mS48BzjO4/mF0ILgFa7j8IG9HKbyTuP9w3FBnF6+0/0uw27Aaw7T+76pNoO3HtPy602QJpL+0/JbVgf5bq7D/QKXnxyqLsP1bnsLoNWOw/IxkRimYK7D8hB1Rb3bnrP3n5EnZ6Zus/g0/sbEYQ6z9R4KEcSrfqP9C7L6uOW+o/B2Xbhh396T97nTtlAJzpP8TbOEJBOOk/Z4cGX+rR6D/2FBVBBmnoP1ge/bCf/ec/TJNjucGP5z8dINeldx/nP3DnpgHNrOY/cq6yls035j9ZmjRshcDlPyefhMUAR+U/P8DVIEzL5D8HRO01dE3kPxb80/SFzeM/FMWBhI5L4z9VYINBm8fiP37Lmry5QeI/GTpaufe54T/F1bksYzDhP2hqqDsKpeA/viOXOfsX4D/KBgFOiRLfPyJq1V/q8d0/6dHKVDfO3D+FtwYqjqfbP+BonyoNfto/zMB+7NJR2T91LT1N/iLYP2hZ9W6u8dY/asgQtQK+1T8Gvg3BGojUPyHCPm8WUNM/QBmE0xUW0j+qhv81OdrQP9RehR9COc8/aenwDty6zD/hPhPcgTnKP5FlenZ1tcc/xoCpFPkuxT9zLUotT6bCP4lGV3C6G8A/B4qDgPseuz9W3SBWuAO2P2YY9sYx5rA/wlwH6NyNpz/Qyw6w1JmaP3VR3tjNVHg/ZWY8thvgjL+jM5KY6Xmhv5zEDlAAuqu/iq23pp77sr8v/pGKSRi4v/9IK0l6Mr2/HDKlTNUkwb+TIVtAqq7Dv0IJ/jB5Nsa/UeUVhf+7yL9p6ETf+j7LvyYcGiUpv82/SZHuQiQe0L8XManAC1vRv/l1O3cqltK/0rQZAWDP078csgIrjAbVvwoaT/eOO9a/z3Q7oUhu17/KQiygmZ7Yv9/o66pizNm/ZBjiuoT32r/TXUQP4R/cv0CCPzBZRd2//mwZ8s5n3r9TMUt4JIffv3F8SRyeUeC/JLz+fvzd4L9ST/P1nmjhvw==","dtype":"float64","shape":[500]}}},"id":"0df2dffe-f023-469d-a8e7-d31674abbb0a","type":"ColumnDataSource"},{"attributes":{"args":{"amp":{"id":"84284e10-679f-4deb-a411-414704175019","type":"Slider"},"freq":{"id":"f9d9e39b-1171-4cea-a527-88a635f89582","type":"Slider"},"offset":{"id":"be8072dc-1e67-48b1-b4e2-adc17f65ae29","type":"Slider"},"phase":{"id":"e0459d87-b4f8-4913-a8e8-5e5170aecc84","type":"Slider"},"source":{"id":"08c4a922-77b4-4250-a13a-9fddf147787c","type":"ColumnDataSource"}},"code":"\n    var data = source.data;\n    var A = amp.value;\n    var k = freq.value;\n    var phi = phase.value;\n    var B = offset.value;\n    x = data['x']\n    y = data['y']\n    for (i = 0; i &lt; x.length; i++) {\n        y[i] = B + A*Math.sin(k*x[i]+phi);\n    }\n    source.change.emit();\n"},"id":"397a958b-44c9-4ed9-9006-60f700662505","type":"CustomJS"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":{"__ndarray__":"AAAAAAAAFMCamZmZmZkTwDQzMzMzMxPAzszMzMzMEsBoZmZmZmYSwAIAAAAAABLAnJmZmZmZEcA2MzMzMzMRwNDMzMzMzBDAamZmZmZmEMAEAAAAAAAQwDwzMzMzMw/AcGZmZmZmDsCkmZmZmZkNwNjMzMzMzAzADAAAAAAADMBAMzMzMzMLwHRmZmZmZgrAqJmZmZmZCcDczMzMzMwIwBAAAAAAAAjARDMzMzMzB8B4ZmZmZmYGwKyZmZmZmQXA4MzMzMzMBMAUAAAAAAAEwEgzMzMzMwPAfGZmZmZmAsCwmZmZmZkBwOTMzMzMzADAGAAAAAAAAMCYZmZmZmb+vwDNzMzMzPy/aDMzMzMz+7/QmZmZmZn5vzgAAAAAAPi/oGZmZmZm9r8IzczMzMz0v3AzMzMzM/O/2JmZmZmZ8b9AAAAAAADwv1DNzMzMzOy/IJqZmZmZ6b/wZmZmZmbmv8AzMzMzM+O/kAAAAAAA4L/AmpmZmZnZv2A0MzMzM9O/AJyZmZmZyb+AnpmZmZm5vwAAAAAAABS9gJSZmZmZuT8Al5mZmZnJP+AxMzMzM9M/QJiZmZmZ2T+g/v/////fP4AyMzMzM+M/sGVmZmZm5j/gmJmZmZnpPxDMzMzMzOw/QP//////7z84mZmZmZnxP9AyMzMzM/M/aMzMzMzM9D8AZmZmZmb2P5j///////c/MJmZmZmZ+T/IMjMzMzP7P2DMzMzMzPw/+GVmZmZm/j+Q////////P5TMzMzMzABAYJmZmZmZAUAsZmZmZmYCQPgyMzMzMwNAxP//////A0CQzMzMzMwEQFyZmZmZmQVAKGZmZmZmBkD0MjMzMzMHQMD//////wdAjMzMzMzMCEBYmZmZmZkJQCRmZmZmZgpA8DIzMzMzC0C8//////8LQIjMzMzMzAxAVJmZmZmZDUAgZmZmZmYOQOwyMzMzMw9AuP//////D0BCZmZmZmYQQKjMzMzMzBBADjMzMzMzEUB0mZmZmZkRQNr//////xFAQGZmZmZmEkCmzMzMzMwSQAwzMzMzMxNAcpmZmZmZE0A=","dtype":"float64","shape":[100]},"y":{"__ndarray__":"M5ng9YGv7j+k6yJ2QHDvP/89DJqU4O8/U+w3D1//7z+77F0TUczvP4RAxz3tR+8/9ChFMYZz7j8vigE6O1HtP+MS0N/y4+s/y8jielMv6j/EHtzduTfoP+WzHy0uAuY/vcDs/1aU4z9iGy7savTgP0DS8ENBUtw/eWK6fjtz1j/RTP8QyVrQP2QNt8oCMcQ/sTDoOTfjrT9vDJiCD0qlv17Utm04EMK/2i9I1rifzr9A5V0jcnDVv4qmJCQxWtu/eoWgu/x+4L9wys8Nrybjv13Rw/VkneW/6i5YLdHc57/U1qrZM9/pv81y6z9pn+u/HrTR6vYY7b83OBofF0juv9kVvYHCKe+/qZgv17e777/CQuDHgfzvv5NtLJt66++/FuFE382I779rHsX5d9Xuv/FVGqJD0+2/cGMtTMWE7L8zDQmPVO3qv5KoXZgDEem/Kv+/wpT05r8iGkZpbp3kv81BpReNEeK/7QZLdOiu3r96aCvpOuzYv1O7upXN6dK/FtU9I/9tyb8M0IvLro65vwAAAAAAABS9GcaLy66OuT8w0D0j/23JP++4upXN6dI/LGYr6Trs2D+7BEt06K7eP8VApReNEeI/LRlGaW6d5D9M/r/ClPTmP8unXZgDEek/hgwJj1Tt6j/fYi1MxYTsP31VGqJD0+0/FR7F+XfV7j/g4ETfzYjvP3xtLJt66+8/zELgx4H87z/SmC/Xt7vvPyIWvYHCKe8/nzgaHxdI7j+jtNHq9hjtP25z6z9pn+s/kNeq2TPf6T+/L1gt0dznP0nSw/VkneU/ccvPDa8m4z+MhqC7/H7gP8yoJCQxWts/m+ddI3Jw1T+1NEjWuJ/OP1HZtm04EMI/aiCYgg9KpT+5HOg5N+Otv3QIt8oCMcS/Zkr/EMla0L8iYLp+O3PWvwLQ8ENBUty/Uxou7Gr04L/Av+z/VpTjv/yyHy0uAua/8h3c3bk36L8TyOJ6Uy/qv0cS0N/y4+u/r4kBOjtR7b+SKEUxhnPuv0BAxz3tR++/l+xdE1HM779P7DcPX//vvxs+DJqU4O+/3+sidkBw778=","dtype":"float64","shape":[100]}}},"id":"08c4a922-77b4-4250-a13a-9fddf147787c","type":"ColumnDataSource"},{"attributes":{"below":[{"id":"efd02180-9db1-4cf3-86b6-c38a49736567","type":"LinearAxis"}],"left":[{"id":"e86a27e5-7feb-4207-8105-4517c6552cda","type":"LinearAxis"}],"plot_height":400,"renderers":[{"id":"efd02180-9db1-4cf3-86b6-c38a49736567","type":"LinearAxis"},{"id":"8170b6df-ae63-4908-8d4b-7ef6d93029cc","type":"Grid"},{"id":"e86a27e5-7feb-4207-8105-4517c6552cda","type":"LinearAxis"},{"id":"3da1cb0e-cdd6-4dea-b510-d6c277174994","type":"Grid"},{"id":"4c18dd2c-53ba-4f1c-a21e-6899582b243f","type":"BoxAnnotation"},{"id":"cb2f4e04-6c88-4f2b-bfd3-2f48d68738e8","type":"GlyphRenderer"}],"title":{"id":"147df0ea-ce83-469e-a051-f5fe73fea531","type":"Title"},"toolbar":{"id":"90aef6d6-4259-45f0-9d9b-b02a2b553fbb","type":"Toolbar"},"x_range":{"id":"feefab8e-27cc-4128-8f39-63df5dd3f66f","type":"DataRange1d"},"x_scale":{"id":"c8f97c04-e883-4f1a-95b8-a696eae9a182","type":"LinearScale"},"y_range":{"id":"ac914a19-279f-4e09-9c5c-80b2713edf08","type":"Range1d"},"y_scale":{"id":"0692b593-a76c-4214-babe-81612f4ce5f7","type":"LinearScale"}},"id":"9e85073b-3834-446f-a92c-decb9137e4a7","subtype":"Figure","type":"Plot"},{"attributes":{"callback":{"id":"00c622b4-2925-4ca5-af9a-bcc7cf7a390d","type":"CustomJS"},"end":10,"start":0.1,"step":0.1,"title":"Amplitude","value":1},"id":"ab96f988-f867-4e43-8162-160adc103d5e","type":"Slider"},{"attributes":{"line_alpha":0.6,"line_color":"#1f77b4","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"be28ff81-13f5-4a6a-87cf-cee63a353dc3","type":"Line"},{"attributes":{},"id":"c6af5d8e-5988-4f6a-a22a-789a6223bedf","type":"BasicTickFormatter"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"35b56544-6da7-4271-8908-4f3fce307d92","type":"PanTool"},{"id":"b2654f60-ef14-4c29-bf49-d0bec3fbc6eb","type":"WheelZoomTool"},{"id":"35d9a612-6554-4ad5-b26d-a0d65c2f377e","type":"BoxZoomTool"},{"id":"6d5f612b-a75c-4fce-9ee8-76858bce184d","type":"SaveTool"},{"id":"8c423f85-7a8e-4981-b5a4-04ccb0b92e24","type":"ResetTool"},{"id":"3c7b2e62-5e5c-4a78-bd0b-2bcad77fc253","type":"HelpTool"}]},"id":"90aef6d6-4259-45f0-9d9b-b02a2b553fbb","type":"Toolbar"},{"attributes":{"callback":null,"end":10,"start":-10},"id":"0726e76d-9395-4a17-812a-85dcc87c740a","type":"Range1d"},{"attributes":{"callback":null,"end":10,"start":-10},"id":"ac914a19-279f-4e09-9c5c-80b2713edf08","type":"Range1d"}],"root_ids":["025f068b-88d7-4051-9a74-8b3cf4ca3322","b90f0883-95b6-4cd2-b378-ceab8964a7b5","beee17a2-17b5-40c8-b43d-aea7cf3aa1eb","fef30824-891d-4ef9-b09e-8566f6fd3b41","49f6f981-c30b-4abe-a9c5-eb13a8d64ac1"]},"title":"Bokeh Application","version":"0.12.14"}}</script><script type="text/javascript">  (function() {    var fn = function() {      Bokeh.safely(function() {        (function(root) {          function embed_document(root) {          var docs_json = document.getElementById('51bd30f2-f016-428d-bf01-dfa13a5641fa').textContent;          var render_items = [{"docid":"c735e38e-6c46-4737-ab01-75ad9c85e84a","elementid":"d5b7c7a5-8fef-4f8f-9395-7643af0ca730","modelid":"49f6f981-c30b-4abe-a9c5-eb13a8d64ac1"}];          root.Bokeh.embed.embed_items(docs_json, render_items);          }          if (root.Bokeh !== undefined) {            embed_document(root);          } else {            var attempts = 0;            var timer = setInterval(function(root) {              if (root.Bokeh !== undefined) {                embed_document(root);                clearInterval(timer);              }              attempts++;              if (attempts > 100) {                console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing")                clearInterval(timer);              }            }, 10, root)          }        })(window);      });    };    if (document.readyState != "loading") fn();    else document.addEventListener("DOMContentLoaded", fn);  })();</script><h2 id="HTML-files"><a href="#HTML-files" class="headerlink" title="HTML files"></a>HTML files</h2><p>è¿™æ˜¯æœ€ç›´æ¥ä¸å®¹æ˜“å‡ºé”™çš„æ–¹æ³•ï¼Œå°±æ˜¯ç›´æ¥ä½¿ç”¨ç”Ÿæˆçš„ HTML æ–‡ä»¶ã€‚</p><p>å‡è®¾æˆ‘ä»¬çš„åšå®¢æ–‡ç« ä½¿ç”¨ Markdown ç¼–å†™ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ä¸‹é¢ä»£ç ç”Ÿæˆæ‰€éœ€è¦çš„ HTML æ–‡ä»¶ï¼ˆæ¥è‡ª <a href="https://bokeh.pydata.org/en/latest/docs/gallery/slider.html" target="_blank" rel="noopener">slider.py â€” Bokeh 0.12.14 documentation</a>ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bokeh.layouts <span class="keyword">import</span> row, widgetbox</span><br><span class="line"><span class="keyword">from</span> bokeh.models <span class="keyword">import</span> CustomJS, Slider</span><br><span class="line"><span class="keyword">from</span> bokeh.plotting <span class="keyword">import</span> figure, output_file, show, ColumnDataSource</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">-5</span>, <span class="number">5</span>, <span class="number">0.1</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line"></span><br><span class="line">source = ColumnDataSource(data=dict(x=x, y=y))</span><br><span class="line"></span><br><span class="line">plot = figure(y_range=(<span class="number">-10</span>, <span class="number">10</span>), plot_width=<span class="number">400</span>, plot_height=<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line">plot.line(<span class="string">'x'</span>, <span class="string">'y'</span>, source=source, line_width=<span class="number">3</span>, line_alpha=<span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line">callback = CustomJS(args=dict(source=source), code=<span class="string">"""</span></span><br><span class="line"><span class="string">    var data = source.data;</span></span><br><span class="line"><span class="string">    var A = amp.value;</span></span><br><span class="line"><span class="string">    var k = freq.value;</span></span><br><span class="line"><span class="string">    var phi = phase.value;</span></span><br><span class="line"><span class="string">    var B = offset.value;</span></span><br><span class="line"><span class="string">    x = data['x']</span></span><br><span class="line"><span class="string">    y = data['y']</span></span><br><span class="line"><span class="string">    for (i = 0; i &lt; x.length; i++) &#123;</span></span><br><span class="line"><span class="string">        y[i] = B + A*Math.sin(k*x[i]+phi);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    source.change.emit();</span></span><br><span class="line"><span class="string">"""</span>)</span><br><span class="line"></span><br><span class="line">amp_slider = Slider(start=<span class="number">0.1</span>, end=<span class="number">10</span>, value=<span class="number">1</span>, step=<span class="number">.1</span>,</span><br><span class="line">                    title=<span class="string">"Amplitude"</span>, callback=callback)</span><br><span class="line">callback.args[<span class="string">"amp"</span>] = amp_slider</span><br><span class="line"></span><br><span class="line">freq_slider = Slider(start=<span class="number">0.1</span>, end=<span class="number">10</span>, value=<span class="number">1</span>, step=<span class="number">.1</span>,</span><br><span class="line">                     title=<span class="string">"Frequency"</span>, callback=callback)</span><br><span class="line">callback.args[<span class="string">"freq"</span>] = freq_slider</span><br><span class="line"></span><br><span class="line">phase_slider = Slider(start=<span class="number">0</span>, end=<span class="number">6.4</span>, value=<span class="number">0</span>, step=<span class="number">.1</span>,</span><br><span class="line">                      title=<span class="string">"Phase"</span>, callback=callback)</span><br><span class="line">callback.args[<span class="string">"phase"</span>] = phase_slider</span><br><span class="line"></span><br><span class="line">offset_slider = Slider(start=<span class="number">-5</span>, end=<span class="number">5</span>, value=<span class="number">0</span>, step=<span class="number">.1</span>,</span><br><span class="line">                       title=<span class="string">"Offset"</span>, callback=callback)</span><br><span class="line">callback.args[<span class="string">"offset"</span>] = offset_slider</span><br><span class="line"></span><br><span class="line">layout = row(</span><br><span class="line">    plot,</span><br><span class="line">    widgetbox(amp_slider, freq_slider, phase_slider, offset_slider),</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">output_file(<span class="string">"slider.html"</span>, title=<span class="string">"slider.py example"</span>)</span><br><span class="line"></span><br><span class="line">show(layout)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æŸåï¼Œä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆ <code>slider.html</code>ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­è‡ªåŠ¨æ‰“å¼€è¿™ä¸ªç½‘é¡µã€‚æˆ‘ä»¬æ‰€éœ€è¦çš„ä»£ç æ˜¯è¿™ä¸ª HTML æ–‡ä»¶ä¸­ <code>&lt;div class=&quot;bk-root&quot;&gt;</code> è¿™ä¸ª div å—ä»¥åŠ <code>&lt;script type=&quot;application/json&quot; id=&quot;id&quot;&gt;</code> å’Œ <code>&lt;script type=&quot;text/javascript&quot;&gt;</code> ä¸­çš„å†…å®¹ï¼Œä¹Ÿæ˜¯ <code>body</code> ä¸­çš„å†…å®¹ï¼Œå¦‚ä¸‹å›¾ï¼Œå†…å®¹å¤ªé•¿ï¼Œæˆ‘å°±åªåœˆå‡ºäº†æ ‡ç­¾åå­—ï¼š</p><p><img src="https://i.imgur.com/o40boQm.png" alt=""></p><p><img src="https://i.imgur.com/vkXqGvS.png" alt=""></p><p>ç„¶åæˆ‘ä»¬ç›´æ¥å¤åˆ¶è¿™ä¸‰ä¸ªæ ‡ç­¾ä¸­çš„å†…å®¹åˆ°åšæ–‡çš„ md æ–‡ä»¶ä¸­å³å¯ã€‚</p><h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><p>è¿™ä¸ªæ–¹æ³•æ˜¯ç›´æ¥ç”Ÿæˆç»˜å›¾æ‰€éœ€ç”¨åˆ°çš„ <code>script</code> å’Œ <code>div</code> å—ï¼Œç„¶åç›´æ¥å¤åˆ¶åˆ°åšæ–‡çš„ md æ–‡ä»¶ä¸­ï¼Œåªä¸è¿‡è¿™é‡Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ª <code>script</code> å’Œä¸€ä¸ª <code>div</code>ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•æå…¶å®¹æ˜“å‡ºé”™ï¼Œæ‰€å¾—åˆ°çš„ <code>script</code> å’Œ <code>div</code> å†…å®¹ä¸å¤ªå¯¹ï¼Œåœ¨æˆ‘å¤„ç†äº†ä¸€ä¸ªåˆä¸€ä¸ªæŠ¥é”™åä¾ç„¶ä¸è¡Œï¼Œé”™è¯¯ç‡å¾ˆé«˜ï¼Œè¯´æ˜è¿˜ä¸å¤ªå®Œå–„ï¼Œé”™è¯¯å¤šåœ°æˆ‘éƒ½ä¸çŸ¥é“æ€ä¹ˆå»æ issueï¼Œä»ä½•æèµ· ğŸ˜†ã€‚æœ€åæœæ–­æ”¾å¼ƒäº†è¿™ä¸ªæ–¹æ³•ï¼Œæœ‰æˆåŠŸçš„åŒå­¦å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€å‘ŠçŸ¥ï¼Œè°¢è°¢ ğŸ˜„</p><p>ç®€å•è¯´ä¸‹è¿™ä¸ªæ–¹æ³•çš„ç¨‹åºé€»è¾‘ï¼š</p><ol><li>ä½¿ç”¨ Bokeh ç»˜å›¾ã€‚</li><li><p>ä½¿ç”¨ <code>bokeh.embed.components</code> æ–¹æ³•å¾—åˆ°ç»˜å›¾å¯¹è±¡å¯¹åº”çš„ <code>script</code> å’Œ <code>div</code> æ ‡ç­¾ï¼Œä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># some other codes</span></span><br><span class="line">p = figure()</span><br><span class="line">p.line(x, y)</span><br><span class="line"><span class="comment"># some other plot codes</span></span><br><span class="line">script, div = components(p)</span><br></pre></td></tr></table></figure></li><li><p>å¤åˆ¶å¾—åˆ°çš„ <code>script</code> å’Œ <code>div</code> åˆ°åšæ–‡çš„ md æ–‡ä»¶ä¸­ï¼ŒDoneã€‚</p></li></ol><h2 id="Autoload-Scripts"><a href="#Autoload-Scripts" class="headerlink" title="Autoload Scripts"></a>Autoload Scripts</h2><p>è¿™æ˜¯ä½¿ç”¨è‡ªåŠ¨åŠ è½½çš„è„šæœ¬ï¼Œéœ€è¦æŠŠç»˜å›¾è„šæœ¬æ”¾åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šã€‚è¿™é‡Œç»™å‡ºä¸€ä¸ªå®˜æ–¹çš„ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bokeh.resources <span class="keyword">import</span> CDN</span><br><span class="line"><span class="keyword">from</span> bokeh.plotting <span class="keyword">import</span> figure</span><br><span class="line"><span class="keyword">from</span> bokeh.embed <span class="keyword">import</span> autoload_static</span><br><span class="line"></span><br><span class="line">plot = figure()</span><br><span class="line">plot.circle([<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">js, tag = autoload_static(plot, CDN, <span class="string">"some/path"</span>)</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ä½ éœ€è¦æŠŠç”Ÿæˆçš„ <code>js</code> æ”¾åˆ° <code>some/path</code> é‡Œã€‚</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>æ€»çš„æ¥è¯´ï¼Œè¿˜æ˜¯ç¬¬ä¸€ç§æ–¹æ³•é è°±ã€‚é€šç”¨çš„æ­¥éª¤å°±æ˜¯ï¼š</p><ol><li>åˆ›å»ºç»˜å›¾å¯¹è±¡ã€‚</li><li>å¾—åˆ°ç»˜å›¾æ‰€éœ€çš„ HTML ä»£ç ã€‚</li><li>å¤åˆ¶è¿™äº›ä»£ç åˆ° md æ–‡ä»¶ã€‚</li></ol><p>æœ€ç»ˆçš„ md æ–‡ä»¶å¤§æ¦‚æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: ä½ çš„æ ‡é¢˜</span><br><span class="line">date: æ—¥æœŸ</span><br><span class="line">tags: ä½ çš„æ ‡ç­¾</span><br><span class="line">---</span><br><span class="line">&lt;link</span><br><span class="line">    href="https://cdn.pydata.org/bokeh/release/bokeh-0.12.14.min.css"</span><br><span class="line">    rel="stylesheet" type="text/css"&gt;</span><br><span class="line">&lt;link</span><br><span class="line">    href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.14.min.css"</span><br><span class="line">    rel="stylesheet" type="text/css"&gt;</span><br><span class="line">&lt;link</span><br><span class="line">    href="https://cdn.pydata.org/bokeh/release/bokeh-tables-0.12.14.min.css"</span><br><span class="line">    rel="stylesheet" type="text/css"&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src="https://cdn.pydata.org/bokeh/release/bokeh-0.12.14.min.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.14.min.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src="https://cdn.pydata.org/bokeh/release/bokeh-tables-0.12.14.min.js"&gt;&lt;/script&gt;</span><br><span class="line">â€¦â€¦</span><br><span class="line">è¿™é‡Œæ˜¯ä½ çš„ä¸€äº›åšå®¢å†…å®¹</span><br><span class="line">â€¦â€¦</span><br><span class="line"></span><br><span class="line">åœ¨éœ€è¦æ˜¾ç¤ºå›¾çš„æ—¶å€™ï¼ŒæŠŠç»˜å›¾æ‰€éœ€ä»£ç æ”¾å¤åˆ¶åˆ°è¿™</span><br><span class="line"></span><br><span class="line">â€¦â€¦</span><br><span class="line">è¿™é‡Œæ˜¯ä½ çš„ä¸€äº›åšå®¢å†…å®¹</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>-widgets</code> åœ¨å›¾ä¸­æœ‰ widgets çš„æƒ…å†µä½¿ç”¨ï¼Œ<code>-tables</code> åœ¨æœ‰ table çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p><p>å†™çš„ä¸å¤ªå¥½ï¼Œæˆ‘ä¹Ÿæ˜¯ç¢ç£¨äº†å¥½é•¿æ—¶é—´ï¼Œæœ‰é—®é¢˜æ¬¢è¿åœ¨ä¸‹é¢ç•™è¨€äº¤æµ ğŸ˜„ã€‚</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://bokeh.pydata.org/en/latest/docs/user_guide/embed.html" target="_blank" rel="noopener">Embedding Plots and Apps â€” Bokeh 0.12.14 documentation</a></li><li><a href="https://bokeh.pydata.org/en/latest/docs/user_guide/concepts.html" target="_blank" rel="noopener">Defining Key Concepts â€” Bokeh 0.12.14 documentation</a></li><li><a href="https://bokeh.pydata.org/en/latest/docs/user_guide/interaction.html" target="_blank" rel="noopener">Adding Interactions â€” Bokeh 0.12.14 documentation</a></li><li><a href="https://bokeh.pydata.org/en/latest/docs/user_guide/notebook.html" target="_blank" rel="noopener">Working in the Notebook â€” Bokeh 0.12.14 documentation</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;link href=&quot;https://cdn.pydata.org/bokeh/release/bokeh-0.12.14.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;link rel=&quot;stylesheet&quot; h
      
    
    </summary>
    
    
      <category term="Python" scheme="https://secsilm.github.io/tags/Python/"/>
    
      <category term="Data Science" scheme="https://secsilm.github.io/tags/Data-Science/"/>
    
      <category term="hexo" scheme="https://secsilm.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>æ›¾ç»æˆ‘ä¹Ÿæœ‰ä¸€ä½ Stephen Hawking</title>
    <link href="https://secsilm.github.io/2018/03/14/stephen-hawking/"/>
    <id>https://secsilm.github.io/2018/03/14/stephen-hawking/</id>
    <published>2018-03-14T05:28:27.000Z</published>
    <updated>2018-03-14T07:04:35.171Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©å»æ²³è¥¿æ‰¾æˆ‘è€å¸ˆè¯´è®ºæ–‡å’Œç­¾å­—ï¼Œç»“æŸåå°±å»ç­‰æ ¡è½¦ï¼Œæœ¬ä»¥ä¸º 12 ç‚¹åŠçš„æ ¡è½¦ç»“æœæˆ‘ä»¬ 11 ç‚¹ 50 åˆ°çš„æ—¶å€™æ ¡è½¦å·²ç»åœåœ¨é‚£äº†ï¼Œäºæ˜¯ä¸Šè½¦æ‰¾åˆ°åº§ä½åä¸‹ï¼Œæ²¡å¤šå°‘äººï¼Œçœ‹åˆ°æ‰‹æœºå³åˆ»æœ‰ä¸ª Breaking News çš„é€šçŸ¥ï¼šæ®å«æŠ¥ç­‰å¤šå®¶è‹±åª’æŠ¥é“ï¼Œå²è’‚èŠ¬Â·éœé‡‘é€ä¸–ï¼Œäº«å¹´ 76 å²ã€‚</p><p><img src="https://i.imgur.com/5idgZ2l.png" alt="jike"></p><p>æ„Ÿè§‰å…ˆæ˜¯éœ‡æƒŠï¼Œä¸æ•¢ç›¸ä¿¡ï¼Œç„¶åæ˜¯ä¸ä¿¡ï¼Œé‚å» Twitter ä¸Šçœ‹äº†çœ‹ï¼Œæœç„¶ã€‚</p><p>çœ¼æ³ªè¦æµå‡ºæ¥ï¼Œå› ä¸ºä»–æ˜¯æˆ‘ç›®å‰çš„ç”Ÿå‘½ä¸­çš„ä¸€ä¸ªé‡è¦ç²¾ç¥ä¾èµ–å’Œå¶åƒï¼Œç”±äºä¸€äº›ç‰¹æ®ŠåŸå› ï¼Œæˆ‘æ€»æ˜¯å¯ä»¥åœ¨ä»–èº«ä¸Šæ‰¾åˆ°æˆ‘è¦çš„åšæŒã€‚</p><p>è½¦é©¬ä¸Šè¦å¼€äº†ï¼Œæˆ‘çœ‹æ‰‹æœºå®¹æ˜“æ™•è½¦ï¼Œäºæ˜¯è¿…é€Ÿæ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ï¼Œæˆ´ä¸Šè€³æœºï¼Œç‚¹äº†ä¸€é¦–ç”Ÿæ´»å¤§çˆ†ç‚¸ä¸»é¢˜æ›² <a href="http://music.163.com/#/song?id=2193514" target="_blank" rel="noopener">The Big Bang Theory Theme</a> å’Œä¸€é¦–çº¯é’¢ç´ç‰ˆæœ¬ã€‚</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=27510197&auto=0&height=66"></iframe><p>é’¢ç´æ˜¯æ·±æ²‰çš„ã€‚åŸæœ¬æ¬¢å¿«æ´»æ³¼çš„éŸ³ä¹ï¼Œç°åœ¨å¬èµ·æ¥æ˜¯é‚£ä¹ˆæ‚²ä¼¤ã€‚æˆ‘åœ¨æœ‹å‹åœˆè¯´ï¼šä¾ç¨€è®°å¾—ç”µå½±ä¸­ä½ å¹´è½»çš„æ¨¡æ ·ï¼Œå®‡å®™ä¸ºä½ è¡æ¼¾ã€‚æ˜¯å•Šï¼Œå®‡å®™ä¸ºä½ è¡æ¼¾â€¦â€¦</p><p>è®°å¾—ä¸ä¹…å‰åˆçœ‹äº†ä¸€éçš„çš„<a href="https://zh.wikipedia.org/zh-cn/%E6%84%9B%E7%9A%84%E8%90%AC%E7%89%A9%E8%AB%96" target="_blank" rel="noopener">ã€Šä¸‡ç‰©ç†è®ºã€‹</a>ï¼Œä¾ç¨€è¿˜è®°å¾—ç”µå½±ä¸­ä»–é’æ¶©å¹´è½»çš„æ¨¡æ ·ï¼Œæ‹çˆ±çš„å•çº¯ï¼Œè„‘åŠ›çš„éåŒå¯»å¸¸ã€‚</p><p>ä»æ²³è¥¿åˆ°æ³°è¾¾ï¼Œä¸€ä¸ªå°æ—¶çš„è½¦ç¨‹ï¼ŒåŸæœ¬ä¼šåœ¨è½¦ä¸Šç¡è§‰çš„æˆ‘ï¼Œçœ‹ç€çª—å¤–æƒ³äº†ä¸€è·¯ï¼Œæƒ³çš„å¤ªå¤šï¼Œå¾ˆå¤šæ¬¡çœ¼æ³ªå·®äº›å‡ºæ¥ï¼Œä½†æ˜¯åˆ°ç°åœ¨å†™çš„æ—¶å€™ï¼Œæˆ‘å´å†™ä¸å‡ºæ¥ã€‚å¯èƒ½ï¼Œåœ¨è·¯ä¸Šï¼Œæ›´é€‚åˆæ€€å¿µå’Œå¿§ä¼¤ã€‚</p><p>æ›¾ç»ï¼Œæˆ‘ä¹Ÿæœ‰ä¸€ä½ Stephen Hawkingã€‚ä»–æ˜¯æˆ‘çˆ¶äº²ã€‚ç°åœ¨ï¼Œä»–ä»¬éƒ½ä¸åœ¨äº†ã€‚æˆ‘çˆ¶äº²ä¹Ÿæ˜¯ä¸€ä½ä¼Ÿå¤§çš„äººï¼Œä¹Ÿæ›¾ä¸å‘½è¿æŠ—äº‰ï¼Œä¹Ÿæ›¾æˆ˜èƒœå‘½è¿ã€‚</p><p>æ»¡è‚šå­çš„è¯ï¼Œç°åœ¨å†™ä¸ä¸‹å»äº†ï¼ŒåŸæ¥è‡ªå·±ä¸å¦‚çˆ¶äº²é‚£æ ·åšå¼ºã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©å»æ²³è¥¿æ‰¾æˆ‘è€å¸ˆè¯´è®ºæ–‡å’Œç­¾å­—ï¼Œç»“æŸåå°±å»ç­‰æ ¡è½¦ï¼Œæœ¬ä»¥ä¸º 12 ç‚¹åŠçš„æ ¡è½¦ç»“æœæˆ‘ä»¬ 11 ç‚¹ 50 åˆ°çš„æ—¶å€™æ ¡è½¦å·²ç»åœåœ¨é‚£äº†ï¼Œäºæ˜¯ä¸Šè½¦æ‰¾åˆ°åº§ä½åä¸‹ï¼Œæ²¡å¤šå°‘äººï¼Œçœ‹åˆ°æ‰‹æœºå³åˆ»æœ‰ä¸ª Breaking News çš„é€šçŸ¥ï¼šæ®å«æŠ¥ç­‰å¤šå®¶è‹±åª’æŠ¥é“ï¼Œå²è’‚èŠ¬Â·éœé‡‘é€ä¸–ï¼Œäº«å¹´ 76 å²ã€‚&lt;/p
      
    
    </summary>
    
    
      <category term="Living" scheme="https://secsilm.github.io/tags/Living/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ CloudFlare ä¸º hexo åšå®¢å®ç° HTTPS</title>
    <link href="https://secsilm.github.io/2018/03/09/using-https-namecheap-hexo/"/>
    <id>https://secsilm.github.io/2018/03/09/using-https-namecheap-hexo/</id>
    <published>2018-03-09T13:34:53.000Z</published>
    <updated>2018-03-12T13:57:58.016Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‡äº†ä¸ªå¹´ï¼Œå¥½ä¹…æ²¡æ›´åšå®¢äº†ï¼Œå¿™ç€å„ç§äº‹ã€‚</p><p>åšå®¢åœ°å€ä¹‹å‰ä¸€ç›´éƒ½æ˜¯é»˜è®¤çš„ secsilm.github.ioï¼Œä¸€ç›´æƒ³æ¢ä¸ªè‡ªå·±çš„åŸŸåï¼Œæ­£å·§çœ‹åˆ° <a href="https://namebeta.com/" target="_blank" rel="noopener">NameBeta</a> ä¸Šå¥½å‡ ä¸ªåŸŸåéƒ½å¥½ä¾¿å®œï¼Œå°±å‡†å¤‡ä¹°ä¸ªææï¼Œæœ€åæŒ‘ä¸­äº† <code>alanlee.fun</code> è¿™ä¸ªåŸŸåã€‚</p><p>æŠŠè‡ªå·±çš„åšå®¢åŸŸåæ¢æˆè‡ªå·±ä¹°çš„åŸŸåå¹¶å®ç° HTTPSï¼ˆGitHub Pages ä¸æ”¯æŒè‡ªå®šä¹‰åŸŸå HTTPSï¼‰ï¼Œå¤§æ¦‚éœ€è¦è¿™ä¹ˆå‡ ä¸ªæ­¥éª¤ï¼ˆä»¥åœ¨ <a href="https://www.namecheap.com/" target="_blank" rel="noopener">namecheap</a> ä¸Šè´­ä¹°åŸŸåä¸ºä¾‹ï¼‰ï¼š</p><ol><li>åœ¨ namecheap è´­ä¹°è‡ªå·±å¿ƒä»ªçš„åŸŸå</li><li>æ›´æ–° GitHub ä»“åº“</li><li>CloudFlare ç«¯ DNS é…ç½®</li><li>namecheap ç«¯æ›´æ”¹ nameservers</li><li>CloudFlare ç«¯è®¾ç½®ä½¿ç”¨ HTTPS</li></ol><p>ç¬¬ä¸€æ­¥è´­ä¹°åŸŸåæˆ‘å°±ä¸èµ˜è¿°äº†ï¼Œåªæ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ä»˜æ¬¾ä¸æ”¯æŒæ”¯ä»˜å®ï¼Œæ”¯æŒ PayPalã€‚</p><p>ä»¥ä¸‹å‡è®¾å·²ç»è´­ä¹°åˆ° <code>alanlee.fun</code> è¿™ä¸ªåŸŸåã€‚</p><h2 id="æ›´æ–°-GitHub-ä»“åº“"><a href="#æ›´æ–°-GitHub-ä»“åº“" class="headerlink" title="æ›´æ–° GitHub ä»“åº“"></a>æ›´æ–° GitHub ä»“åº“</h2><p>åœ¨ä½ çš„ hexo åšå®¢<strong>æœ¬åœ°</strong>æ ¹ç›®å½•ä¸­çš„ <code>source</code> ç›®å½•ä¸‹å¢åŠ ä¸€ä¸ª <a href="https://en.wikipedia.org/wiki/CNAME_record" target="_blank" rel="noopener"><code>CNAME</code> æ–‡ä»¶</a>ï¼ˆæ— åç¼€åï¼‰ï¼Œé‡Œé¢å†™ä¸Šè´­ä¹°çš„åŸŸåï¼Œæœ¬æ–‡ä¸­å³ <code>alanlee.fun</code>ï¼š</p><p><img src="https://i.imgur.com/q5k9tYD.png" alt="cname"></p><p>ç„¶åæŠŠæ›´æ–°éƒ¨ç½²åˆ° GitHub ä¸Šï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ä½ åº”è¯¥å¯ä»¥åœ¨ GitHub ä¸Šçœ‹åˆ° <code>CNAME</code> æ–‡ä»¶äº†ï¼Œå¹¶ä¸”åœ¨ä½ çš„ä»“åº“è®¾ç½®ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ä½ çš„è‡ªå®šä¹‰åŸŸåä¹Ÿå·²ç»åŠ ä¸Šäº†ï¼Œæ­¤æ—¶è®¿é—® <code>alanlee.fun</code> åº”è¯¥å¯ä»¥è¿›å…¥åšå®¢äº†ï¼Œä½†æ˜¯æ­¤æ—¶ç½‘å€æ æ˜¯æ²¡æœ‰ã€Œå°ç»¿é”ã€çš„ï¼ˆHTTPSï¼‰ï¼Œè¦æƒ³è®©è¿™ä¸ªã€Œå°ç»¿é”ã€å‡ºç°ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <a href="https://www.cloudflare.com/" target="_blank" rel="noopener">CloudFlare</a> çš„æœåŠ¡ã€‚</p><p><img src="https://i.imgur.com/ilN6DSD.png" alt="cname-github"></p><p><img src="https://i.imgur.com/ZKHOZxa.png" alt="settings"></p><h2 id="CloudFlare-ç«¯-DNS-é…ç½®"><a href="#CloudFlare-ç«¯-DNS-é…ç½®" class="headerlink" title="CloudFlare ç«¯ DNS é…ç½®"></a>CloudFlare ç«¯ DNS é…ç½®</h2><p>é¦–å…ˆä½ éœ€è¦æ³¨å†Œä¸€ä¸ª CloudFlare è´¦å·å¹¶æŠŠè‡ªå·±çš„åŸŸåæ·»åŠ ä¸Šå»ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆç®€å•ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚æ³¨å†Œå®Œç™»é™†ä¹‹åï¼Œç‚¹å‡»ä¸‹å›¾ä¸­çš„ <code>DNS</code> é€‰é¡¹å¡ï¼Œå¦ä¸€ä¸ª <code>Page Rules</code>  æ˜¯æˆ‘ä»¬ä¸€ä¼šå„¿è¦ç”¨åˆ°çš„ã€‚</p><p><img src="https://i.imgur.com/xPpJM44.png" alt=""></p><p>ç„¶åå¦‚ä¸‹å›¾ä¸€æ ·æ·»åŠ ä¸¤æ¡è®°å½•ï¼Œ<code>Value</code> å¤„éƒ½å†™è‡ªå·±åŸæ¥çš„åšå®¢åœ°å€ï¼Œå³æ˜¯ <code>your-github-username.github.com</code> è¿™æ ·çš„å½¢å¼ï¼Œä¾‹å¦‚æˆ‘çš„ <code>secsilm.github.com</code>ï¼š</p><p><img src="https://i.imgur.com/a2lz085.png" alt=""></p><p>æŒ‰ç†è¯´æˆ‘ä»¬ä¸‹ä¸€æ­¥è¦åœ¨ <code>Page Rules</code> é‚£è®¾ç½®è®©æˆ‘ä»¬çš„åŸŸåä½¿ç”¨ HTTPS é“¾æ¥ï¼Œä½†æ˜¯ä½ å¦‚æœç°åœ¨å°±è¿™ä¹ˆåšçš„è¯ä½ å°±ä¼šå‘ç°ä½ è®¾ç½®ä¸äº†ã€‚è¿™æ˜¯å› ä¸ºä½ å¿…é¡»åœ¨åŸŸåæä¾›å•†é‚£æŠŠ nameservers è®¾ä¸º CloudFlare çš„ DNS æ‰èƒ½ä½¿ç”¨ä»–çš„ HTTPS æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¾—å» namecheap é‚£è®¾ç½®ä¸€ä¸‹ nameserversï¼Œå¦åˆ™åœ¨ CloudFlare ä¸Š <code>Overview</code> å¤„ä½ çš„åŸŸåä¼šæ˜¾ç¤ºæœªæ¿€æ´»çŠ¶æ€ï¼Œè€Œä¸æ˜¯ä¸‹é¢çš„ active çŠ¶æ€ï¼š</p><p><img src="https://i.imgur.com/4kCLOCM.png" alt=""></p><h2 id="namecheap-ç«¯æ›´æ”¹-nameservers"><a href="#namecheap-ç«¯æ›´æ”¹-nameservers" class="headerlink" title="namecheap ç«¯æ›´æ”¹ nameservers"></a>namecheap ç«¯æ›´æ”¹ nameservers</h2><p>ç™»å½•è¿› namecheapï¼Œç‚¹å‡»å³ä¸Šè§’ <code>Account</code> â†’ <code>Domain List</code>ï¼Œåœ¨ <code>NAMESERVERS</code> å¤„é€‰æ‹© <code>Custom DNS</code>ï¼Œç„¶åå¡«ä¸Š CloudFlare çš„nameserversï¼ˆå¯ä»¥åœ¨ CloudFlare ä¸Š <code>Overview</code> é€‰é¡¹å¡é¡µé¢æ‰¾åˆ°ï¼‰ï¼š</p><p><img src="https://i.imgur.com/2yZ7ZKs.png" alt=""></p><p>è‡³æ­¤ï¼Œnamecheap ç«¯çš„æ›´æ”¹å°±ç»“æŸäº†ã€‚</p><h2 id="CloudFlare-ç«¯è®¾ç½®ä½¿ç”¨-HTTPS"><a href="#CloudFlare-ç«¯è®¾ç½®ä½¿ç”¨-HTTPS" class="headerlink" title="CloudFlare ç«¯è®¾ç½®ä½¿ç”¨ HTTPS"></a>CloudFlare ç«¯è®¾ç½®ä½¿ç”¨ HTTPS</h2><p>ç°åœ¨å°±åªéœ€è¦åœ¨ <code>Page Rules</code> é€‰é¡¹å¡é¡µé¢åˆ›å»ºå‡ ä¸ª page rules å°±è¡Œäº†ï¼Œå…è´¹ç”¨æˆ·æœ€å¤šåˆ›å»º 3 ä¸ªï¼š</p><p>ç¬¬ä¸€ä¸ª ğŸ‘‡ï¼š<br><img src="https://i.imgur.com/zNcNL0y.png" alt="rule1"></p><p>ç¬¬äºŒä¸ª ğŸ‘‡ï¼Œå¯é€‰ï¼Œè®©æ‰€æœ‰é WWW çš„é“¾æ¥å®‰å…¨åœ°è½¬åˆ°å¸¦ WWW çš„é“¾æ¥ï¼š<br><img src="https://i.imgur.com/QlYf80u.png" alt="rule2"></p><p>ç¬¬ä¸‰ä¸ª ğŸ‘‡ï¼Œå¯é€‰ï¼Œè¿™ä¼šåœ¨ CloudFlare çš„ CDN ä¸­ç¼“å­˜ä½ çš„é™æ€é¡µé¢ï¼š<br><img src="https://i.imgur.com/Roo2Uk0.png" alt="rule3"></p><p>è‡³æ­¤ï¼Œ<a href="https://alanlee.fun/" target="_blank" rel="noopener"><code>alanlee.fun</code></a> å·²ç»å¯ä»¥å®‰å…¨çš„è®¿é—®äº†ï¼Œã€Œå°ç»¿é”ã€å·²ç»å‡ºç°äº†ï¼š</p><p><img src="https://i.imgur.com/rfMJBdS.jpg" alt="alanlee.fun"></p><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><p>å…¶å®è¿™ç§æ–¹æ³•å¹¶ä¸æ˜¯ç™¾åˆ†ç™¾çš„ HTTPS é“¾æ¥ï¼Œä½ çš„åšå®¢å’Œ CloudFlare ä¹‹é—´è¿˜æ˜¯ HTTP é“¾æ¥ï¼Œæµè§ˆå™¨å’Œ CloudFlare ä¹‹é—´åˆ™æ˜¯ HTTPS é“¾æ¥ï¼Œå¼•ç”¨ CloudFlare å®˜æ–¹è¯´æ˜ï¼š</p><blockquote><p>Firstly a word on security. If you are deploying a JavaScript app which communicates with remote APIs, be sure not to use this for sensitive data submissions. As <a href="https://help.github.com/articles/what-are-github-pages/" target="_blank" rel="noopener">GitHub themselves put it</a>: â€œGitHub Pages sites shouldnâ€™t be used for sensitive transactions like sending passwords or credit card numbers.â€ Also bear in mind your website source files are publicly accessible in a Git repository, so be extra careful about what you put there.  </p><p>There are some things we canâ€™t do; GitHub Pages doesnâ€™t let us set custom headers, which unfortunately means we canâ€™t do HTTP/2 Server Push right now.</p></blockquote><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://blog.cloudflare.com/secure-and-fast-github-pages-with-cloudflare/" target="_blank" rel="noopener">Secure and fast GitHub Pages with CloudFlare</a></li><li><a href="https://madao.science/useful_tools/Hexo-6-%E4%BD%BF%E7%94%A8Cloudflare%E5%85%8D%E8%B4%B9HTTPS.html" target="_blank" rel="noopener">Hexo-6-ä½¿ç”¨Cloudflareå…è´¹HTTPS | Madao No More</a></li><li><a href="https://steffan.cn/2017/03/22/use-cloudflare-to-implement-HTTPS-for-GithubPages-with-custom-domain-names/" target="_blank" rel="noopener">ä½¿ç”¨Cloudflareä¸ºè‡ªå®šä¹‰åŸŸåçš„GithubPageså®ç°HTTPSåŒ– | Steffanâ€™s Blog</a></li></ul><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿‡äº†ä¸ªå¹´ï¼Œå¥½ä¹…æ²¡æ›´åšå®¢äº†ï¼Œå¿™ç€å„ç§äº‹ã€‚&lt;/p&gt;
&lt;p&gt;åšå®¢åœ°å€ä¹‹å‰ä¸€ç›´éƒ½æ˜¯é»˜è®¤çš„ secsilm.github.ioï¼Œä¸€ç›´æƒ³æ¢ä¸ªè‡ªå·±çš„åŸŸåï¼Œæ­£å·§çœ‹åˆ° &lt;a href=&quot;https://namebeta.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;
      
    
    </summary>
    
    
      <category term="hexo" scheme="https://secsilm.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„ç½‘æ˜“äº‘éŸ³ä¹ 2017 å¹´åº¦å¬æ­ŒæŠ¥å‘Š</title>
    <link href="https://secsilm.github.io/2018/01/03/neteasemusic-year-report-2017/"/>
    <id>https://secsilm.github.io/2018/01/03/neteasemusic-year-report-2017/</id>
    <published>2018-01-03T08:15:30.000Z</published>
    <updated>2018-01-03T11:21:09.205Z</updated>
    
    <content type="html"><![CDATA[<p>åˆæ˜¯ä¸€å¹´ï¼Œæœ€è¿‘ç½‘æ˜“äº‘éŸ³ä¹æ¨å‡ºäº†å¹´åº¦å¬æ­ŒæŠ¥å‘Šï¼Œæ¥çœ‹çœ‹æˆ‘çš„æŠ¥å‘Šå§ï¼Œä¹Ÿæ˜¯è®°å½•ä¸‹æ¥å’Œä»¥ååšä¸ªæ¯”è¾ƒ ğŸ˜„</p><h2 id="æ¸©æš–åŒè¡Œ"><a href="#æ¸©æš–åŒè¡Œ" class="headerlink" title="æ¸©æš–åŒè¡Œ"></a>æ¸©æš–åŒè¡Œ</h2><p><img src="https://i.imgur.com/DR9eHED.jpg" height="600"></p><p>æŠ¥å‘Šé¦–é¡µï¼Œã€Œç½‘æ˜“äº‘éŸ³ä¹é™ªä½ æ¸©æš–åŒè¡Œã€ï¼Œæˆ‘çš„ ID<code>secsilm</code>ï¼Œç¡®å®éŸ³ä¹æ˜¯æˆ‘çš„é™ªä¼´ï¼Œä»¥å‰æ¯æ¬¡æ™šä¸Šç¡ä¸ç€çš„æ—¶å€™éƒ½ä¼šå¬æ­Œï¼Œä½†æ˜¯æœ€è¿‘å‘ç°è¶Šå¬è¶Šç¡ä¸ç€â€¦â€¦</p><h2 id="1550"><a href="#1550" class="headerlink" title="1550"></a>1550</h2><p><img src="https://i.imgur.com/8diWAYp.jpg" height="600"></p><p>2017 å¹´é‡Œå…±åœ¨äº‘æ‘å¬äº† 1550 é¦–æ­Œï¼Œè¿™é‡Œåº”è¯¥è¯´çš„æ˜¯å¬æ­Œé‡ï¼Œå…³äºäº‘æ‘å¬æ­Œé‡çš„å®˜æ–¹è§£é‡Šï¼š</p><blockquote><p>å¬æ­Œé‡æ˜¯æŒ‡ç´¯è®¡æ’­æ”¾çš„<strong>æ­Œæ›²æ•°é‡</strong>è€Œéæ’­æ”¾æ¬¡æ•°ï¼Œå¹¶ä¸”å®é™…æ’­æ”¾æ—¶é—´è¿‡çŸ­çš„æ­Œæ›²å°†ä¸çº³å…¥è®¡ç®—ï¼Œæ¯å¤©æœ€å¤šè®¡ç®—300é¦–ã€‚</p></blockquote><p>è¯´å®è¯è¿™ä¸ªå¬æ­Œé‡å¯¹äºæˆ‘è¿™ä¸ªè€ç”¨æˆ·æ¥è¯´åº”è¯¥ä¸å°äº†ï¼Œæ¯•ç«Ÿæˆ‘å¤§éƒ¨åˆ†æ—¶é—´è¿˜æ˜¯å¬æˆ‘è‡ªå·±æ”¶é›†çš„åˆ›å»ºçš„æ­Œå•ï¼ˆæ¸©æ•…è€ŒçŸ¥æ–°ï¼Œæ€»æ˜¯æƒ³è®°ä½æ—‹å¾‹ä¸æ­Œæ›²ä¿¡æ¯çš„å¯¹åº”å…³ç³»ï¼‰ï¼Œå¬æ–°æ­Œä¸€èˆ¬æ˜¯åœ¨çœ‹ç”µè§†çš„æ—¶å€™å¬åˆ°å¥½å¬çš„æ‰ä¼šå»å¬ï¼Œè€Œä¸”å…³æ³¨çš„æ­Œæ‰‹åŸºæœ¬ä¹Ÿåªæœ‰æˆ‘ä¼¦ï¼Œè€Œä¸”ç°åœ¨æˆ‘çš„å¬æ­Œé‡æ›²çº¿åº”è¯¥æ˜¯å¤„äº S æ›²çº¿çš„åé¢äº†ã€‚</p><p>ã€Œé£æ ¼æˆè°œã€â€¦â€¦ ç¡®å®æˆ‘å¬å¾—æŒºæ‚çš„ï¼Œæ¯•ç«Ÿæˆ‘ä¼¦çš„æ›²é£å°±æŒºå¤šå˜çš„ ğŸ˜ æ·±å¤œå¬æˆ‘ä¼¦ï¼Œå·²ç»æˆäº†ä¸€ä¸ªåçŸ¥åè§‰çš„ä¹ æƒ¯ã€‚</p><p>ã€Œçƒ­çˆ±åˆ†äº«ã€ï¼Œå–œæ¬¢åœ¨æˆ‘ä¼¦çš„ä¸‹é¢åˆ·è¯„è®ºï¼Œçœ‹ç€é‚£äº›åˆšç¼–çš„æ•…äº‹ï¼Œæˆ–è€…ä¸€ç¬‘è€Œè¿‡ï¼Œæˆ–è€…æ·±å¤œå‡æ€ï¼Œæœ‰æ—¶ä¹Ÿä¼šæ·±æœ‰æ„Ÿè§¦çš„å†™ä¸‹ã€Œè¿™é¦–æ­ŒçœŸåŠã€çš„æƒŠä¸–æ„Ÿå¹ï¼Œå¤–åŠ ä¸€ä¸ªæƒŠå¹å·ï¼</p><h2 id="æ°¸è¿œ"><a href="#æ°¸è¿œ" class="headerlink" title="æ°¸è¿œ"></a>æ°¸è¿œ</h2><p><img src="https://i.imgur.com/3rPnFvY.jpg" height="600"></p><p>è¿™ä¸ªåº”è¯¥æ˜¯ä»Šå¹´æ–°åŠ çš„ä¸€ä¸ªæ€»ç»“ï¼Œå»å¹´æˆ‘è®°å¾—æ²¡æœ‰è¿™ä¸ªï¼Œæˆ‘è§å¾ˆå¤šäººéƒ½æ˜¯ã€Œæ°¸è¿œã€ï¼Œç”šè‡³æœ‰äººè§‰å¾—äº‘æ‘çš„åˆ†è¯æœ‰ bugï¼š<a href="https://www.v2ex.com/t/419399" target="_blank" rel="noopener">ç½‘æ˜“äº‘éŸ³ä¹çš„åˆ†è¯æ˜¯ä¸æ˜¯æœ‰ bug æŠ¥å‘Šéƒ½æ˜¯ç¦»å¼€ï¼Ÿ - V2EX</a></p><p>åˆ†è¯ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æŠŠä¸€å¥è¯åˆ‡åˆ†æˆæœ‰æ„ä¹‰çš„è¯ï¼Œæœ‰å¾ˆå¤šç°æˆå·¥å…·å¯ä»¥åšè¿™ä¸ªæ¯”å¦‚ <a href="https://github.com/fxsjy/jieba" target="_blank" rel="noopener">fxsjy/jieba: ç»“å·´ä¸­æ–‡åˆ†è¯</a>ï¼Œè€Œè¿™æ¬¡ç½‘æ˜“äº‘éŸ³ä¹åº”è¯¥å°±æ˜¯æŠŠä½ æ‰€å¬è¿‡çš„æ­Œçš„æ­Œè¯åšäº†åˆ†è¯ï¼Œç„¶ååšäº†ä¸ªè¯é¢‘ç»Ÿè®¡ï¼Œè¯é¢‘æœ€é«˜çš„é‚£ä¸ªå°±æ˜¯ä½ çš„å…³é”®è¯äº†ï¼Œè€Œä¸”ä»ä¸Šå›¾æ¥çœ‹ï¼ŒæŠŠå¤–æ–‡æ­Œæ›²çš„ç¿»è¯‘ä¹Ÿç®—ä¸Šäº†â€¦â€¦</p><h2 id="ç¾ä¸½çš„ç¥è¯"><a href="#ç¾ä¸½çš„ç¥è¯" class="headerlink" title="ç¾ä¸½çš„ç¥è¯"></a>ç¾ä¸½çš„ç¥è¯</h2><p><img src="https://i.imgur.com/ZUVNs29.jpg" height="600"></p><center><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=449454051&auto=0&height=66"></iframe></center><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºé‚£å¤©å»çœ‹äº†<a href="https://movie.douban.com/subject/26182910/" target="_blank" rel="noopener">ã€ŠåŠŸå¤«ç‘œä¼½ã€‹</a>ï¼Œç„¶åè¿™é¦–ã€Šç¾ä¸½çš„ç¥è¯ã€‹æ˜¯ç”µå½±ä¸»é¢˜æ›²å’Œç‰‡å°¾æ›²ï¼Œè§‰å¾—æŒºå¥½å¬çš„ï¼Œä»é‚£ä¹‹åå°±åœäº†å¾ˆå¤šéï¼Œæ¬¢å¿«æœ‰æ´»åŠ›ã€‚</p><p>å¦å¤–ï¼ŒçœŸå¿ƒè§‰å¾—è±†ç“£ä¸Šè¿™ç”µå½±çš„åˆ†æ‰“ä½äº†ã€‚</p><h2 id="UH"><a href="#UH" class="headerlink" title="UH"></a>UH</h2><p><img src="https://i.imgur.com/tVTLvjZ.jpg" height="600"></p><center><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=17852504&auto=0&height=66"></iframe></center><p>è¿™æ˜¯å› ä¸ºé‚£å‡ å¤©åœ¨è¿½<a href="https://movie.douban.com/subject/26772013/" target="_blank" rel="noopener">ã€Šæ€ä¸æ­»ã€‹</a>ï¼Œè¶…è¿·ï¼Œè¿™æ­Œæ˜¯é‡Œé¢çš„æ’æ›²ï¼Œç¬¬ä¸€éå¬å°±å–œæ¬¢ä¸Šäº†ï¼Œé…åˆç€ç”»é¢ï¼Œç®€ç›´æ— æ•Œã€‚</p><p>è‡³äº 3 æ—¶ 2 åˆ†ï¼Œå¯èƒ½åªæ˜¯å› ä¸ºæˆ‘ç¡ç€äº†å§â€¦â€¦</p><h2 id="133"><a href="#133" class="headerlink" title="133"></a>133</h2><p><img src="https://i.imgur.com/Cl1uqgc.jpg" height="600"></p><p>133 å¤©ï¼Œä¸€å¹´ä¸­çš„ 36.4% éƒ½æ˜¯åœ¨æ·±å¤œ 12 ç‚¹ä»¥åè¿˜å¬ç€æ­Œï¼Œå€Ÿæ­¤ç«‹ä¸ª flagï¼š<del>2018 å¹´è¦æ—©ç‚¹ç¡</del>ï¼ˆ<em>è¿™ä¸€å¥å‘å¸ƒçš„æ—¶å€™åˆ æ‰</em>ï¼‰ã€‚</p><h2 id="Oh-My-God"><a href="#Oh-My-God" class="headerlink" title="Oh My God"></a>Oh My God</h2><p><img src="https://i.imgur.com/0j57n8X.jpg" height="600"></p><center><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=432509017&auto=0&height=66"></iframe></center><p><a href="https://baike.baidu.com/item/%E9%BB%84%E6%98%8E%E5%BF%97/10276475" target="_blank" rel="noopener">é»„æ˜å¿—</a>ï¼ˆ<a href="https://zh.wikipedia.org/wiki/%E9%BB%84%E6%98%8E%E5%BF%97#%E8%BE%B1%E9%A7%A1%E6%9E%97%E4%B8%B9%E4%BA%8B%E4%BB%B6" target="_blank" rel="noopener">é»„æ˜å¿— - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦</a>ï¼‰çœŸæ˜¯ä¸ªäººæ‰ï¼Œå†™äº†å¾ˆå¤šå…³äºäºšæ´²ä¸åŒå›½å®¶æ–‡åŒ–çš„æ­Œæ›²ï¼Œè¿™é¦–ã€ŠOh My Godã€‹å°±æ˜¯ä»–çš„ä¸€é¦–æ­Œï¼Œæ”¾è¡ä¸ç¾ï¼Œæ­¤å¤–å†æ¨èä»–çš„ Tokyo Bon æ±äº¬ç›†è¸Šã‚Š2020ï¼š</p><iframe width="640" height="360" src="https://www.youtube.com/embed/zhGnuWwpNxI?ecver=1" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe><h2 id="æœ‰ä½•ä¸å¯"><a href="#æœ‰ä½•ä¸å¯" class="headerlink" title="æœ‰ä½•ä¸å¯"></a>æœ‰ä½•ä¸å¯</h2><p><img src="https://i.imgur.com/tSpS73M.jpg" height="600"></p><p>ã€Šæœ‰ä½•ä¸å¯ã€‹è¿™é¦–æ­Œåœ¨æˆ‘è¿™é‡ŒçœŸæ˜¯å¤æ´»äº†å¥½å¤šæ¬¡ï¼Œä¸è¿‡è¿™æ­Œç¡®å®æŒºä¸é”™çš„ï¼Œæ—‹å¾‹æœ—æœ—ä¸Šå£ï¼Œæœ‰é’æ˜¥çš„æ„Ÿè§‰ï¼Œåœ¨æˆ‘è¿™é‡Œæœ€è¿‘ä¸€æ¬¡å¤æ´»åº”è¯¥æ˜¯è¿™ä¸ªé¬¼ç•œäº†ï¼š<a href="https://www.bilibili.com/video/av14617344/?from=search&amp;seid=11975469206993589461" target="_blank" rel="noopener">ã€æ³¢æ¾œå“¥ã€‘ä¸ºä½ åšä¸€åªæ‰‘ç«çš„è‚¥é¹…ã€æœ‰ä½•ä¸å¯ã€‘<em>äººåŠ›VOCALOID</em>é¬¼ç•œ<em>bilibili</em>å“”å“©å“”å“©</a></p><p>ä¸è¿‡è¯´æˆ‘å¯¹è¿™é¦–æ­Œæœ€ä¸“ä¸€æœ‰ç‚¹è¿‡åˆ†äº†å•Šã€‚</p><h2 id="èˆã¦ã‚‹ã»ã©ã®çˆ±ã§ã„ã„ã‹ã‚‰"><a href="#èˆã¦ã‚‹ã»ã©ã®çˆ±ã§ã„ã„ã‹ã‚‰" class="headerlink" title="èˆã¦ã‚‹ã»ã©ã®çˆ±ã§ã„ã„ã‹ã‚‰"></a>èˆã¦ã‚‹ã»ã©ã®çˆ±ã§ã„ã„ã‹ã‚‰</h2><p><img src="https://i.imgur.com/4jMNMZe.jpg" height="600"></p><center><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=22773678&auto=0&height=66"></iframe></center><p>è¿™é¦–æ­Œæ˜¯æˆ‘æœ€è®¶å¼‚çš„ä¸€é¦–ï¼Œè¯´å®è¯æˆ‘çœ‹åˆ°çš„æ—¶å€™æˆ‘çœŸæƒ³ä¸èµ·æ¥è¿™æ˜¯å“ªé¦–æ­Œäº†ï¼Œä¸€æŸ¥åŸæ¥æ˜¯ä¸­å²›ç¾é›ªçš„æ­Œï¼Œå¬äº†ä¸€ä¸‹å‘ç°è¿˜æ˜¯ä¸çŸ¥é“å•¥æ—¶å€™å¬è¿‡ ğŸ˜•</p><p>ä¸ºäº†æ–¹ä¾¿å¤åˆ¶ï¼Œæˆ‘ç‰¹åœ°æŠŠæ­Œåæ”¾è¿™ï¼šèˆã¦ã‚‹ã»ã©ã®çˆ±ã§ã„ã„ã‹ã‚‰ã€‚</p><h2 id="å¤¢ç¯ç¬¼"><a href="#å¤¢ç¯ç¬¼" class="headerlink" title="å¤¢ç¯ç¬¼"></a>å¤¢ç¯ç¬¼</h2><p><img src="https://i.imgur.com/8sIcKRi.jpg" height="600"></p><p>æˆ‘è§‰å¾—è¿™æ˜¯äº‘æ‘æœ€æ²¡èµ„æ ¼å¯¹æˆ‘è¯´çš„è¯äº†ï¼Œè¿˜è¯´æˆ‘ä¼¼ä¹æŠŠè¿™é¦–æ­Œå¿˜äº†ï¼Œå…¶å®ä¸ç„¶ï¼Œå…¶å®æ˜¯è¿™é¦–æ­Œç°åœ¨éœ€è¦ä»˜è´¹å¬äº†ï¼Œè¶…å–œæ¬¢è¿™é¦–æ­Œçš„ï¼Œæ¨èä¸€ä¸ªæ‰“ call çš„è§†é¢‘ï¼ŒèƒŒæ™¯éŸ³ä¹æ˜¯è¿™é¦–ï¼Œè¶…çº§é…·å¸…ï¼š<a href="https://www.bilibili.com/video/av6639433/" target="_blank" rel="noopener">ã€ä½ çš„åå­—ã€‚ã€‘å¤¢ç¯ç¬¼ / RADWIMPS<em>å®…èˆ</em>èˆè¹ˆ<em>bilibili</em>å“”å“©å“”å“©</a>ã€‚</p><p>å†æ¬¡åæ§½ä¸€ä¸‹äº‘æ‘çš„ç‰ˆæƒé—®é¢˜ã€‚</p><h2 id="äº”äº”å¼€"><a href="#äº”äº”å¼€" class="headerlink" title="äº”äº”å¼€"></a>äº”äº”å¼€</h2><p><img src="https://i.imgur.com/iz4JFjY.jpg" height="600"></p><p>æœ€å¼€å§‹æ¥äº‘æ‘çš„ä¸€ä¸ªé‡è¦åŸå› æ˜¯äº‘æ‘çš„æ—¥æ¨çœŸçš„ä¸é”™ï¼Œä½†ä¹Ÿåªæ˜¯æœ€å¼€å§‹è€Œå·²ï¼Œè¶Šåˆ°åé¢ä½ è¶Šä¼šå‘ç°ï¼Œè¿™æ—¥æ¨æœ‰ä¸¥é‡çš„è¿‡åº¦æ¨èçš„å«Œç–‘ï¼Œä½ å¬äº†ä¸€é¦–æŸç§ç±»å‹çš„æ­Œï¼Œéš”å¤©å°±ç»™ä½ ç‹‚æ¨ï¼Œç®€ç›´æ™ºéšœï¼ç°åœ¨æˆ‘ä½¿ç”¨æ—¥æ¨çš„é¢‘ç‡ç›´çº¿ä¸‹é™ã€‚</p><h2 id="å‘¨æ°ä¼¦"><a href="#å‘¨æ°ä¼¦" class="headerlink" title="å‘¨æ°ä¼¦"></a>å‘¨æ°ä¼¦</h2><p><img src="https://i.imgur.com/yby104Z.jpg" height="600"></p><p>è¿™ä¸ªæ²¡æ¯›ç—…ï¼Œ<strong>æ— ä¸ä¼¦æ¯”ï¼Œä¸ºæ°æ²‰ä¼¦</strong>ã€‚</p><h2 id="862"><a href="#862" class="headerlink" title="862"></a>862</h2><p><img src="https://i.imgur.com/1yvXQPl.jpg" height="600"></p><p>862 å°æ—¶ï¼Œå¤§çº¦ 36 å¤©ï¼Œç›¸å½“äºè¿ç»­ä¸€ä¸ªæœˆ 24 å°æ—¶ä¸é—´æ–­éƒ½åœ¨å¬æ­Œï¼ŒOMG ğŸ˜²</p><h2 id="åå¤§"><a href="#åå¤§" class="headerlink" title="åå¤§"></a>åå¤§</h2><p><img src="https://i.imgur.com/ZvXFWen.jpg" height="600"></p><p>æ€»çš„æ¥è¯´è¿˜å¯ä»¥å§ï¼Œåªæ˜¯å¸Œæœ›æ–°çš„ä¸€å¹´äº‘æ‘èƒ½å¤Ÿæ‹¿åˆ°æ›´å¤šç‰ˆæƒï¼</p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åˆæ˜¯ä¸€å¹´ï¼Œæœ€è¿‘ç½‘æ˜“äº‘éŸ³ä¹æ¨å‡ºäº†å¹´åº¦å¬æ­ŒæŠ¥å‘Šï¼Œæ¥çœ‹çœ‹æˆ‘çš„æŠ¥å‘Šå§ï¼Œä¹Ÿæ˜¯è®°å½•ä¸‹æ¥å’Œä»¥ååšä¸ªæ¯”è¾ƒ ğŸ˜„&lt;/p&gt;
&lt;h2 id=&quot;æ¸©æš–åŒè¡Œ&quot;&gt;&lt;a href=&quot;#æ¸©æš–åŒè¡Œ&quot; class=&quot;headerlink&quot; title=&quot;æ¸©æš–åŒè¡Œ&quot;&gt;&lt;/a&gt;æ¸©æš–åŒè¡Œ&lt;/h2&gt;&lt;p&gt;&lt;img sr
      
    
    </summary>
    
    
      <category term="Living" scheme="https://secsilm.github.io/tags/Living/"/>
    
  </entry>
  
  <entry>
    <title>Google sitemap ä¸å…è®¸çš„ç½‘å€çš„è§£å†³åŠæ³•</title>
    <link href="https://secsilm.github.io/2017/12/30/google-sitemap/"/>
    <id>https://secsilm.github.io/2017/12/30/google-sitemap/</id>
    <published>2017-12-30T03:20:47.000Z</published>
    <updated>2018-03-15T07:57:20.481Z</updated>
    
    <content type="html"><![CDATA[<p><link href="https://cdn.pydata.org/bokeh/release/bokeh-0.12.14.min.css" rel="stylesheet" type="text/css"></p><p><link href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.14.min.css" rel="stylesheet" type="text/css"></p><link href="https://cdn.pydata.org/bokeh/release/bokeh-tables-0.12.14.min.css" rel="stylesheet" type="text/css"><script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-0.12.14.min.js"></script><script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.14.min.js"></script><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>è¿™æ®µæ—¶é—´æ­å»ºå¥½è‡ªå·±çš„<a href="https://secsilm.github.io/">åšå®¢</a>åï¼Œæƒ³è¦è®©åˆ«äººå¯ä»¥åœ¨ Google ä¸­æ‰¾åˆ°æˆ‘çš„æ–‡ç« ï¼Œäºæ˜¯å°±å¾—æ·»åŠ  sitemapï¼Œæ€ä¹ˆç”Ÿæˆ sitemap çš„ç›¸å…³æ–‡ç« æœ‰å¾ˆå¤šï¼Œæˆ‘åœ¨è¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚æˆ‘åœ¨<code>npm install hexo-generator-sitemap --save</code>è£…äº†æ’ä»¶åï¼Œç¡®å®ç”Ÿæˆäº†<code>sitemap.xml</code>æ–‡ä»¶ï¼Œä½†æ˜¯æäº¤åˆ° <a href="https://www.google.com/webmasters/tools/" target="_blank" rel="noopener">Google Search Console</a> çš„æ—¶å€™å°±å‡ºé”™äº†ï¼šä¸å…è®¸çš„ç½‘å€ï¼ˆå¿˜äº†æˆªå›¾ï¼‰ã€‚</p><blockquote><p>Noteï¼šæœ¬æ–‡æ–¹æ³•åªæ˜¯è®¸å¤šè§£å†³æ–¹æ³•ä¸­çš„ä¸€ä¸ªï¼Œé€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› ä¹Ÿä¸æ­¢ä¸€ä¸ªï¼ˆè§<a href="https://support.google.com/webmasters/answer/183669?hl=zh-Hans&amp;visit_id=1-636501984739210099-2033365588&amp;rd=1#errors" target="_blank" rel="noopener">å®Œæ•´é”™è¯¯åˆ—è¡¨</a>ï¼‰ï¼Œå› æ­¤æœ¬æ–‡æ–¹æ³•å¯èƒ½å¹¶ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ï¼Œä»…ä¾›å‚è€ƒã€‚</p></blockquote><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>ç½‘ä¸Šæœäº†å¥½å¤šæ–‡ç« ï¼Œåƒç¯‡ä¸€å¾‹ï¼Œä¸€ä¸ªå¶ç„¶çš„æœºä¼šæˆ‘ä»”ç»†çœ‹äº†ä¸‹æˆ‘ç”Ÿæˆçš„<code>sitemap.xml</code>æ–‡ä»¶ï¼Œç»“æœå‘ç°ï¼š</p><p><img src="https://i.imgur.com/nOZWc4R.png" alt="é”™è¯¯çš„ sitemap"></p><p>å¯ä»¥çœ‹åˆ°åœ°å€éƒ½æ˜¯é”™çš„ï¼Œéƒ½æ˜¯<code>yoursite.com</code>å¼€å¤´ï¼Œè¿™å¾ˆæ˜æ˜¾ä¸æ˜¯æˆ‘çš„ç½‘å€å•Š ğŸ˜²ï¼Œè‚¯å®šæ˜¯æˆ‘çŠ¯äº†ä¸ª stupid é”™è¯¯ï¼Œå“ªé‡Œçš„é»˜è®¤é…ç½®æ²¡æœ‰æ”¹ã€‚</p><p>åæ¥åœ¨æ£€æŸ¥æˆ‘çš„<code>_config.yml</code>æ–‡ä»¶çš„æ—¶å€™å‘ç°ï¼š</p><p><img src="https://i.imgur.com/QJUu4zq.png" alt="config.yml"></p><p><code>url</code>ç«Ÿç„¶å†™çš„æ˜¯é»˜è®¤å€¼ï¼Œæ²¡æœ‰æ”¹ï¼</p><p>é‚£ä¹ˆæŠŠ<code>url</code>æ”¹æˆä½ çš„åœ°å€å°±å¯ä»¥äº†ï¼Œä¾‹å¦‚æˆ‘çš„</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url:</span> <span class="attr">https://secsilm.github.io/</span></span><br></pre></td></tr></table></figure><p>ç„¶å<code>hexo g -d</code>æ›´æ–°ç½‘ç«™ï¼Œå†åœ¨ Google Search Console é‡æ–°æäº¤ä¸€æ¬¡ sitemap å°±å¯ä»¥äº†ã€‚</p><p><img src="https://i.imgur.com/O4OhpQw.png" alt="success"></p><p>Problem solvedï¼</p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;link href=&quot;https://cdn.pydata.org/bokeh/release/bokeh-0.12.14.min.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;link href=&quot;https://cdn.
      
    
    </summary>
    
    
      <category term="hexo" scheme="https://secsilm.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>ç†è§£ LSTM ç½‘ç»œ</title>
    <link href="https://secsilm.github.io/2017/12/29/understanding-lstms/"/>
    <id>https://secsilm.github.io/2017/12/29/understanding-lstms/</id>
    <published>2017-12-29T10:58:00.000Z</published>
    <updated>2017-12-29T12:37:51.845Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¯‘è€…æ³¨ï¼š</p><ul><li>æœ¬æ–‡åŸæ–‡ä¸º Christopher Olah äº 2015 å¹´å‘è¡¨åœ¨è‡ªå·±<a href="http://colah.github.io/" target="_blank" rel="noopener">åšå®¢</a>ä¸Šçš„ç»å…¸æ–‡ç« ï¼š<a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/" target="_blank" rel="noopener">Understanding LSTM Networks â€” colahâ€™s blog</a>ã€‚</li><li>æ²¡æœ‰ç¿»è¯‘åŸæ–‡ä¸­çš„ Acknowledgments éƒ¨åˆ†ï¼Œæ­¤éƒ¨åˆ†ä¸ºè‡´è°¢ï¼Œç§ä»¥ä¸ºæ— å…³ã€‚</li><li>æ–‡ä¸­æ‹¬å·æˆ–è€…å¼•ç”¨å—ä¸­çš„ <em>æ–œä½“å­—</em> ä¸ºå¯¹åº”çš„è‹±æ–‡åŸæ–‡æˆ–è€…æˆ‘è‡ªå·±æ³¨é‡Šçš„è¯ï¼ˆä¼šæ ‡æ˜ <em>è¯‘è€…æ³¨</em>ï¼‰ï¼Œå¦åˆ™ä¸ºåŸæ–‡ä¸­æœ¬æ¥å°±æœ‰çš„è¯ã€‚</li><li>æœ¬äººæ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡å‡ºã€‚</li></ul></blockquote><h2 id="Recurrent-Neural-Networks"><a href="#Recurrent-Neural-Networks" class="headerlink" title="Recurrent Neural Networks"></a>Recurrent Neural Networks</h2><p>äººä»¬ä¸ä¼šæ¯ä¸€ç§’éƒ½ä»å¤´å¼€å§‹æ€è€ƒã€‚å½“ä½ é˜…è¯»è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œä½ æ ¹æ®å‰é¢çš„å•è¯æ¥ç†è§£åé¢çš„å•è¯ã€‚ä½ ä¸ä¼šæ‰”æ‰ä»–ä»¬ç„¶åé‡æ–°å¼€å§‹æ€è€ƒã€‚ä½ çš„æ€è€ƒå…·æœ‰æŒç»­æ€§ã€‚</p><p>ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œåšä¸åˆ°è¿™ä¸€ç‚¹ï¼Œè€Œä¸”è¿™ä¼¼ä¹æ˜¯ä¸€ä¸ªä¸»è¦ç¼ºç‚¹ã€‚ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ä¸‹ä½ æƒ³è¦å¯¹ä¸€ä¸ªç”µå½±ä¸­æ¯ä¸€å¸§æ‰€å‘ç”Ÿçš„äº‹ä»¶ç±»å‹è¿›è¡Œåˆ†ç±»ï¼Œè€Œä¼ ç»Ÿç¥ç»ç½‘ç»œå´ä¸èƒ½å¤Ÿåˆ©ç”¨å…ˆå‰çš„äº‹æƒ…æ¥æ¨ç†åæ¥çš„äº‹æƒ…ã€‚</p><p>Recurrent Neural Networksï¼ˆ<em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° RNN</em>ï¼‰è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä»–ä»¬åœ¨ç½‘ç»œå†…éƒ¨æœ‰å¾ªç¯ï¼Œå¯ä»¥è®©ä¿¡æ¯å…·æœ‰æŒç»­æ€§ã€‚</p><p><img src="https://i.imgur.com/A8appFv.png" height="180" alt="Recurrent Neural Networks have loops." )=""></p><center><font color="gray">RNN ä¸­æœ‰å¾ªç¯</font></center><p>ä¸Šå›¾æ˜¯ç¥ç»ç½‘ç»œçš„ä¸€éƒ¨åˆ†ï¼Œå…¶ä¸­ $A$ è§‚å¯Ÿè¾“å…¥ $x_t$ å¹¶è¾“å‡ºä¸€ä¸ªå€¼ $h_t$ï¼Œå¾ªç¯ä½¿å¾—ä¿¡æ¯å¯ä»¥ä»ç½‘ç»œä¸­çš„ä¸€æ­¥ä¼ é€’åˆ°ä¸‹ä¸€æ­¥ã€‚</p><p>è¿™äº›å¾ªç¯ä½¿å¾— RNN çœ‹èµ·æ¥æœ‰äº›ç¥ç§˜ã€‚ç„¶è€Œå¦‚æœä½ å†è¿›ä¸€æ­¥æƒ³æƒ³ï¼Œå°±ä¼šå‘ç°ä»–ä»¬ä¸æ™®é€šçš„ç¥ç»ç½‘ç»œå¹¶ä¸æ˜¯å®Œå…¨ä¸åŒã€‚ä¸€ä¸ª RNN å¯ä»¥è¢«æƒ³æˆæ˜¯å¯¹åŒä¸€ä¸ªç½‘ç»œçš„å¤šæ¬¡å¤åˆ¶ï¼Œæ¯æ¬¡éƒ½æŠŠä¿¡æ¯ä¼ é€’ç»™ä¸‹ä¸€ä¸ªã€‚è€ƒè™‘ä¸€ä¸‹å¦‚æœæˆ‘ä»¬æŠŠå¾ªç¯å±•å¼€ï¼ˆ<em>unroll</em>ï¼‰ä¼šå‘ç”Ÿä»€ä¹ˆï¼š</p><p><img src="https://i.imgur.com/0Wik9NF.png" alt="rnn-unrolled"></p><center><font color="gray">ä¸€ä¸ªå±•å¼€çš„ RNN</font></center><p>è¿™ç§é“¾çŠ¶æ€§è´¨è¡¨æ˜ RNN ä¸åºåˆ—ï¼ˆ<em>sequences</em>ï¼‰å’Œåˆ—è¡¨ï¼ˆ<em>lists</em>ï¼‰å¯†åˆ‡ç›¸å…³ï¼Œåœ¨å¤„ç†è¿™ç§æ•°æ®æ—¶ä»–ä»¬æ˜¯å¾ˆè‡ªç„¶çš„ç¥ç»ç½‘ç»œæ¶æ„ã€‚</p><p>è€Œä¸”ä»–ä»¬ä¹Ÿç¡®å®åœ¨è¢«ä½¿ç”¨ï¼è¿‡å»å‡ å¹´ä¸­ï¼ŒRNN è¢«åº”ç”¨äºä¸€ç³»åˆ—çš„ä»»åŠ¡å¹¶å–å¾—äº†ä»¤äººéš¾ä»¥ç½®ä¿¡çš„æˆåŠŸï¼šè¯­éŸ³è¯†åˆ«ï¼Œè¯­è¨€æ¨¡å‹ï¼Œç¿»è¯‘ï¼Œçœ‹å›¾è¯´è¯ï¼ˆ<em>image captioning</em>ï¼‰ç­‰ç­‰ã€‚ä½ å¯ä»¥é˜…è¯» Andrej Karpathy çš„ç²¾å½©åšæ–‡ â€”â€” <a href="http://karpathy.github.io/2015/05/21/rnn-effectiveness/" target="_blank" rel="noopener">The Unreasonable Effectiveness of Recurrent Neural Networks</a> æ¥äº†è§£é€šè¿‡ RNN å¯ä»¥å–å¾—çš„æƒŠäººæˆç»©ã€‚ä»–ä»¬çœŸçš„å¾ˆæ£’ã€‚</p><p>è¿™äº›æˆåŠŸçš„åŸºç¡€æ˜¯ä½¿ç”¨ LSTMsï¼Œä¸€ç§éå¸¸ç‰¹åˆ«åœ° RNNï¼Œåœ¨è®¸å¤šä»»åŠ¡ä¸­è¦æ¯”æ ‡å‡†ç‰ˆæœ¬å¥½ã€‚å‡ ä¹æ‰€æœ‰åŸºäº RNN çš„ä»¤äººæ¿€åŠ¨çš„æˆç»©éƒ½æ˜¯é€šè¿‡ä»–ä»¬è·å¾—çš„ã€‚è¿™ç¯‡æ–‡ç« è®¨è®ºçš„å°±æ˜¯è¿™äº› LSTMsã€‚</p><h2 id="The-Problem-of-Long-Term-Dependencies"><a href="#The-Problem-of-Long-Term-Dependencies" class="headerlink" title="The Problem of Long-Term Dependencies"></a>The Problem of Long-Term Dependencies</h2><p>RNNs å…¶ä¸­ä¸€ä¸ªæœ‰å¸å¼•åŠ›çš„åœ°æ–¹æ˜¯èƒ½å¤Ÿå°†ä»¥å‰çš„ä¿¡æ¯å’Œç°åœ¨çš„ä»»åŠ¡è”ç³»èµ·æ¥ï¼Œä¾‹å¦‚ä½¿ç”¨è§†é¢‘ä¸­çš„å‰å‡ å¸§ä¿¡æ¯å¯èƒ½ä¼šå¯¹å½“å‰å¸§çš„ç†è§£æœ‰å¸®åŠ©ã€‚å¦‚æœ RNNs èƒ½å¤Ÿåšåˆ°è¿™äº›ï¼Œé‚£ä¹ˆä»–ä»¬å°±æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä½†æ˜¯ä»–ä»¬èƒ½å—ï¼Ÿè¿™ä¸ä¸€å®šã€‚</p><p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½åªéœ€è¦æœ€è¿‘çš„ä¿¡æ¯æ¥å®Œæˆå½“å‰ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸€ä¸ªè¯•å›¾åŸºäºå‰é¢çš„è¯æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªè¯çš„è¯­è¨€æ¨¡å‹ï¼Œå¦‚æœæˆ‘ä»¬è¯•å›¾é¢„æµ‹ â€œthe clouds are in the <em>sky</em>â€ è¿™å¥è¯ä¸­çš„æœ€åä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸éœ€è¦æ›´å¤šçš„ä¿¡æ¯ï¼Œå¾ˆæ˜æ˜¾ä¸‹ä¸€ä¸ªè¯å°±æ˜¯ skyã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›¸å…³ä¿¡æ¯å’Œéœ€è¦çš„åœ°æ–¹ï¼ˆ<em>the place that itâ€™s needed</em>ï¼‰ä¹‹é—´çš„å·®è·å¾ˆå°ï¼Œé‚£ä¹ˆè¿™æ—¶å€™ RNNs å°±å¯ä»¥å­¦ä¹ åˆ°ä½¿ç”¨è¿‡å»çš„ä¿¡æ¯ã€‚ï¼ˆ<em>è¯‘è€…æ³¨ï¼šä¹Ÿå°±æ˜¯çŸ­æœŸä¾èµ–</em>ï¼‰</p><p><img src="https://i.imgur.com/HAvvUQV.png" height="180)"></p><p>ä½†æ˜¯ä¹Ÿæœ‰å…¶ä»–æƒ…å†µæ˜¯æˆ‘ä»¬éœ€è¦æ›´å¤šä¿¡æ¯çš„ã€‚è€ƒè™‘æˆ‘ä»¬éœ€è¦é¢„æµ‹ â€œI grew up in Franceâ€¦ I speak fluent <em>French</em>â€ è¿™å¥è¯ä¸­çš„æœ€åä¸€ä¸ªè¯ã€‚æœ€è¿‘çš„ä¿¡æ¯è¡¨æ˜è¿™ä¸ªè¯åº”è¯¥æ˜¯ä¸€ä¸ªè¯­è¨€çš„åå­—ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦çŸ¥é“å“ªä¸ªè¯­è¨€ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ç»“åˆæ›´å‰é¢çš„ France è¿™ä¸ªèƒŒæ™¯ã€‚è¿™æ—¶ç›¸å…³ä¿¡æ¯å’Œéœ€è¦çš„ç‚¹ï¼ˆ<em>the point where it is needed</em>ï¼‰ä¹‹é—´çš„å·®è·å°±ä¼šå˜å¾—éå¸¸å¤§ã€‚</p><p>ç„¶è€Œä¸å¹¸çš„æ˜¯ï¼Œéšç€è¿™ä¸ªå·®è·çš„å¢å¤§ï¼ŒRNNs è¶Šæ¥è¶Šéš¾ä»¥å­¦ä¹ ä½¿ç”¨ä»¥å‰çš„ä¿¡æ¯ã€‚</p><p><img src="https://i.imgur.com/Whfo6UB.png" height="180)"></p><p>ç†è®ºä¸Šæ¥è¯´ï¼ŒRNNs å®Œå…¨å¯ä»¥å¤„ç†è¿™ç§â€œé•¿æœŸä¾èµ–â€ï¼ˆ<em>long-term dependencies</em>ï¼‰ã€‚ä¸€ä¸ªäººå¯ä»¥å¾ˆä»”ç»†çš„é€‰æ‹©å‚æ•°æ¥è§£å†³è¿™ç§å½¢å¼çš„å°é—®é¢˜ï¼ˆ<em>toy problems</em>ï¼‰ã€‚ä¸è¿‡å®é™…ä¸Šï¼ŒRNNs ä¼¼ä¹å¹¶ä¸èƒ½å­¦ä¹ åˆ°è¿™ç§é•¿æœŸä¾èµ–ã€‚<a href="http://people.idsia.ch/~juergen/SeppHochreiter1991ThesisAdvisorSchmidhuber.pdf" target="_blank" rel="noopener">Hochreiter (1991) [German]</a> å’Œ <a href="http://www-dsi.ing.unifi.it/~paolo/ps/tnn-94-gradient.pdf" target="_blank" rel="noopener">Bengio, et al. (1994)</a> æ›¾ç»æ·±å…¥æ¢è®¨äº†è¿™ä¸ªé—®é¢˜ï¼Œå‘ç°äº†ä¸€äº›ç›¸å½“æ ¹æœ¬çš„åŸå› ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼ŒLSTMs å¹¶æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼</p><h2 id="LSTM-Networks"><a href="#LSTM-Networks" class="headerlink" title="LSTM Networks"></a>LSTM Networks</h2><p>é•¿çŸ­æœŸè®°å¿†ç½‘ç»œ â€”â€” é€šå¸¸ç®€ç§°ä¸ºâ€œLSTMsâ€ â€”â€” æ˜¯ä¸€ç§ç‰¹åˆ«çš„ RNNï¼Œèƒ½å¤Ÿå­¦ä¹ åˆ°é•¿æœŸä¾èµ–ã€‚LSTMs ç”± <a href="http://deeplearning.cs.cmu.edu/pdfs/Hochreiter97_lstm.pdf" target="_blank" rel="noopener">Hochreiter &amp; Schmidhuber (1997)</a> æå‡ºï¼Œå…¶åæœ‰å¾ˆå¤šäººéƒ½å¯¹å…¶è¿›è¡Œäº†æ”¹å–„å’Œæ¨å¹¿<sup><a href="#fn_1" id="reffn_1">1</a></sup>ã€‚LSTMs åœ¨è®¸å¤šä»»åŠ¡ä¸Šæ•ˆæœéƒ½éå¸¸å¥½ï¼Œç°åœ¨ä¹Ÿè¢«å¹¿æ³›ä½¿ç”¨ã€‚</p><p>LSTMs å°±æ˜¯è¢«è®¾è®¡ç”¨æ¥é¿å…é•¿æœŸä¾èµ–é—®é¢˜çš„ã€‚è®°ä½é•¿æ—¶é—´çš„ä¿¡æ¯å®é™…ä¸Šæ˜¯ä»–ä»¬çš„é»˜è®¤è¡Œä¸ºï¼Œè€Œä¸éœ€è¦å¯ä»¥å»è¿™æ ·åšï¼</p><p>æ‰€æœ‰çš„ RNN éƒ½æ˜¯åœ¨å°†ä¸€ä¸ªç¥ç»ç½‘ç»œçš„æ¨¡å—é‡å¤å¥½å¤šæ¬¡å¹¶é“¾å¼è¿æ¥èµ·æ¥ã€‚åœ¨æ ‡å‡†çš„ RNNs ä¸­ï¼Œè¿™ä¸ªè¢«é‡å¤çš„æ¨¡å—æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç»“æ„ï¼Œä¾‹å¦‚ä¸€ä¸ªå•å±‚çš„ tanh å±‚ã€‚</p><p><img src="https://i.imgur.com/KfFor4n.png" height="180)"></p><center><font color="gray">æ ‡å‡† RNN ä¸­çš„é‡å¤æ¨¡å—éƒ½å«æœ‰ä¸€å±‚</font></center><p>LSTMs ä¹Ÿæœ‰è¿™æ ·ä¸€ä¸ªé“¾å¼ç»“æ„ï¼Œä½†æ˜¯é‚£ä¸ªé‡å¤æ¨¡å—çš„ç»“æ„æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸ä»…æœ‰ä¸€ä¸ªå•å±‚ç¥ç»ç½‘ç»œä¸åŒçš„æ˜¯ï¼ŒLSTMs æœ‰ 4 å±‚ï¼Œä»¥ä¸€ç§éå¸¸ç‰¹æ®Šçš„æ–¹å¼è¿æ¥èµ·æ¥ã€‚</p><p><img src="https://i.imgur.com/UydD8qN.png" height="180)"></p><center><font color="gray">LSTMs ä¸­çš„é‡å¤æ¨¡å—å«æœ‰ 4 å±‚</font></center><p>ä¸è¦æ‹…å¿ƒè¿™é‡Œé¢çš„ç»†èŠ‚ã€‚ç¨åæˆ‘ä»¬å°†ä¼šé€æ­¥æ·±å…¥è¿™ä¸ª LSTMs å›¾ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å…ˆæ¥ç†Ÿæ‚‰ä¸‹æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„ç¬¦å·ï¼š</p><p><img src="https://i.imgur.com/CbUDJll.png" alt=""></p><p>ä¸Šå›¾ä¸­ï¼Œæ¯ä¸€æ¡çº¿éƒ½è¡¨ç¤ºä¸€ä¸ªå‘é‡ä»ä¸€ä¸ªè¾“å‡ºèŠ‚ç‚¹ä¼ åˆ°å…¶ä»–èŠ‚ç‚¹ä½œä¸ºè¾“å…¥ã€‚ç²‰è‰²åœ†åœˆè¡¨ç¤ºçš„æ˜¯ pointwise æ“ä½œï¼Œä¾‹å¦‚å‘é‡åŠ æ³•ï¼Œè€Œé»„è‰²ä¸¾è¡Œè¡¨ç¤ºçš„æ˜¯å¯å­¦ä¹ çš„ç¥ç»ç½‘ç»œå±‚ã€‚çº¿åˆåœ¨ä¸€èµ·è¡¨ç¤ºè¿æ¥ï¼ˆ<em>concatenation</em>ï¼‰ï¼Œçº¿åˆ†å‰è¡¨ç¤ºå…¶å†…å®¹è¢«å¤åˆ¶æˆå¤šä»½å¹¶ä¸”è¿™äº›å¤åˆ¶å“æµå‘ä¸åŒçš„æ–¹å‘ã€‚</p><h2 id="The-Core-Idea-Behind-LSTMs"><a href="#The-Core-Idea-Behind-LSTMs" class="headerlink" title="The Core Idea Behind LSTMs"></a>The Core Idea Behind LSTMs</h2><p>LSTMs çš„æ ¸å¿ƒæ˜¯å•å…ƒçŠ¶æ€ï¼ˆ<em>cell state</em>ï¼‰ï¼Œå°±æ˜¯é¡¶éƒ¨é‚£æ¡æ°´å¹³è´¯ç©¿æ•´ä¸ªå›¾çš„çº¿ã€‚</p><p>å•å…ƒçŠ¶æ€å°±åƒæ˜¯ä¸€ä¸ªä¼ é€å¸¦ï¼Œç›´æ¥ç©¿è¿‡æ•´ä¸ªé“¾å¼ç»“æ„ï¼Œä¸å…¶ä»–éƒ¨åˆ†ä»…æœ‰ä¸€äº›æ¬¡è¦çš„çº¿æ€§äº¤äº’ï¼Œå¯ä»¥éå¸¸å®¹æ˜“çš„ä¼ é€ä¿¡æ¯è€Œä¿æŒå…¶ä¸å˜ã€‚</p><p><img src="https://i.imgur.com/n7yh66F.png" height="180)"></p><p>LSTMs å¯ä»¥ç»™å•å…ƒçŠ¶æ€ç§»é™¤æˆ–è€…å¢åŠ ä¿¡æ¯ï¼Œç”±ä¸€ä¸ªç§°ä¸ºé—¨ï¼ˆ<em>gate</em>ï¼‰çš„ç»“æ„æ¥æ§åˆ¶ã€‚</p><p>é—¨æ˜¯ä¸€ç§è®©ä¿¡æ¯é€‰æ‹©æ€§é€šè¿‡çš„æ–¹å¼ï¼Œç”±ä¸€ä¸ª sigmoid å±‚å’Œä¸€ä¸ª pointwise ä¹˜æ³•æ“ä½œç»„æˆã€‚</p><p><img src="https://i.imgur.com/1yDnZiD.png" height="180)"></p><p>sigmoid å±‚è¾“å‡ºä¸€ä¸ªä»‹äº 0 å’Œ 1 ä¹‹é—´çš„æ•°å­—ï¼Œè¡¨ç¤ºæ¯ä¸€ä¸ªç»„ä»¶æœ‰å¤šå°‘ä¿¡æ¯å¯ä»¥ç©¿è¿‡ã€‚0 æ„å‘³ç€ä¸è®©ä»»ä½•ä¿¡æ¯ç©¿è¿‡ï¼Œ1 åˆ™æ„å‘³ç€è®©æ‰€æœ‰ä¿¡æ¯ç©¿è¿‡ã€‚</p><p>ä¸€ä¸ª LSTM æœ‰ 3 ä¸ªè¿™æ ·çš„é—¨ï¼Œæ¥ä¿æŠ¤å’Œç©ºå€¼å•å…ƒçŠ¶æ€ã€‚</p><h2 id="Step-by-Step-LSTM-Walk-Through"><a href="#Step-by-Step-LSTM-Walk-Through" class="headerlink" title="Step-by-Step LSTM Walk Through"></a>Step-by-Step LSTM Walk Through</h2><p>LSTM çš„ç¬¬ä¸€æ­¥å°±æ˜¯å†³å®šæˆ‘ä»¬è¦ä»å•å…ƒçŠ¶æ€ä¸­æ‰”æ‰ä»€ä¹ˆä¿¡æ¯ï¼Œè¿™ç”±ä¸€ä¸ªå«å¤±å¿†é—¨ï¼ˆ<em>forget gate layer</em>ï¼‰çš„ sigmoid å±‚æ¥æ§åˆ¶ã€‚å¤±å¿†é—¨çš„è¾“å…¥ä¸º $h<em>{t-1}$ å’Œ $x_t$ï¼Œç„¶åä¸ºå•å…ƒçŠ¶æ€ $C</em>{t-1}$ ä¸­çš„æ¯ä¸ªæ•°å­—è¾“å‡ºä¸€ä¸ª 0 å’Œ 1 ä¹‹é—´çš„æ•°ï¼Œ1 è¡¨ç¤ºå®Œå…¨ä¿ç•™ä¿¡æ¯ï¼Œè€Œ 0 è¡¨ç¤ºå®Œå…¨ä¸¢å»ä¿¡æ¯ã€‚</p><p>è®©æˆ‘ä»¬å›åˆ°è¯­è¨€æ¨¡å‹ï¼Œæˆ‘ä»¬æƒ³è¦åŸºäºæ‰€æœ‰å‰é¢çš„è¯æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ã€‚åœ¨è¿™æ ·ä¸€ä¸ªé—®é¢˜ä¸­ï¼Œå•å…ƒçŠ¶æ€å¯èƒ½åŒ…æ‹¬äº†å½“å‰ä¸»ä½“ï¼ˆ<em>subject</em>ï¼‰çš„æ€§åˆ«ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ­£ç¡®çš„ä»£è¯ã€‚å½“æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªæ–°çš„ä¸»ä½“æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦å¿˜è®°æ—§ä¸»ä½“çš„æ€§åˆ«ã€‚</p><p><img src="https://i.imgur.com/e8fiEJg.png" alt=""></p><p>ä¸‹ä¸€æ­¥å°±æ˜¯æˆ‘ä»¬è¦å†³å®šè¦åœ¨å•å…ƒçŠ¶æ€ä¸­å­˜å…¥ä»€ä¹ˆä¿¡æ¯ã€‚è¿™åŒ…æ‹¬ä¸¤éƒ¨åˆ†ã€‚é¦–å…ˆï¼Œä¸€ä¸ªå«åšè¾“å…¥é—¨ï¼ˆ<em>input gate layer</em>ï¼‰çš„ sigmoid å±‚å†³å®šæˆ‘ä»¬è¦æ›´æ–°å“ªäº›å€¼ã€‚ç„¶åä¸€ä¸ª tanh å±‚åˆ›å»ºä¸€ä¸ªæ–°çš„å€™é€‰å‘é‡ $\tilde{C}_t$ï¼Œè¿™ä¸ªå€¼ä¼šåŠ åˆ°å•å…ƒçŠ¶æ€ä¸­ã€‚ä¸‹ä¸€æ­¥æˆ‘ä»¬å°†ä¼šåˆ©ç”¨è¿™ä¸¤ä¸ªå‘é‡æ¥æ›´æ–°å•å…ƒçŠ¶æ€ã€‚</p><p>åœ¨è¯­è¨€æ¨¡å‹çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦ç”¨æ–°ä¸»ä½“çš„æ€§åˆ«æ›¿æ¢æ‰æ—§ä¸»ä½“çš„æ€§åˆ«ï¼Œå¹¶åŠ åˆ°å•å…ƒçŠ¶æ€ä¸­ã€‚</p><p><img src="https://i.imgur.com/8JE0JQW.png" alt="LSTM3-focus-i"></p><p>ç°åœ¨å¯ä»¥æŠŠæ—§çš„å•å…ƒçŠ¶æ€ $\tilde{C}_{t-1}$ æ›´æ–°ä¸ºæ–°çš„å•å…ƒçŠ¶æ€ $\tilde{C}_t$ äº†ï¼Œå‰é¢çš„æ­¥éª¤å·²ç»å†³å®šäº†è¦åšä»€ä¹ˆï¼Œç°åœ¨æˆ‘ä»¬åªéœ€è¦çœŸæ­£çš„å»åšå°±è¡Œäº†ã€‚</p><p>æˆ‘ä»¬è¦ä¹˜ä»¥ $f_t$ï¼Œä¹Ÿå°±æ˜¯ä¹‹å‰åœ¨å¤±å¿†é—¨æˆ‘ä»¬å†³å®šçš„è¦å¿˜è®°çš„ä¸œè¥¿ã€‚ç„¶åæˆ‘ä»¬åŠ ä¸Š $i_t*\tilde{C}_t$ï¼Œè¿™æ˜¯æ–°çš„å€™é€‰å€¼ï¼Œä¹˜ä¸Šæˆ‘ä»¬å†³å®šçš„è¦ä¸ºæ¯ä¸ªå•å…ƒçŠ¶æ€å€¼æ›´æ–°å¤šå°‘ã€‚</p><p>åœ¨è¯­è¨€æ¨¡å‹çš„ä¾‹å­ä¸­ï¼Œè¿™é‡Œå®é™…åšçš„å°±æ˜¯ä¸¢å¼ƒæ—§ä¸»ä½“çš„æ€§åˆ«ä¿¡æ¯ï¼ŒåŠ è¿›æ–°ä¸»ä½“çš„æ€§åˆ«ä¿¡æ¯ï¼Œå°±åƒæˆ‘ä»¬ä¹‹å‰è¦åšçš„é‚£æ ·ã€‚</p><p><img src="https://i.imgur.com/1FXS5pB.png" alt=""></p><p>æœ€åï¼Œæˆ‘ä»¬è¦å†³å®šè¾“å‡ºä»€ä¹ˆã€‚è¿™ä¸ªè¾“å‡ºå°†ä¼šæ˜¯åŸºäºæˆ‘ä»¬çš„å•å…ƒçŠ¶æ€çš„ï¼Œä½†æ˜¯æ˜¯ä¸€ä¸ªè¿‡æ»¤ç‰ˆæœ¬ï¼ˆ<em>filtered version</em>ï¼‰ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¿è¡Œä¸€ä¸ª sigmoid å±‚æ¥å†³å®šå•å…ƒçŠ¶æ€çš„å“ªäº›éƒ¨åˆ†ä¼šè¢«è¾“å‡ºã€‚ç„¶åï¼Œæˆ‘ä»¬æŠŠå•å…ƒçŠ¶æ€è¾“å…¥ç»™ä¸€ä¸ª tanh å±‚ï¼ˆæŠŠå€¼æ˜ å°„åˆ° $[-1,1]$ åŒºé—´å†…ï¼‰ï¼Œå¹¶ä¹˜ä¸Š sigmoid å±‚çš„è¾“å‡ºï¼Œç„¶åè¿™å°±æ˜¯æˆ‘ä»¬çš„è¾“å‡ºã€‚</p><p>åœ¨è¯­è¨€æ¨¡å‹çš„ä¾‹å­ä¸­ï¼Œç”±äºä»…ä»…æœ‰ä¸€ä¸ªä¸»ä½“ï¼Œä»¥é˜²æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆäº‹ï¼ŒLSTM å¯èƒ½ä¼šè¾“å‡ºä¸ä¸€ä¸ªåŠ¨è¯ç›¸å…³çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¯èƒ½ä¼šè¾“å‡ºè¡¨ç¤ºè¿™ä¸ªä¸»ä½“æ˜¯å•æ•°è¿˜æ˜¯å¤æ•°çš„ä¿¡æ¯ï¼Œä»¥ä¾¿æˆ‘ä»¬å¦‚æœçŸ¥é“æ¥ä¸‹æ¥è¦å‘ç”Ÿä»€ä¹ˆï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨åŠ¨è¯çš„ä»€ä¹ˆå½¢å¼ã€‚</p><p><img src="https://i.imgur.com/lLxeyBy.png" alt="LSTM3-focus-o"></p><h2 id="Variants-on-Long-Short-Term-Memory"><a href="#Variants-on-Long-Short-Term-Memory" class="headerlink" title="Variants on Long Short Term Memory"></a>Variants on Long Short Term Memory</h2><p>æˆ‘ç›®å‰æè¿°çš„æ˜¯éå¸¸æ™®é€šçš„ LSTMï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„ LSTMs éƒ½å’Œä¸Šé¢çš„ä¸€æ ·ã€‚äº‹å®ä¸Šï¼Œå‡ ä¹æ‰€æœ‰ä¸ LSTMs ç›¸å…³çš„è®ºæ–‡éƒ½ä¼šä½¿ç”¨ä¸€ä¸ªç¨å¾®ä¸åŒçš„ç‰ˆæœ¬ã€‚è¿™äº›åŒºåˆ«æ˜¯å¾ˆå°çš„ï¼Œä½†æ˜¯å…¶ä¸­ä¸€äº›åŒºåˆ«å€¼å¾—æˆ‘ä»¬æ³¨æ„ã€‚</p><p>å…¶ä¸­ä¸€ä¸ªæ¯”è¾ƒæµè¡Œçš„ LSTM å˜ä½“ç”± <a href="ftp://ftp.idsia.ch/pub/juergen/TimeCount-IJCNN2000.pdf" target="_blank" rel="noopener">Gers &amp; Schmidhuber (2000)</a> å¼•å…¥ï¼Œå¢åŠ äº†ä¸€ä¸ªã€ŒçŒ«çœ¼è¿æ¥ã€ï¼ˆ<em>peephole connections</em>ï¼‰ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬è®©é—¨å¯ä»¥çœ‹åˆ°å•å…ƒçŠ¶æ€ã€‚</p><p><img src="https://i.imgur.com/APS3oDp.png" alt="LSTM3-var-peepholes"></p><p>ä¸Šå›¾ç»™æ‰€æœ‰çš„é—¨éƒ½å¢åŠ äº†ã€ŒçŒ«çœ¼ã€ï¼Œä½†æ˜¯ä¸€äº›è®ºæ–‡åªä¼šåŠ ä¸€äº›ã€‚</p><p>å¦ä¸€ä¸ªå˜ä½“æ˜¯ä½¿ç”¨è€¦åˆçš„ï¼ˆ<em>coupled</em>ï¼‰å¤±å¿†é—¨å’Œè¾“å…¥é—¨ã€‚ä¸ç‹¬ç«‹çš„å†³å®šæˆ‘ä»¬è¦ä¸¢å¼ƒå’Œå¢åŠ å“ªäº›ä¿¡æ¯ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬ä¸€èµ·åšè¿™ä¸¤ä¸ªå†³å®šã€‚åªæœ‰å½“æˆ‘ä»¬è¾“å…¥ä¸€äº›æ–°ä¿¡æ¯çš„æ—¶å€™æ‰ä¼šä¸¢å¼ƒä¸€äº›ä¿¡æ¯ï¼Œåªæœ‰å½“æˆ‘ä»¬ä¸¢å¼ƒä¸€äº›æ—§ä¿¡æ¯çš„æ—¶å€™æ‰ä¼šè¾“å…¥æ–°ä¿¡æ¯ã€‚</p><p><img src="https://i.imgur.com/gdm03LC.png" alt="LSTM3-var-tied"></p><p>ç¨å¾®å¥½ç‚¹çš„ï¼ˆ<em>dramatic</em>ï¼‰LSTM å˜ä½“æ˜¯ Gated Recurrent Unitï¼Œç®€ç§° GRUï¼Œç”± <a href="http://arxiv.org/pdf/1406.1078v3.pdf" target="_blank" rel="noopener">Cho, et al. (2014)</a> æå‡ºã€‚GRU å°†å¤±å¿†é—¨å’Œè¾“å…¥é—¨ç»„åˆæˆä¸€ä¸ªæ›´æ–°é—¨ï¼ˆ<em>update gate</em>ï¼‰ã€‚åŒæ—¶ä¹Ÿåˆå¹¶äº†å•å…ƒçŠ¶æ€å’Œéšè—çŠ¶æ€ï¼Œä¹Ÿåšäº†ä¸€äº›å…¶ä»–æ”¹å˜ã€‚æœ€ç»ˆçš„æ¨¡å‹æ¯”æ ‡å‡†çš„ LSTM æ¨¡å‹æ›´ç®€å•ï¼Œè€Œä¸”è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚</p><p><img src="https://i.imgur.com/UEiY58u.png" alt="LSTM3-var-GRU"></p><p>è¿™åªæ˜¯ä¸€äº›æœ€æ˜¾è‘—çš„ LSTM å˜ä½“ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„ï¼Œä¾‹å¦‚ <a href="http://arxiv.org/pdf/1508.03790v2.pdf" target="_blank" rel="noopener">Yao, et al. (2015)</a> æå‡ºçš„ Depth Gated RNNsã€‚ä¹Ÿæœ‰ä¸€äº›æ–¹æ³•ç”¨å®Œå…¨ä¸åŒçš„æ–¹å¼æ¥å¤„ç†é•¿æœŸä¾èµ–çš„é—®é¢˜ï¼Œæ¯”å¦‚ <a href="http://arxiv.org/pdf/1402.3511v1.pdf" target="_blank" rel="noopener">Koutnik, et al. (2014)</a> æå‡ºçš„ Clockwork RNNsã€‚</p><p>å“ªä¸ªå˜ä½“æ˜¯æœ€å¥½çš„ï¼Ÿè¿™äº›å·®åˆ«å½±å“å¤§å—ï¼Ÿ<a href="http://arxiv.org/pdf/1503.04069.pdf" target="_blank" rel="noopener">Greff, et al. (2015)</a> å¯¹æµè¡Œçš„å˜ä½“åšäº†ä¸€ä¸ªå¾ˆå¥½çš„æ¯”è¾ƒï¼Œå‘ç°ä»–ä»¬éƒ½æ˜¯ä¸€æ ·çš„ã€‚<a href="http://jmlr.org/proceedings/papers/v37/jozefowicz15.pdf" target="_blank" rel="noopener">Jozefowicz, et al. (2015)</a> æµ‹è¯•äº†è¶…è¿‡ 10000 ç§ RNN æ¶æ„ï¼Œå‘ç°å…¶ä¸­ä¸€äº›åœ¨æŸäº›å…·ä½“ä»»åŠ¡ä¸Šçš„è¡¨ç°ä¼˜äº LSTMsã€‚</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>å‰é¢æˆ‘æåˆ°äººä»¬ä½¿ç”¨ RNNs å–å¾—äº†æ˜¾è‘—æˆæœï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨çš„ LSTMsã€‚ä»–ä»¬åœ¨å¤§å¤šæ•°ä»»åŠ¡ä¸Šéƒ½è¡¨ç°çš„å¾ˆå¥½ã€‚</p><p>å†™ä¸‹ä¸€å †æœ‰å…³ LSTMs çš„æ–¹ç¨‹ï¼Œè¿™è®© LSTMs çœ‹èµ·æ¥å¾ˆå“äººã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸€æ­¥ä¸€æ­¥çš„èµ°è¿› LSTMs å¯ä»¥è®©ä½ æ›´å¥½çš„ç†è§£ä»–ä»¬ã€‚</p><p>åœ¨å¯ä»¥ç”¨ RNNs å®Œæˆçš„ä»»åŠ¡ä¸Šä½¿ç”¨ LSTMs æ˜¯å‰è¿›çš„ä¸€å¤§æ­¥ã€‚å¾ˆè‡ªç„¶æˆ‘ä»¬ä¼šé—®ï¼šè¿˜æœ‰å¦å¤–ä¸€ä¸ªä¸€å¤§æ­¥å—ï¼Ÿç ”ç©¶è€…ä¸­çš„ä¸€ä¸ªæ™®éè§‚ç‚¹æ˜¯â€œæ˜¯çš„ï¼æœ‰ä¸‹ä¸€æ­¥è€Œä¸”è¿™ä¸ªä¸‹ä¸€æ­¥æ˜¯æ³¨æ„åŠ›æœºåˆ¶ï¼ˆ<em>attention</em>ï¼‰â€ã€‚è¿™ä¸ªæƒ³æ³•æ˜¯è®© RNN çš„æ¯ä¸€æ­¥éƒ½ä»æ›´å¤šçš„ä¿¡æ¯ä¸­æŒ‘é€‰ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ç”¨ä¸€ä¸ª RNN æ¥ä¸ºä¸€ä¸ªå›¾ç‰‡åŠ ä¸€äº›æ³¨é‡Šï¼Œæ¯ä¸ªè¾“å‡ºçš„è¯éƒ½å¯èƒ½å¯¹åº”çš„æ˜¯å›¾ç‰‡ä¸­çš„ä¸€éƒ¨åˆ†ã€‚<a href="http://arxiv.org/pdf/1502.03044v2.pdf" target="_blank" rel="noopener">Xu, et al. (2015)</a> å°±æ˜¯è¿™æ ·åšçš„ï¼Œå¦‚æœä½ æƒ³è¦ç»§ç»­æ¢ç´¢æ³¨æ„åŠ›çš„è¯ï¼Œé‚£ä¹ˆè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½åœ°èµ·ç‚¹ã€‚ä½¿ç”¨æ³¨æ„åŠ›å·²ç»æœ‰äº†ä¸€äº›å¾ˆå¥½åœ°ç»“æœï¼Œè€Œä¸”ä¼¼ä¹è¿˜æœ‰æ›´å¤šçš„ç»“æœå‡ºæ¥ã€‚æ³¨æ„åŠ›æœºåˆ¶å¹¶ä¸æ˜¯ RNN ç ”ç©¶ä¸­å”¯ä¸€ä»¤äººå…´å¥‹çš„éƒ¨åˆ†ï¼Œä¾‹å¦‚ <a href="http://arxiv.org/pdf/1507.01526v1.pdf" target="_blank" rel="noopener">Kalchbrenner, et al. (2015)</a> æå‡ºçš„ Grid LSTMs ä¼¼ä¹ä¹Ÿéå¸¸æœ‰å‰é€”ã€‚åœ¨ç”Ÿæˆæ¨¡å‹ä¸­ä½¿ç”¨ RNNs çœ‹èµ·æ¥ä¹Ÿéå¸¸æœ‰è¶£ï¼Œä¾‹å¦‚ <a href="http://arxiv.org/pdf/1502.04623.pdf" target="_blank" rel="noopener">Gregor, et al. (2015)</a>ï¼Œ<a href="http://arxiv.org/pdf/1506.02216v3.pdf" target="_blank" rel="noopener">Chung, et al. (2015)</a> å’Œ <a href="http://arxiv.org/pdf/1411.7610v3.pdf" target="_blank" rel="noopener">Bayer &amp; Osendorfer (2015)</a>ã€‚è¿‡å»å‡ å¹´å¯¹äº RNNs æ¥è¯´æ˜¯ä¸€ä¸ªæ¿€åŠ¨äººå¿ƒçš„æ—¶åˆ»ï¼Œæ¥ä¸‹æ¥å‡ å¹´åªä¼šæ›´æ˜¯å¦‚æ­¤ï¼</p><blockquote id="fn_1"><sup>1</sup>. é™¤äº†åŸä½œè€…ï¼Œè®¸å¤šäººéƒ½å¯¹ç°åœ¨çš„ LSTM åšå‡ºäº†è´¡çŒ®ã€‚ ä¸€ä¸ªä¸å®Œæ•´åå•ï¼šFelix Gersï¼ŒFred Cumminsï¼ŒSantiago Fernandezï¼ŒJustin Bayerï¼ŒDaan Wierstraï¼ŒJulian Togeliusï¼ŒFaustino Gomezï¼ŒMatteo Gaglioloï¼Œå’Œ <a href="https://scholar.google.com/citations?user=DaFHynwAAAAJ&amp;hl=en" target="_blank" rel="noopener">Alex Graves</a>ã€‚<a href="#reffn_1" title="Jump back to footnote [1] in the text."> &#8617;</a></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;è¯‘è€…æ³¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡åŸæ–‡ä¸º Christopher Olah äº 2015 å¹´å‘è¡¨åœ¨è‡ªå·±&lt;a href=&quot;http://colah.github.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åšå®¢&lt;/a
      
    
    </summary>
    
    
      <category term="Machine Learning" scheme="https://secsilm.github.io/tags/Machine-Learning/"/>
    
      <category term="Translation" scheme="https://secsilm.github.io/tags/Translation/"/>
    
  </entry>
  
  <entry>
    <title>æ‰¹é‡å¯¼å‡º CSDN åšå®¢ä¸º Markdown æ–‡ä»¶</title>
    <link href="https://secsilm.github.io/2017/12/25/export-csdn-blogs-to-md/"/>
    <id>https://secsilm.github.io/2017/12/25/export-csdn-blogs-to-md/</id>
    <published>2017-12-25T01:27:18.000Z</published>
    <updated>2017-12-25T04:02:17.276Z</updated>
    
    <content type="html"><![CDATA[<p>CSDN çœŸæ˜¯ğŸ’Šï¼Œç»å¸¸æ€§çš„ä¸èƒ½è®¿é—®ï¼Œè€Œä¸”å¦‚æœä¸ç”¨å¹¿å‘Šæ’ä»¶çš„è¯é¡µé¢ç®€ç›´ä¸èƒ½çœ‹ï¼Œå‰æ®µæ—¶é—´åˆæŒ‚äº†ï¼Œå‘äº†ä¸ªå¸–å­åæ§½äº†ä¸€ä¸‹ï¼š<a href="https://www.v2ex.com/t/416648#reply35" target="_blank" rel="noopener">CSDN åšå®¢åˆæŒ‚äº†ã€‚ã€‚ã€‚ - V2EX</a>ã€‚æœ¬æ¥ä¹Ÿè€ƒè™‘è¿‡è‡ªå·±åšä¸ªï¼Œçœ‹äº†å¥½ä¹…ï¼Œä½†æ˜¯ç”±äºè‡ªå·±å¯¹ç½‘ç«™ç›¸å…³çš„ä¸å¤ªæ‡‚ï¼Œçœ‹ç€æ•™ç¨‹åˆå¤æ‚ï¼Œå°±æ²¡å¼„äº†ã€‚CSDN è¿™æ¬¡æŒ‚çœŸè®©æˆ‘é“äº†å¿ƒå¼„è‡ªå·±çš„ç½‘ç«™ï¼Œç„¶åç”¨äº†ä¸€ä¸ªä¸‹åˆæ­èµ·æ¥äº†ï¼Œéšååˆé™†é™†ç»­ç»­æ”¹äº†æ”¹ä¸»é¢˜é…ç½®ä¹‹ç±»çš„ï¼Œå¼„è¿™ä¸ªè¿˜æ˜¯æˆ‘æœ€è¿‘ç¬¬ä¸€æ¬¡ä¸€ä¸¤ç‚¹æ‰ç¡ï¼Œåæ¥è¿˜æ„Ÿå†’äº† ğŸ˜</p><p>å†…å®¹ä¸ºç‹ï¼Œç«™æ­èµ·æ¥äº†ï¼Œå°±éœ€è¦å†…å®¹æ¥å……å®ã€‚ä½†æ˜¯æˆ‘çš„æ–‡ç« éƒ½åœ¨ CSDN ä¸Šï¼Œæ‰‹åŠ¨ä¸€ç¯‡ä¸€ç¯‡å¯¼è¿‡æ¥å¤ªæ…¢ï¼Œè€Œä¸” hexo çš„æ–‡ç« éœ€è¦åœ¨å¤´éƒ¨æ·»åŠ  <a href="https://hexo.io/zh-cn/docs/front-matter.html" target="_blank" rel="noopener">Front-matter</a>ï¼Œæ‰€ä»¥è¿™æ ·ä¸€æ¥å·¥ä½œé‡å°±æ›´å¤§äº†ï¼Œæ‰€ä»¥è€ƒè™‘ç”¨ Python æŠŠæ–‡ç« éƒ½çˆ¬è¿‡æ¥ï¼Œç„¶åç»Ÿä¸€æ·»åŠ  Front-matterã€‚</p><p>å®Œæ•´ç¨‹åºæºç åœ¨ <a href="https://github.com/secsilm/csdn2md" target="_blank" rel="noopener">secsilm/csdn2md: Export csdn blogs to markdown files.</a>ã€‚</p><blockquote><p>Noteï¼šä½ çš„æ–‡ç« å¿…é¡»æ˜¯ä½¿ç”¨ markdown å†™çš„ï¼Œä¸ç„¶æ— æ³•ä½¿ç”¨æœ¬æ–‡æ–¹æ³•å¯¼å‡ºã€‚</p></blockquote><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>å¯¹äºå•ç¯‡æ–‡ç« ï¼ŒCSDN æœ‰å¯¼å‡ºä¸º markdown çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://i.imgur.com/6aLaZPS.gif" alt="å¯¼å‡ºå•ç¯‡æ–‡ç« "></p><p>ä½†æ˜¯è¿™æ ·è´¹æ—¶è´¹åŠ›ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾åˆ°å½“æˆ‘ä»¬ç‚¹å‡»<code>ç¼–è¾‘</code>æŒ‰é’®æ—¶ï¼Œç½‘é¡µå‘æœåŠ¡å™¨å‘é€çš„è¯·æ±‚åœ°å€ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è·å–åˆ°åšå®¢å†…å®¹ï¼Œä¹Ÿå°±å¯ä»¥é‡æ–°å†™å…¥åˆ° markdown æ–‡ä»¶äº†ã€‚</p><p>æˆ‘ä»¬åœ¨æ–‡ç« é¡µæŒ‰<code>F12</code>è°ƒå‡ºå¼€å‘è€…å·¥å…·ï¼Œåˆ‡æ¢åˆ°<code>Network</code>é€‰é¡¹å¡ï¼Œç„¶åç‚¹å‡»<code>ç¼–è¾‘</code>ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å‡ ä¸ªè¯·æ±‚ï¼š</p><p><img src="https://i.imgur.com/Sg4Bb5w.png" alt="ä¸‰ä¸ªè¯·æ±‚"></p><p><code>webspeeds</code>æ— å…³ï¼Œé‚£ä¹ˆå‰©ä¸‹ä¸¤ä¸ªï¼Œä»åå­—å¯ä»¥å¾ˆå¿«çœ‹å‡ºæ¥æˆ‘ä»¬éœ€è¦çš„æ˜¯ç¬¬äºŒä¸ªï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://write.blog.csdn.net/mdeditor/getArticle?id=53418159&amp;username=u010099080</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼š<code>id</code>å’Œ<code>username</code>ï¼Œ<code>id</code>å°±æ˜¯æ–‡ç«  idï¼Œè¿™ä¸ªå¾ˆå¥½è·å–ï¼Œå¯ä»¥åœ¨æ–‡ç« åœ°å€ä¸­æ‰¾åˆ°ã€‚<code>username</code>åˆ™æ˜¯ä½ çš„ç”¨æˆ·åï¼Œä¹Ÿå¯ä»¥åœ¨ä½ çš„åšå®¢åœ°å€ä¸­æ‰¾åˆ°ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸‹è¯·æ±‚å¤´ï¼š</p><p><img src="https://i.imgur.com/gAkWlzs.png" alt="è¯·æ±‚å¤´"></p><p>å¯ä»¥çœ‹åˆ°å…¶å®ä¹Ÿæ²¡å•¥ç‰¹åˆ«çš„ï¼Œå…¶ä¸­<code>Cookie</code>æ˜¯ä¸€ä¼šå„¿æˆ‘ä»¬éœ€è¦çš„ï¼Œä½ å¯ä»¥å°†æ­¤å¤åˆ¶åˆ°ä¸€ä¸ª txt æ–‡ä»¶ï¼ˆå‡è®¾åå­—å«<code>cookies.txt</code>ï¼‰ä¸­ä»¥å¤‡åç”¨ã€‚ç”±äº cookie å­—ç¬¦ä¸²æ˜¯å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­çš„ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥è§£ææˆ<code>dict</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_and_parse_cookies</span><span class="params">(cookie_file)</span>:</span></span><br><span class="line">    <span class="string">"""è¯»å–å¹¶è§£æ cookiesã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        cookie_file: å«æœ‰ cookies å­—ç¬¦ä¸²çš„ txt æ–‡ä»¶å</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Returns:</span></span><br><span class="line"><span class="string">        ä¸€ä¸ªå­—å…¸å½¢å¼çš„ cookies</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">with</span> open(cookie_file, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        cookies_str = f.readline()</span><br><span class="line">    cookies_dict = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> cookies_str.split(<span class="string">";"</span>):</span><br><span class="line">        k, v = item.split(<span class="string">"="</span>, maxsplit=<span class="number">1</span>)</span><br><span class="line">        cookies_dict[k.strip()] = v.strip()</span><br><span class="line">    <span class="keyword">return</span> cookies_dict</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨<code>requests</code>æ¥å‘èµ·è¯·æ±‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">base_url = <span class="string">'http://write.blog.csdn.net/mdeditor/getArticle'</span></span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="string">'id'</span>: article_id,</span><br><span class="line">    <span class="string">'username'</span>: username</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># æ ¹æ®æ–‡ç«  id è·å–æ–‡ç« æ•°æ®</span></span><br><span class="line">r = requests.get(base_url, params=params, cookies=cookies)</span><br></pre></td></tr></table></figure><p>å†ä»å¼€å‘è€…å·¥å…·çœ‹ä¸‹è¯·æ±‚è¿”å›å€¼ï¼š</p><p><img src="https://i.imgur.com/VPMrb7Q.png" alt="Response"></p><p>åŸºæœ¬ä¸Šå›Šæ‹¬äº†ä¸€ç¯‡æ–‡ç« çš„æ‰€æœ‰ä¿¡æ¯äº†ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦é‡Œé¢çš„<code>markdowncontent</code>ã€<code>title</code>å’Œ<code>create</code>ã€‚è€Œä¸”è¿”å›çš„æ•°æ®æ˜¯ json æ ¼å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>json.loads()</code>æ¥è§£ææˆ<code>dict</code>æ ¼å¼ï¼Œæ–¹ä¾¿æˆ‘ä»¬å†™å…¥æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = json.loads(r.text, strict=<span class="keyword">False</span>)</span><br></pre></td></tr></table></figure><p>æœ€åç”±äºæˆ‘æ˜¯è¦å¯¼å…¥åˆ° hexo ç«™ç‚¹ä¸­ï¼Œæ‰€ä»¥éœ€è¦åŠ  Front-matterï¼Œæ‰€ä»¥åœ¨è·å–åˆ°æ–‡ç« å†…å®¹åï¼Œéœ€è¦å…ˆæŠŠå®šä¹‰å¥½çš„ Front-matter åŠ åˆ°æ–‡ç« å†…å®¹é‡Œï¼Œä¸€èµ·å†™å…¥æ–‡ä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> hexo:</span><br><span class="line">hexo_str = <span class="string">'---\ntitle: &#123;title&#125;\ndate: &#123;date&#125;\ntags:\n---\n\n'</span>.format(</span><br><span class="line">    title=title, date=data[<span class="string">'data'</span>][<span class="string">'create'</span>])</span><br><span class="line"><span class="comment"># Windows ä¸‹æ–‡ä»¶åä¸­çš„éæ³•å­—ç¬¦</span></span><br><span class="line">forbidden = [<span class="string">'\\'</span>, <span class="string">'/'</span>, <span class="string">':'</span>, <span class="string">'*'</span>, <span class="string">'?'</span>, <span class="string">'"'</span>, <span class="string">'&lt;'</span>, <span class="string">'&gt;'</span>, <span class="string">'|'</span>]</span><br><span class="line"><span class="comment"># å¦‚æœæ–‡ç« åå«æœ‰éæ³•å­—ç¬¦ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶ id ä½œä¸º md æ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">if</span> any([c <span class="keyword">in</span> repr(title) <span class="keyword">for</span> c <span class="keyword">in</span> forbidden]):</span><br><span class="line">    <span class="keyword">with</span> open(os.path.join(md_dir, article_id + <span class="string">'.md'</span>), <span class="string">'w'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(hexo_str + data[<span class="string">'data'</span>][<span class="string">'markdowncontent'</span>])</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">with</span> open(os.path.join(md_dir, title + <span class="string">'.md'</span>), <span class="string">'w'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(hexo_str + data[<span class="string">'data'</span>][<span class="string">'markdowncontent'</span>])</span><br></pre></td></tr></table></figure><p>è‡³äºå¦‚ä½•é€šè¿‡æ–‡ç« åˆ—è¡¨è·å–æ–‡ç«  idï¼Œè¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥çœ‹æºç ã€‚</p><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>ç¨‹åºä½¿ç”¨<code>fire</code>æ¥ä»å‘½ä»¤è¡Œæ¥æ”¶å‚æ•°ï¼Œå¦‚ä½•ä½¿ç”¨<code>fire</code>è¯·å‚è€ƒ <a href="https://secsilm.github.io/2017/04/22/python-fire/#%E6%9B%B4%E6%96%B0">Python è‡ªåŠ¨ç”Ÿæˆå‘½ä»¤è¡Œå·¥å…· - fire ç®€ä»‹ Â· Leeâ€™s Space Station</a>ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å¸®åŠ©ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python csdn2md.py -- --<span class="built_in">help</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Type:        <span class="keyword">function</span></span><br><span class="line">String form: &lt;<span class="keyword">function</span> to_md_files at 0x000001CACC8C5E18&gt;</span><br><span class="line">File:        d:\chromedownload\mdfiles\csdn2md.py</span><br><span class="line">Line:        47</span><br><span class="line">Docstring:   å¯¼å‡ºä¸º Markdown æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">Args:</span><br><span class="line">    total_pages: åšå®¢æ–‡ç« åœ¨æ‘˜è¦æ¨¡å¼ä¸‹çš„æ€»é¡µæ•°</span><br><span class="line">    filename: å«æœ‰ cookies å­—ç¬¦ä¸²çš„ txt æ–‡ä»¶å</span><br><span class="line">    start: ä» start é¡µå¼€å§‹å¯¼å‡º (default: &#123;1&#125;)</span><br><span class="line">    stop: åˆ° stop é¡µåœæ­¢ (default: &#123;None&#125;)</span><br><span class="line">    hexo: æ˜¯å¦æ·»åŠ  hexo æ–‡ç« å¤´éƒ¨å­—ç¬¦ä¸²ï¼ˆdefault: &#123;True&#125;ï¼‰</span><br><span class="line">    md_dir: md æ–‡ä»¶å¯¼å‡ºç›®å½•ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½•ï¼ˆdefault: .ï¼‰</span><br><span class="line"></span><br><span class="line">Usage:       csdn2md.py USERNAME TOTAL_PAGES COOKIE_FILE [START] [STOP] [HEXO] [MD_DIR]</span><br><span class="line">             csdn2md.py --username USERNAME --total-pages TOTAL_PAGES --cookie-file COOKIE_FILE [--start START] [--stop STOP] [--hexo HEXO] [--md-dir MD_DIR]</span><br></pre></td></tr></table></figure><p>ä»å¸®åŠ©å¯ä»¥çœ‹å‡ºï¼Œä½ éœ€è¦æä¾›ç”¨æˆ·å<code>username</code>ã€åšå®¢æ€»é¡µæ•°<code>total-pages</code>å’Œ cookie æ–‡ä»¶å<code>cookie-file</code>ï¼Œå¯é€‰å‚æ•°ä¸º<code>start</code>ã€<code>stop</code>ï¼ˆé»˜è®¤ä¸º<code>None</code>ï¼Œå³ä¸€ç›´åˆ°åšå®¢æ–‡ç« æœ€åä¸€é¡µï¼‰ã€<code>hexo</code>å’Œ<code>md-dir</code>ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ éœ€è¦å¯¼å‡ºåšå®¢çš„ç¬¬ä¸€é¡µæ–‡ç« åˆ°å½“å‰ç›®å½•ä¸‹çš„<code>mdfiles</code>ç›®å½•ï¼Œä½ çš„åšå®¢æ€»é¡µæ•°ä¸º<code>3</code>ï¼Œé‚£ä¹ˆåªéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python csdn2md.py --username u010099080 --total-pages 3 --cookie-file cookies.txt --stop 1 --md-dir mdfiles</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">2017-12-25 11:54:08 INFO: Page 1</span><br><span class="line">2017-12-25 11:54:08 INFO: Exporting ã€TensorFlowã€‘ç†è§£ Estimators å’Œ Datasets ...</span><br><span class="line">2017-12-25 11:54:08 INFO: Exporting Windows 10 èµ„æºç®¡ç†å™¨é»‘è‰²é£æ ¼ ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•æ¦‚è¿° ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting ä½¿ç”¨é›†æˆå­¦ä¹ æå‡æœºå™¨å­¦ä¹ ç®—æ³•æ€§èƒ½ ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting ã€TensorFlow | TensorBoardã€‘ç†è§£ TensorBoard ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting ã€Pythonã€‘Numpy ä¸­çš„ shuffle VS permutation ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting ã€TensorFlowã€‘DNNRegressor çš„ç®€å•ä½¿ç”¨ ...</span><br><span class="line">2017-12-25 11:54:09 INFO: Exporting XGBoost åœ¨ Windows 10 å’Œ Ubuntu ä¸Šçš„å®‰è£… ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting ã€Pythonã€‘è‡ªåŠ¨ç”Ÿæˆå‘½ä»¤è¡Œå·¥å…· - fire ç®€ä»‹ ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting å¥‡å¼‚å€¼åˆ†è§£ SVD çš„æ•°å­¦è§£é‡Š ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting ã€Pythonã€‘ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ä¸ªæ•° ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting ã€TensorFlowã€‘TensorFlow çš„å·ç§¯ç¥ç»ç½‘ç»œ CNN - TensorBoardç‰ˆ ...</span><br><span class="line">2017-12-25 11:54:10 INFO: Exporting ä½¿ç”¨ tree å‘½ä»¤æ ¼å¼åŒ–è¾“å‡ºç›®å½•ç»“æ„ ...</span><br><span class="line">2017-12-25 11:54:11 INFO: Exporting VSCode Markdown PDF å¯¼å‡ºæˆPDFæŠ¥ phantomjs binary does not exist é”™è¯¯çš„è§£å†³åŠæ³• ...</span><br><span class="line">2017-12-25 11:54:11 INFO: Exporting ã€Pythonã€‘numpy ä¸­çš„ copy é—®é¢˜è¯¦è§£ ...</span><br><span class="line">2017-12-25 11:54:11 INFO: Done!</span><br></pre></td></tr></table></figure><p><code>mdfiles</code>æ–‡ä»¶å¤¹ï¼š</p><p><img src="https://i.imgur.com/UK5pcCz.png" alt="mdfiles"></p><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2><p>å½“ç„¶ï¼Œå¯¼å‡ºçš„æ–‡ä»¶ä¸­ Front-matter ä¸­çš„ <code>tags</code> è¿˜æ˜¯éœ€è¦è‡ªå·±æ·»åŠ ï¼Œå› ä¸ºæˆ‘æƒ³è‡ªå·±å†é‡æ–°åŠ æ ‡ç­¾è€Œä¸æ˜¯ä½¿ç”¨åŸæ¥çš„æ ‡ç­¾ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨åŸæ¥çš„æ ‡ç­¾ï¼Œé‚£ä¹ˆåªéœ€æŠŠè¯·æ±‚è¿”å› json æ•°æ®ä¸­çš„<code>categories</code>æå–å‡ºæ¥åŠ è¿›å»å³å¯ã€‚</p><p>Merry Christmas! ğŸ˜„</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;CSDN çœŸæ˜¯ğŸ’Šï¼Œç»å¸¸æ€§çš„ä¸èƒ½è®¿é—®ï¼Œè€Œä¸”å¦‚æœä¸ç”¨å¹¿å‘Šæ’ä»¶çš„è¯é¡µé¢ç®€ç›´ä¸èƒ½çœ‹ï¼Œå‰æ®µæ—¶é—´åˆæŒ‚äº†ï¼Œå‘äº†ä¸ªå¸–å­åæ§½äº†ä¸€ä¸‹ï¼š&lt;a href=&quot;https://www.v2ex.com/t/416648#reply35&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
      
    
    </summary>
    
    
      <category term="Python" scheme="https://secsilm.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ç†è§£ Estimators å’Œ Datasets</title>
    <link href="https://secsilm.github.io/2017/12/22/understanding-estimators-datasets/"/>
    <id>https://secsilm.github.io/2017/12/22/understanding-estimators-datasets/</id>
    <published>2017-12-22T10:30:15.000Z</published>
    <updated>2017-12-24T15:08:35.711Z</updated>
    
    <content type="html"><![CDATA[<p>Google åœ¨ 2017 å¹´ 9 æœˆ 12 å·çš„åšæ–‡ <a href="https://developers.googleblog.com/2017/09/introducing-tensorflow-datasets.html" target="_blank" rel="noopener">Introduction to TensorFlow Datasets and Estimators</a> ä¸­ä»‹ç»äº†æ–°å¼•å…¥çš„ä¸¤ä¸ªæ–°ç‰¹æ€§ <a href="https://www.tensorflow.org/programmers_guide/datasets" target="_blank" rel="noopener">Datasets</a> å’Œ <a href="https://www.tensorflow.org/programmers_guide/estimators" target="_blank" rel="noopener">Estimators</a>ï¼š</p><ul><li><p>Datasetsï¼šåˆ›å»ºä¸€ä¸ªè¾“å…¥ç®¡é“ï¼ˆinput pipelinesï¼‰æ¥ä¸ºä½ çš„æ¨¡å‹è¯»å–æ•°æ®ï¼Œåœ¨è¿™ä¸ª pipelines ä¸­ä½ å¯ä»¥åšä¸€äº›æ•°æ®é¢„å¤„ç†ï¼Œå°½é‡éƒ½ä½¿ç”¨ TensorFlow è‡ªå·±çš„å‡½æ•°ï¼Œå³ <code>tf</code> å¼€å¤´çš„å‡½æ•°ï¼ˆæ¯”å¦‚ <code>tf.reshape</code>ï¼‰ï¼Œè¿™æ ·å¯ä»¥æé«˜ç¨‹åºæ‰§è¡Œæ•ˆç‡ã€‚</p></li><li><p>Estimatorsï¼šè¿™æ˜¯æ¨¡å‹çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè€Œ Estimators çš„æ ¸å¿ƒéƒ¨åˆ†åˆ™æ˜¯ä¸€ä¸ª <code>model_fn</code> å‡½æ•°ï¼ˆåé¢ä¼šç»†è®²ï¼‰ï¼Œä½ åœ¨è¿™ä¸ªå‡½æ•°ä¸­å®šä¹‰ä½ çš„æ¨¡å‹æ¶æ„ï¼Œè¾“å…¥æ˜¯ç‰¹å¾å’Œæ ‡ç­¾ï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªå®šä¹‰å¥½çš„ estimatorã€‚</p></li></ul><p><img src="https://i.imgur.com/CSw2x5g.png" alt="tensorflow architecture"><br><em>TensorFlow æ¶æ„ï¼Œå›¾è‡ª <a href="https://developers.googleblog.com/2017/09/introducing-tensorflow-datasets.html" target="_blank" rel="noopener">Google Developers Blog</a></em></p><p>å®é™…ä¸Šè¿™ä¸¤ä¸ªç‰¹æ€§å¹¶ä¸æ˜¯ç¬¬ä¸€æ¬¡å¼•å…¥ï¼Œåªä¸è¿‡ä¹‹å‰æ˜¯æ”¾åœ¨ <code>tf.contrib</code> é‡Œï¼Œè€Œè¿™æ¬¡æ˜¯å¼•å…¥åˆ°äº† TensorFlow æ ¸å¿ƒç»„ä»¶ä¸­ï¼Œæ„å‘³ç€å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚æˆ‘ 6 æœˆä»½çš„æ—¶å€™ä¹Ÿå†™è¿‡ä¸€ç¯‡<a href="http://blog.csdn.net/u010099080/article/details/72824899" target="_blank" rel="noopener">åšæ–‡</a>ç®€å•è¯´äº†ä¸‹ <code>tf.contrib.learn.DNNRegressor</code> çš„ä½¿ç”¨ï¼Œå®é™…ä¸Šè¿™å°±æ˜¯ Estimators å†…ç½®çš„ä¸€ä¸ªæ¨¡å‹ï¼ˆestimatorï¼‰ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯é«˜å±‚ APIï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ºäº†åˆ›å»ºä¸€ä¸ªæ¨¡å‹ä½ ä¸ç”¨å†å†™ä¸€äº›å¾ˆåº•å±‚çš„ä»£ç ï¼ˆæ¯”å¦‚å®šä¹‰æƒé‡åç½®é¡¹ï¼‰ï¼Œå¯ä»¥åƒ scikit-learn å’Œ Keras é‚£æ ·å¾ˆè½»æ¾çš„å‡ è¡Œä»£ç åˆ›å»ºä¸€ä¸ªæ¨¡å‹ï¼Œä¾¿äºå¿«é€Ÿå®ç°ã€‚</p><p>æœ¬ç¯‡åšæ–‡å°±æ˜¯è¯•å›¾å°†è¿™ä¸¤ä¸ªé«˜å±‚ API ç»“åˆèµ·æ¥ï¼Œä½¿ç”¨ TensorFlow çš„æ•°æ®æ ¼å¼ TFRecords æ¥å®ç°ä¸€ä¸ªåœ¨ <a href="https://www.cs.toronto.edu/~kriz/cifar.html" target="_blank" rel="noopener">CIFAR-10</a> æ•°æ®é›†ä¸Šçš„ CNN æ¨¡å‹ã€‚å®Œæ•´ä»£ç å¯åœ¨<a href="">æˆ‘çš„ GitHub</a> ä¸Šæ‰¾åˆ°ã€‚</p><blockquote><p>Noteï¼šæœ¬ç¯‡åšæ–‡ä¸­çš„æ¨¡å‹å¹¶ä¸æ˜¯ç»“æœæœ€å¥½çš„æ¨¡å‹ï¼Œä»…ä»…æ˜¯ä¸ºäº†å±•ç¤ºå¦‚ä½•å°† Estimators å’Œ Datasets ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚</p></blockquote><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>ä½ å¯ä»¥ä½¿ç”¨ <code>python cifar10-estimator-dataset.py --help</code> æ¥æŸ¥çœ‹å¯é€‰å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">       USAGE: cifar10-estimator-dataset.py [flags]</span><br><span class="line">flags:</span><br><span class="line"></span><br><span class="line">cifar10-estimator-dataset.py:</span><br><span class="line">  --batch_size: Batch size</span><br><span class="line">    (default: &apos;64&apos;)</span><br><span class="line">    (an integer)</span><br><span class="line">  --dropout_rate: Dropout rate</span><br><span class="line">    (default: &apos;0.5&apos;)</span><br><span class="line">    (a number)</span><br><span class="line">  --eval_dataset: Filename of evaluation dataset</span><br><span class="line">    (default: &apos;eval.tfrecords&apos;)</span><br><span class="line">  --learning_rate: Learning rate</span><br><span class="line">    (default: &apos;0.001&apos;)</span><br><span class="line">    (a number)</span><br><span class="line">  --model_dir: Filename of testing dataset</span><br><span class="line">    (default: &apos;models/cifar10_cnn_model&apos;)</span><br><span class="line">  --num_epochs: Number of training epochs</span><br><span class="line">    (default: &apos;10&apos;)</span><br><span class="line">    (an integer)</span><br><span class="line">  --test_dataset: Filename of testing dataset</span><br><span class="line">    (default: &apos;test.tfrecords&apos;)</span><br><span class="line">  --train_dataset: Filename of training dataset</span><br><span class="line">    (default: &apos;train.tfrecords&apos;)</span><br></pre></td></tr></table></figure><p>TFRecords å’Œ TensorBoard æ–‡ä»¶ï¼ˆåŒ…æ‹¬æˆ‘åšçš„æ‰€æœ‰ runï¼‰è¾ƒå¤§ï¼Œæ²¡æœ‰æ”¾åˆ° GitHub ä¸Šï¼Œä½ å¯ä»¥ä»ç™¾åº¦ç›˜ä¸Šè·å–ï¼š</p><ul><li><a href="https://pan.baidu.com/s/1jImZOGY" target="_blank" rel="noopener">TFRecords</a>ï¼ˆ133.4 MBï¼‰ï¼Œå¯†ç ï¼š<code>dp7u</code></li><li><a href="https://pan.baidu.com/s/1dFew7SH" target="_blank" rel="noopener">TensorBoard</a>ï¼ˆ1.45 GBï¼‰ï¼Œå¯†ç ï¼š<code>6885</code></li></ul><h2 id="æ¨¡å‹æ¶æ„"><a href="#æ¨¡å‹æ¶æ„" class="headerlink" title="æ¨¡å‹æ¶æ„"></a>æ¨¡å‹æ¶æ„</h2><p>ä¸ºäº†è®©å¤§å®¶å¯¹æ¨¡å‹æ¶æ„å…ˆæœ‰ä¸ªæ¸…æ™°åœ°äº†è§£ï¼Œæˆ‘å…ˆæŠŠ TensorBoard ï¼ˆä¸ç†Ÿæ‚‰ TensorBoard çš„è¯å¯ä»¥å‚è€ƒ<a href="http://blog.csdn.net/u010099080/article/details/77426577" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼‰ä¸­æ˜¾ç¤ºçš„æ¨¡å‹æ¶æ„å›¾è´´å‡ºæ¥ï¼ˆæ•°æ®é›†æˆ‘ä¹Ÿå°±ä¸ä»‹ç»äº†ï¼Œè¿™æ˜¯ä¸ªå¾ˆå¸¸ç”¨çš„æ•°æ®é›†ï¼Œå¦‚æœ‰ä¸ç†Ÿæ‚‰çš„å¯ä»¥å‚çœ‹<a href="http://blog.csdn.net/u010099080/article/details/53906810#%E6%95%B0%E6%8D%AE%E9%9B%86" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼‰ï¼š</p><p><img src="https://i.imgur.com/D1Qz5it.png" alt="cnn model"><em>æ¨¡å‹æ¶æ„</em></p><p>å¯ä»¥çœ‹åˆ°ä¸¤å±‚å·ç§¯å±‚ï¼Œä¸¤å±‚æ± åŒ–å±‚ï¼Œä¸¤å±‚ BN å±‚ï¼Œä¸€å±‚ dropoutï¼Œä¸‰å±‚å…¨è¿æ¥å±‚ï¼ˆ<code>DENSE</code>ï¼‰ã€‚</p><h2 id="è¯»å–æ•°æ®é›†"><a href="#è¯»å–æ•°æ®é›†" class="headerlink" title="è¯»å–æ•°æ®é›†"></a>è¯»å–æ•°æ®é›†</h2><p>åœ¨ç»™æ¨¡å‹ã€Œå–‚ã€æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p><ol><li><p>åˆ›å»ºä¸€ä¸ª <code>Dataset</code> å¯¹è±¡æ¥è¡¨ç¤ºæˆ‘ä»¬çš„æ•°æ®é›†ï¼Œæœ‰å¤šç§æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>Dataset</code> å¯¹è±¡ï¼Œæˆ‘è¯´å‡ ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„ï¼š</p><ul><li><code>tf.data.Dataset.from_tensor_slices()</code>ï¼šè¿™ç§æ–¹æ³•é€‚åˆäºä½ çš„æ•°æ®é›†æ˜¯ numpy æ•°ç»„ç±»å‹çš„ã€‚</li><li><strong><code>tf.data.TFRecordDataset()</code></strong>ï¼š<strong>è¿™æ˜¯æœ¬æ–‡æ‰€ä½¿ç”¨çš„æ–¹æ³•</strong>ï¼Œé€‚åˆäºä½ çš„æ•°æ®é›†æ˜¯ TFRecords ç±»å‹çš„ã€‚</li><li><code>tf.data.TextLineDataset()</code>ï¼šé€‚åˆäºä½ çš„æ•°æ®é›†æ˜¯ txt æ ¼å¼çš„ã€‚</li></ul></li><li><p>å¯¹æ•°æ®é›†è¿›è¡Œä¸€äº›é¢„å¤„ç†ï¼š</p><ul><li><code>Dataset.map()</code>ï¼šå’Œæ™®é€šçš„ <code>map</code> å‡½æ•°ä¸€æ ·ï¼Œå¯¹æ•°æ®é›†è¿›è¡Œä¸€äº›å˜æ¢ï¼Œä¾‹å¦‚å›¾åƒæ•°æ®é›†çš„ç±»å‹è½¬æ¢ï¼ˆuint8 -&gt; float32ï¼‰ä»¥åŠ <code>reshape</code> ç­‰ã€‚</li><li><code>Dataset.shuffle()</code>ï¼šæ‰“ä¹±æ•°æ®é›†</li><li><code>Dataset.batch()</code>ï¼šå°†æ•°æ®é›†åˆ‡åˆ†ä¸ºç‰¹å®šå¤§å°çš„ batch</li><li><code>Dataset.repeat()</code>ï¼šå°†æ•°æ®é›†é‡å¤å¤šæ¬¡ã€‚å¦‚æœä¸ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨ç¬¬ä¸€æ¬¡éå†åˆ°æ•°æ®é›†çš„ç»“å°¾çš„æ—¶å€™ï¼Œä¼šæŠ›å‡ºä¸€ä¸ª <code>tf.errors.OutOfRangeError</code> å¼‚å¸¸ï¼Œè¡¨ç¤ºæ•°æ®é›†å·²ç»éå†å®Œæ¯•ã€‚ä½†æ˜¯å®é™…ä¸­æˆ‘ä»¬å¯èƒ½éœ€è¦å¯¹æ•°æ®é›†è¿­ä»£è®­ç»ƒä¸æ­¢ä¸€æ¬¡ï¼Œè¿™æ—¶å€™å°±è¦ç”¨ <code>repeat()</code> æ¥é‡å¤æ•°æ®é›†å¤šæ¬¡ã€‚å¦‚æœä¸åŠ ä»»ä½•å‚æ•°ï¼Œé‚£ä¹ˆè¡¨ç¤ºé‡å¤æ•°æ®é›†æ— ç©·å¤šæ¬¡ã€‚</li></ul></li><li><p>ä½¿ç”¨ <code>Iterator</code> çš„ <code>get_next()</code> æ–¹æ³•æ¥æ¯æ¬¡è·å–ä¸€ä¸ª batch çš„æ•°æ®ï¼ˆå‡å¦‚ä½ æ˜¯ä½¿ç”¨ mini-batch è®­ç»ƒçš„è¯ï¼‰ã€‚ç›®å‰ TensorFlow æä¾›å››ç§ <code>Iterator</code>ï¼ˆè¯¦ç»†è§ <a href="https://www.tensorflow.org/programmers_guide/datasets#creating_an_iterator" target="_blank" rel="noopener">Creating an iterator</a>ï¼‰ï¼š</p><ul><li><strong>one-shot</strong>ï¼š<strong>è¿™æ˜¯æœ¬æ–‡ç¨‹åºæ‰€ä½¿ç”¨çš„æ–¹æ³•</strong>ï¼Œä½¿ç”¨ <code>Dataset.make_one_shot_iterator()</code> æ¥åˆ›å»ºï¼Œä¸éœ€è¦åˆå§‹åŒ–ã€‚å®˜æ–¹æœ‰è¿™ä¹ˆä¸€å¥è¯ï¼š<em>Note: Currently, one-shot iterators are the only type that is easily usable with an Estimator.</em> ä¸è¿‡å‘¢ï¼Œæˆ‘ä¹Ÿå‘ç°å¤–å›½å‹äºº Peter Roelants å†™äº†ä¸ªä¾‹å­å°†ä¸‹é¢çš„ initializable Iterator å’Œ Estimator ä¸€èµ·ä½¿ç”¨ï¼Œè§ <a href="https://gist.github.com/peterroelants/9956ec93a07ca4e9ba5bc415b014bcca" target="_blank" rel="noopener">Example using TensorFlow Estimator, Experiment &amp; Dataset on MNIST data</a>ã€‚</li><li>initializableï¼šä½¿ç”¨ <code>Dataset.make_initializable_iterator()</code> åˆ›å»ºï¼Œéœ€è¦ä½¿ç”¨ <code>iterator.initializer</code> åˆå§‹åŒ–ã€‚è¯¥æ–¹å¼å¯ä»¥å…è®¸ä½ è‡ªå®šä¹‰æ•°æ®é›†ï¼Œä¾‹å¦‚ä½ çš„æ•°æ®é›†æ˜¯ <code>range(0, max_value)</code>ï¼Œè¿™é‡Œé¢ <code>max_value</code> æ˜¯ä¸€ä¸ª <code>Tensor</code>ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ä½ éœ€è¦èµ‹å€¼ã€‚</li><li>reinitializableï¼šè¿™æ˜¯ç§æ¯”è¾ƒå¤æ‚çš„æ–¹å¼ï¼Œç®€å•æ¥è¯´ä¹Ÿå°±æ˜¯ä½¿ä½ å¯ä»¥ä»å¤šä¸ªä¸åŒçš„ <code>Dataset</code> å¯¹è±¡è·å–æ•°æ®ï¼Œè¯¦ç»†å¯è§ <a href="https://www.tensorflow.org/programmers_guide/datasets#creating_an_iterator" target="_blank" rel="noopener">Creating an iterator</a>ã€‚</li><li>feedableï¼šåŒæ ·æ¯”è¾ƒå¤æ‚ï¼Œå½“ç„¶æ›´çµæ´»ï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„ <code>Dataset</code> å¯¹è±¡å’Œ <code>tf.Session.run</code> ä½¿ç”¨ä¸åŒçš„ <code>Iterator</code>ï¼Œè¯¦ç»†å¯è§ <a href="https://www.tensorflow.org/programmers_guide/datasets#creating_an_iterator" target="_blank" rel="noopener">Creating an iterator</a>ã€‚</li></ul></li></ol><p>åœ¨ Estimator ä¸­ï¼Œæˆ‘ä»¬è¾“å…¥å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»è¿”å›ç‰¹å¾å’Œæ ‡ç­¾ï¼ˆæˆ–è€…åªæœ‰ç‰¹å¾ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠä¸Šé¢çš„å†…å®¹å†™åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ã€‚å› ä¸ºè®­ç»ƒè¾“å…¥å’ŒéªŒè¯è¾“å…¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥éœ€è¦ä¸¤ä¸ªè¾“å…¥å‡½æ•°ï¼š<code>train_input_fn</code> å’Œ <code>eval_input_fn</code>ã€‚ä¸ºäº†ä¿æŒæ–‡ç« ç®€æ´ï¼Œæˆ‘ä¸‹é¢åªåˆ—å‡º <code>train_input_fn</code>ï¼Œ<code>eval_input_fn</code> å’Œå…¶å¤§åŒå°å¼‚ã€‚</p><blockquote><p>æ­¤å¤„æˆ‘ä½¿ç”¨äº† <code>tf.data.TFRecordDataset</code>ï¼Œæ‰€ä»¥ä½ éœ€è¦å°†ä½ çš„æ•°æ®é›†å†™æˆ TFRecords æ ¼å¼ï¼Œæ¯”å¦‚ <code>train.tfrecords</code>ã€‚TFRecords æ ¼å¼æ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæ ·æœ¬ï¼ˆrecordï¼‰ï¼Œå…³äºå¦‚ä½•å°†æ•°æ®é›†å†™æˆ TFRecords æ ¼å¼ï¼Œæˆ‘å°†åœ¨å¦ä¸€ç¯‡åšæ–‡ä¸­è¯´æ˜ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_input_fn</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    è®­ç»ƒè¾“å…¥å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ª batch çš„ features å’Œ labels</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    train_dataset = tf.data.TFRecordDataset(FLAGS.train_dataset)</span><br><span class="line">    train_dataset = train_dataset.map(parser)</span><br><span class="line">    <span class="comment"># num_epochs ä¸ºæ•´ä¸ªæ•°æ®é›†çš„è¿­ä»£æ¬¡æ•°</span></span><br><span class="line">    train_dataset = train_dataset.repeat(FLAGS.num_epochs)</span><br><span class="line">    train_dataset = train_dataset.batch(FLAGS.batch_size)</span><br><span class="line">    train_iterator = train_dataset.make_one_shot_iterator()</span><br><span class="line"></span><br><span class="line">    features, labels = train_iterator.get_next()</span><br><span class="line">    <span class="keyword">return</span> features, labels</span><br></pre></td></tr></table></figure><p>è€Œå…¶ä¸­çš„ <code>map</code> å‡½æ•°çš„å‚æ•° <code>parser</code> ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå°†å›¾ç‰‡å’Œæ ‡ç­¾ä» TFRecords ä¸­è§£æå‡ºæ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parser</span><span class="params">(record)</span>:</span></span><br><span class="line">    keys_to_features = &#123;</span><br><span class="line">        <span class="string">'image_raw'</span>: tf.FixedLenFeature((), tf.string),</span><br><span class="line">        <span class="string">'label'</span>: tf.FixedLenFeature((), tf.int64)</span><br><span class="line">    &#125;</span><br><span class="line">    parsed = tf.parse_single_example(record, keys_to_features)</span><br><span class="line">    image = tf.decode_raw(parsed[<span class="string">'image_raw'</span>], tf.uint8)</span><br><span class="line">    image = tf.cast(image, tf.float32)</span><br><span class="line">    label = tf.cast(parsed[<span class="string">'label'</span>], tf.int32)</span><br><span class="line">    <span class="keyword">return</span> image, label</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤ï¼Œå…³äºæ¨¡å‹çš„ input pipeline å°±å·®ä¸å¤šç»“æŸäº†ã€‚ä¸‹é¢å°±æ˜¯æ¨¡å‹çš„æ ¸å¿ƒéƒ¨åˆ†äº†ï¼šå®šä¹‰ä¸€ä¸ªæ¨¡å‹å‡½æ•° <code>model_fn</code>ã€‚</p><h2 id="å®šä¹‰æ¨¡å‹å‡½æ•°"><a href="#å®šä¹‰æ¨¡å‹å‡½æ•°" class="headerlink" title="å®šä¹‰æ¨¡å‹å‡½æ•°"></a>å®šä¹‰æ¨¡å‹å‡½æ•°</h2><p>ä¸Šé¢æ˜¯å®šä¹‰äº† input pipelineï¼Œé‚£ä¹ˆç°åœ¨è¯¥æ¥å®šä¹‰æ¨¡å‹æ¶æ„äº†ã€‚æ¨¡å‹å¤§è‡´æ¶æ„å°±æ˜¯ä¸Šé¢çš„æ¨¡å‹æ¶æ„å›¾ã€‚è¯¥å‡½æ•°éœ€è¦è¿”å›ä¸€ä¸ªå®šä¹‰å¥½çš„ <code>tf.estimator.EstimatorSpec</code> å¯¹è±¡ï¼Œå¯¹äºä¸åŒçš„ <code>mode</code>ï¼Œæ‰€å¿…é¡»æä¾›çš„å‚æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼š</p><ul><li>è®­ç»ƒæ¨¡å¼ï¼Œå³ <code>mode == tf.estimator.ModeKeys.TRAIN</code>ï¼Œå¿…é¡»æä¾›çš„æ˜¯ <code>loss</code> å’Œ <code>train_op</code>ã€‚</li><li>éªŒè¯æ¨¡å¼ï¼Œå³ <code>mode == tf.estimator.ModeKeys.EVAL</code>ï¼Œå¿…é¡»æä¾›çš„æ˜¯ <code>loss</code>ã€‚</li><li>é¢„æµ‹æ¨¡å¼ï¼Œå³ <code>mode == tf.estimator.ModeKeys.PREDICT</code>ï¼Œå¿…é¡»æä¾›çš„æ˜¯ <code>predicitions</code>ã€‚</li></ul><blockquote><p>ä¸ºä¿æŒæ–‡ç« ç®€æ´ï¼Œæˆ‘çœç•¥äº†ä¸€äº›é‡å¤æ€§ä»£ç ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cifar_model_fn</span><span class="params">(features, labels, mode)</span>:</span></span><br><span class="line">    <span class="string">"""Model function for cifar10 model"""</span></span><br><span class="line">    <span class="comment"># è¾“å…¥å±‚</span></span><br><span class="line">    x = tf.reshape(features, [<span class="number">-1</span>, <span class="number">32</span>, <span class="number">32</span>, <span class="number">3</span>])</span><br><span class="line">    <span class="comment"># ç¬¬ä¸€å±‚å·ç§¯å±‚</span></span><br><span class="line">    x = tf.layers.conv2d(inputs=x, filters=<span class="number">64</span>, kernel_size=[</span><br><span class="line">                             <span class="number">3</span>, <span class="number">3</span>], padding=<span class="string">'same'</span>, activation=tf.nn.relu, name=<span class="string">'CONV1'</span>)</span><br><span class="line">    x = tf.layers.batch_normalization(</span><br><span class="line">        inputs=x, training=mode == tf.estimator.ModeKeys.TRAIN, name=<span class="string">'BN1'</span>)</span><br><span class="line">    <span class="comment"># ç¬¬ä¸€å±‚æ± åŒ–å±‚</span></span><br><span class="line">    x = tf.layers.max_pooling2d(inputs=x, pool_size=[</span><br><span class="line">                                    <span class="number">3</span>, <span class="number">3</span>], strides=<span class="number">2</span>, padding=<span class="string">'same'</span>, name=<span class="string">'POOL1'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä½ å¯ä»¥æ·»åŠ æ›´å¤šçš„å·ç§¯å±‚å’Œæ± åŒ–å±‚ â€¦â€¦</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…¨è¿æ¥å±‚</span></span><br><span class="line">    x = tf.reshape(x, [<span class="number">-1</span>, <span class="number">8</span> * <span class="number">8</span> * <span class="number">128</span>])</span><br><span class="line">    x = tf.layers.dense(inputs=x, units=<span class="number">512</span>, activation=tf.nn.relu, name=<span class="string">'DENSE1'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä½ å¯ä»¥æ·»åŠ æ›´å¤šçš„å…¨è¿æ¥å±‚ â€¦â€¦</span></span><br><span class="line"></span><br><span class="line">    logits = tf.layers.dense(inputs=x, units=<span class="number">10</span>, name=<span class="string">'FINAL'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¢„æµ‹</span></span><br><span class="line">    predictions = &#123;</span><br><span class="line">        <span class="string">'classes'</span>: tf.argmax(input=logits, axis=<span class="number">1</span>, name=<span class="string">'classes'</span>),</span><br><span class="line">        <span class="string">'probabilities'</span>: tf.nn.softmax(logits, name=<span class="string">'softmax_tensor'</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> mode == tf.estimator.ModeKeys.PREDICT:</span><br><span class="line">        <span class="keyword">return</span> tf.estimator.EstimatorSpec(mode=mode, predictions=predictions)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—æŸå¤±ï¼ˆå¯¹äº TRAIN å’Œ EVAL æ¨¡å¼ï¼‰</span></span><br><span class="line">    onehot_labels = tf.one_hot(indices=tf.cast(labels, tf.int32), depth=<span class="number">10</span>)</span><br><span class="line">    loss = tf.losses.softmax_cross_entropy(onehot_labels, logits, scope=<span class="string">'LOSS'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è¯„ä¼°æ–¹æ³•</span></span><br><span class="line">    accuracy, update_op = tf.metrics.accuracy(</span><br><span class="line">        labels=labels, predictions=predictions[<span class="string">'classes'</span>], name=<span class="string">'accuracy'</span>)</span><br><span class="line">    batch_acc = tf.reduce_mean(tf.cast(</span><br><span class="line">        tf.equal(tf.cast(labels, tf.int64), predictions[<span class="string">'classes'</span>]), tf.float32))</span><br><span class="line">    tf.summary.scalar(<span class="string">'batch_acc'</span>, batch_acc)</span><br><span class="line">    tf.summary.scalar(<span class="string">'streaming_acc'</span>, update_op)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®­ç»ƒé…ç½®ï¼ˆå¯¹äº TRAIN æ¨¡å¼ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> mode == tf.estimator.ModeKeys.TRAIN:</span><br><span class="line">        update_ops = tf.get_collection(tf.GraphKeys.UPDATE_OPS)</span><br><span class="line">        optimizer = tf.train.RMSPropOptimizer(learning_rate=FLAGS.learning_rate)</span><br><span class="line">        <span class="keyword">with</span> tf.control_dependencies(update_ops):</span><br><span class="line">            train_op = optimizer.minimize(</span><br><span class="line">                loss=loss, global_step=tf.train.get_global_step())</span><br><span class="line">        <span class="keyword">return</span> tf.estimator.EstimatorSpec(mode=mode, loss=loss, train_op=train_op)</span><br><span class="line"></span><br><span class="line">    eval_metric_ops = &#123;</span><br><span class="line">        <span class="string">'accuracy'</span>: (accuracy, update_op)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tf.estimator.EstimatorSpec(mode=mode, loss=loss, eval_metric_ops=eval_metric_ops)</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œinput pipeline å’Œæ¨¡å‹éƒ½å·²ç»å®šä¹‰å¥½äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å®é™…çš„ run äº†ã€‚</p><h2 id="Run"><a href="#Run" class="headerlink" title="Run"></a>Run</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª <code>tf.estimator.Estimator</code> å¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cifar10_classifier = tf.estimator.Estimator(</span><br><span class="line">        model_fn=cifar_model_fn, model_dir=FLAGS.model_dir)</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>model_dir</code> æ˜¯ç”¨äºå­˜æ”¾æ¨¡å‹æ–‡ä»¶å’Œ TensorBoard æ–‡ä»¶çš„ç›®å½•ã€‚</p><p>ç„¶åå¼€å§‹è®­ç»ƒå’ŒéªŒè¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cifar10_classifier.train(input_fn=train_input_fn)</span><br><span class="line">eval_results = cifar10_classifier.evaluate(input_fn=eval_input_fn)</span><br></pre></td></tr></table></figure><p>ç¨‹åºç»“æŸåä½ ä¾¿å¯ä»¥åœ¨ä½ çš„ <code>model_dir</code> é‡Œçœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ–‡ä»¶ç»“æ„ï¼š</p><p><img src="https://i.imgur.com/ZIO86mY.png" alt="model_dir"><br><em><code>model_dir</code> ä¸­çš„æ–‡ä»¶ç»“æ„</em></p><p>ç„¶åä½ å¯ä»¥ä½¿ç”¨ <code>tensorboard --logdir=/your/model/dir</code>ï¼ˆLinux ä¸­ä½ å¯èƒ½éœ€è¦ä½¿ç”¨ <code>python -m tensorboard.main --logdir=/your/model/dir</code>ï¼‰æ¥åœ¨ TensorBoard ä¸­æŸ¥çœ‹è®­ç»ƒä¿¡æ¯ï¼Œé»˜è®¤åªæœ‰ <code>SCALARS</code> å’Œ <code>GRAPHS</code> é¢æ¿æ˜¯æœ‰æ•ˆçš„ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±ä½¿ç”¨ <code>tf.summary</code> æ¥æ‰‹åŠ¨æ·»åŠ  summary ä¿¡æ¯ã€‚</p><p><img src="https://i.imgur.com/mjtQ8Da.png" alt="scalars"><br><em>SCALARS é¢æ¿</em></p><p><img src="https://i.imgur.com/p9aHnKU.png" alt="graphs"><br><em>GRAPHS é¢æ¿</em></p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨ Datasets å’Œ Estimators æ¥è®­ç»ƒæ¨¡å‹å¤§è‡´å°±æ˜¯è¿™ä¹ˆå‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li>å®šä¹‰è¾“å…¥å‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­å¯¹ä½ çš„æ•°æ®é›†åšä¸€äº›å¿…è¦çš„é¢„å¤„ç†ï¼Œè¿”å› features å’Œ labelsã€‚</li><li>å®šä¹‰æ¨¡å‹å‡½æ•°ï¼Œè¿”å› <code>tf.estimator.EstimatorSpec</code> å¯¹è±¡ã€‚</li><li>ä½¿ç”¨æ¨¡å‹å‡½æ•°åˆ›å»º <code>tf.estimator.Estimator</code> å¯¹è±¡ã€‚</li><li>ä½¿ç”¨åˆ›å»ºå¥½çš„å¯¹è±¡ train and evaluateã€‚</li></ol><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><h3 id="å…³äº-num-epochs"><a href="#å…³äº-num-epochs" class="headerlink" title="å…³äº num_epochs"></a>å…³äº <code>num_epochs</code></h3><p>å¦‚æœä½ è®¾ç½® <code>num_epochs</code> ä¸ºæ¯”å¦‚è¯´ 30ï¼Œç„¶è€Œä½ åœ¨è®­ç»ƒçš„æ—¶å€™çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ§åˆ¶å°è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">INFO:tensorflow:global_step/sec: 0.476364</span><br><span class="line">INFO:tensorflow:loss = 0.137512, step = 14901 (209.924 sec)</span><br><span class="line">INFO:tensorflow:global_step/sec: 0.477139</span><br><span class="line">INFO:tensorflow:loss = 0.0203241, step = 15001 (209.583 sec)</span><br><span class="line">INFO:tensorflow:global_step/sec: 0.477511</span><br><span class="line">INFO:tensorflow:loss = 0.132834, step = 15101 (209.419 sec)</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥çœ‹åˆ° <code>step</code> å·²ç»ä¸Šä¸‡äº†ï¼Œè¿™æ˜¯å› ä¸ºè¿™é‡Œçš„ <code>step</code> æŒ‡çš„æ˜¯ä¸€ä¸ª batch çš„è®­ç»ƒè¿­ä»£ï¼Œè€Œ <code>num_epochs</code> è®¾ä¸º 30 æ„å‘³ç€ä½ è¦æŠŠæ•´ä¸ªè®­ç»ƒé›†éå† 30 æ¬¡ï¼ˆä¹Ÿæ˜¯æˆ‘ä»¬é€šå¸¸çš„åšæ³•ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡å¦‚ä½ æœ‰ 50000 ä¸ªæ ·æœ¬ï¼Œbatch å¤§å°ä¸º 50ï¼Œé‚£ä¹ˆä½ çš„æ•°æ®é›†å°†è¢«åˆ‡åˆ†ä¸º 1000 ä¸ª batchï¼Œä¹Ÿå°±æ˜¯éå†ä¸€éæ•°æ®é›†éœ€è¦ 1000 stepï¼Œæ‰€ä»¥è¯´ <code>num_epochs</code> ä¸º 30 æ—¶ï¼Œä½ çš„ç¨‹åºéœ€è¦åˆ° <code>step=30000</code> æ‰ä¼šè®­ç»ƒç»“æŸã€‚æ‰€ä»¥åˆ‡è®° <code>num_epochs</code> è¡¨ç¤ºçš„æ˜¯æ•´ä¸ªè®­ç»ƒé›†çš„è¿­ä»£æ¬¡æ•°ã€‚</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol><li><a href="https://developers.googleblog.com/2017/09/introducing-tensorflow-datasets.html" target="_blank" rel="noopener">Introduction to TensorFlow Datasets and Estimators</a></li><li><a href="https://www.tensorflow.org/programmers_guide/datasets" target="_blank" rel="noopener">Importing Data | TensorFlow</a></li><li><a href="https://www.tensorflow.org/extend/estimators" target="_blank" rel="noopener">Creating Estimators in tf.estimator | TensorFlow</a></li><li><a href="https://gist.github.com/peterroelants/9956ec93a07ca4e9ba5bc415b014bcca" target="_blank" rel="noopener">Example using TensorFlow Estimator, Experiment &amp; Dataset on MNIST data</a></li><li><a href="https://medium.com/onfido-tech/higher-level-apis-in-tensorflow-67bfb602e6c0" target="_blank" rel="noopener">Higher-Level APIs in TensorFlow â€“ Onfido Tech â€“ Medium</a></li></ol><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Google åœ¨ 2017 å¹´ 9 æœˆ 12 å·çš„åšæ–‡ &lt;a href=&quot;https://developers.googleblog.com/2017/09/introducing-tensorflow-datasets.html&quot; target=&quot;_blank&quot; rel=
      
    
    </summary>
    
    
      <category term="TensorFlow" scheme="https://secsilm.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>Windows 10 èµ„æºç®¡ç†å™¨é»‘è‰²é£æ ¼</title>
    <link href="https://secsilm.github.io/2017/10/26/windows10-dark-theme/"/>
    <id>https://secsilm.github.io/2017/10/26/windows10-dark-theme/</id>
    <published>2017-10-26T14:47:00.000Z</published>
    <updated>2017-12-24T12:53:19.643Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ¥æ°´ä¸€ç¯‡ï¼Œè¯´è¯´æˆ‘å‰å‡ å¤©æŸå¤©ä¸Šåˆåˆæ­¥å®ç°äº†æˆ‘ä¸€ç›´æƒ³å¼„çš„ä¸œè¥¿ï¼šWindows 10 èµ„æºç®¡ç†å™¨é»‘è‰²é£æ ¼ï¼Œç”¨äº†å‡ å¤©ï¼Œæ•´ä½“ä¸Šæ„Ÿè§‰è¿˜ä¸é”™ï¼Œå½“ç„¶ä¹Ÿæœ‰ç‚¹å°ç‘•ç–µï¼Œæˆ‘ä¼šåœ¨åé¢è¯´ã€‚</p><blockquote><p>æ‰€æœ‰å›¾å¯å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æŸ¥çœ‹å¤§å›¾ã€‚</p></blockquote><hr><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>è¿™é‡Œæˆ‘ä¼šåˆ—å‡ºå¯¹æœ¬æ–‡çš„æ›´æ–°ã€‚</p><ul><li>2017 å¹´ 11 æœˆ 2 æ—¥ï¼šå¢åŠ é—®é¢˜ #5ã€‚</li></ul><hr><h2 id="å…ˆç¹ä¸ºå¿«"><a href="#å…ˆç¹ä¸ºå¿«" class="headerlink" title="å…ˆç¹ä¸ºå¿«"></a>å…ˆç¹ä¸ºå¿«</h2><p>å®ç°åçš„ç•Œé¢æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="https://i.imgur.com/PmKOXrF.png" alt="ä¸»ç•Œé¢"><br><em>ä¸»ç•Œé¢</em></p><p><img src="https://i.imgur.com/9X8085S.png" alt=""></p><font color="gray">*æ–‡ä»¶åˆ—è¡¨*</font><p><img src="https://i.imgur.com/tPhk6R6.png" alt=""></p><font color="gray">*é€‰ä¸­çŠ¶æ€*</font><p><img src="https://i.imgur.com/PGOZFUM.png" alt=""></p><font color="gray">*ä»»åŠ¡ç®¡ç†å™¨*</font><p><img src="https://i.imgur.com/caTobn6.png" alt=""></p><font color="gray">*å¤åˆ¶*</font><p><img src="https://i.imgur.com/AmonnUg.png" alt=""></p><font color="gray">*è®°äº‹æœ¬*</font><p><img src="https://i.imgur.com/Zr0EKDg.png" alt=""></p><font color="gray">*Word*</font><p><strong>WARNING! æ“ä½œé£é™©å¾ˆå¤§ï¼Œå­˜åœ¨ä¸ç¨³å®šå› ç´ ï¼Œè¯·ä¸‰æ€åè¡Œï¼Œå‡ºäº†ä»€ä¹ˆå¹ºè›¾å­ä¸è¦èµ–æˆ‘æ²¡æœ‰äº‹å…ˆæé†’å“¦ï¼</strong></p><p>å¥½äº†ï¼Œçœ‹åˆ°è¿™é‡Œä½ è¿˜æƒ³å¼„çš„è¯ï¼Œé‚£å°±æ¥ç€å¾€ä¸‹çœ‹å§ã€‚</p><hr><h2 id="å®‰è£…å¼€å§‹å‰"><a href="#å®‰è£…å¼€å§‹å‰" class="headerlink" title="å®‰è£…å¼€å§‹å‰"></a>å®‰è£…å¼€å§‹å‰</h2><p>åœ¨å®‰è£…å¼€å§‹å‰ï¼Œæœ‰å‡ ä»¶éœ€è¦ä½ ç¡®å®šçš„äº‹æƒ…ï¼š</p><ul><li><p>ä½ çš„ Windows ç‰ˆæœ¬ã€‚ç›®å‰æ”¯æŒçš„ Windows ç‰ˆæœ¬ä¸º 1607 (Build 14393) - Anniversary å‘¨å¹´æ›´æ–°å’Œ 1703 (Build 15063) - Creators åˆ›æ„è€…æ›´æ–°ã€‚ä½ å¯ä»¥åœ¨ <code>è®¾ç½®</code> â€”&gt; <code>ç³»ç»Ÿ</code> â€”&gt; <code>å…³äº</code> ä¸­æŸ¥çœ‹ä½ çš„ç³»ç»Ÿç‰ˆæœ¬ã€‚<br><img src="https://i.imgur.com/sFihaa1.png" alt=""></p><font color="gray">*æˆ‘çš„ç‰ˆæœ¬å·*</font></li><li><p>è®¾ç½®ç³»ç»Ÿè¿˜åŸç‚¹</p></li><li>å¦‚æœä½ å®‰è£…è¿‡å…¶ä»–è¡¥ä¸ï¼ˆUxStyleï¼ŒUltraUXThemePatcherï¼‰ï¼Œé‚£ä¹ˆè¯·å¸è½½æ‰</li></ul><hr><h2 id="ä¸‰ä¸ªå·¥å…·"><a href="#ä¸‰ä¸ªå·¥å…·" class="headerlink" title="ä¸‰ä¸ªå·¥å…·"></a>ä¸‰ä¸ªå·¥å…·</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸‹è½½å°†ä¼šç”¨åˆ°çš„å·¥å…·ï¼š</p><ul><li><a href="http://www.msfn.org/board/topic/170375-oldnewexplorer-118/" target="_blank" rel="noopener">OldNewExplorer.rar</a></li><li><a href="https://scope10.deviantart.com/art/Penumbra-10-Windows-10-visual-style-568740374" target="_blank" rel="noopener">penumbra_10___windows_10_visual_style_by_scope10-d9em2vq.zip</a></li><li><a href="https://www.syssel.net/hoefs/software_uxtheme.php?lang=en" target="_blank" rel="noopener">UltraUXThemePatcher_3.3.1.exe</a></li></ul><p><img src="https://i.imgur.com/3NkWQ8q.png" alt=""></p><font color="gray">*ä¸‰ä¸ªå·¥å…·*</font><p>ä¸‹è½½å®Œæˆè§£å‹åç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">|   UltraUXThemePatcher_3.3.1.exe</span><br><span class="line">|</span><br><span class="line">+---OldNewExplorer</span><br><span class="line">|       OldNewExplorer32.dll</span><br><span class="line">|       OldNewExplorer64.dll</span><br><span class="line">|       OldNewExplorerCfg.exe</span><br><span class="line">|       readme.txt</span><br><span class="line">|</span><br><span class="line">\---penumbra_10___windows_10_visual_style_by_scope10-d9em2vq</span><br><span class="line">    |   Preview Image.png</span><br><span class="line">    |</span><br><span class="line">    +---Automated Theme Reset Script</span><br><span class="line">    |       Instructions.txt</span><br><span class="line">    |       Reapply visual style (Penumbra 10).xml</span><br><span class="line">    |       Reapply visual style script.ba_</span><br><span class="line">    |       ThemeSwitcher.ex_</span><br><span class="line">    |</span><br><span class="line">    +---Font</span><br><span class="line">    |       LICENSE.txt</span><br><span class="line">    |       OpenSans-Bold.ttf</span><br><span class="line">    |       OpenSans-BoldItalic.ttf</span><br><span class="line">    |       OpenSans-ExtraBold.ttf</span><br><span class="line">    |       OpenSans-ExtraBoldItalic.ttf</span><br><span class="line">    |       OpenSans-Italic.ttf</span><br><span class="line">    |       OpenSans-Light.ttf</span><br><span class="line">    |       OpenSans-LightItalic.ttf</span><br><span class="line">    |       OpenSans-Regular.ttf</span><br><span class="line">    |       OpenSans-Semibold.ttf</span><br><span class="line">    |       OpenSans-SemiboldItalic.ttf</span><br><span class="line">    |</span><br><span class="line">    \---Visual style</span><br><span class="line">        |   Installation instructions + info.txt</span><br><span class="line">        |</span><br><span class="line">        +---Build 14393 - Version 1607 (Anniversary Update)</span><br><span class="line">        |   |   Penumbra 10.theme</span><br><span class="line">        |   |   Penumbra 10s.theme</span><br><span class="line">        |   |   Penumbra 10w.theme</span><br><span class="line">        |   |   Penumbra 10ws.theme</span><br><span class="line">        |   |</span><br><span class="line">        |   \---Penumbra 10</span><br><span class="line">        |       |   Penumbra 10.msstyles</span><br><span class="line">        |       |   Penumbra 10s.msstyles</span><br><span class="line">        |       |   Penumbra 10w.msstyles</span><br><span class="line">        |       |   Penumbra 10ws.msstyles</span><br><span class="line">        |       |</span><br><span class="line">        |       +---Shell</span><br><span class="line">        |       |   \---NormalColor</span><br><span class="line">        |       |       |   1.txt</span><br><span class="line">        |       |       |   shellstyle.dll</span><br><span class="line">        |       |       |   shellstyle_original.dll</span><br><span class="line">        |       |       |</span><br><span class="line">        |       |       \---en-US</span><br><span class="line">        |       |               shellstyle.dll.mui</span><br><span class="line">        |       |</span><br><span class="line">        |       \---Wallpaper</span><br><span class="line">        |               1.png</span><br><span class="line">        |</span><br><span class="line">        \---Build 15063 - Version 1703 (Creators Update)</span><br><span class="line">            |   Penumbra 10.theme</span><br><span class="line">            |   Penumbra 10s.theme</span><br><span class="line">            |   Penumbra 10w.theme</span><br><span class="line">            |   Penumbra 10ws.theme</span><br><span class="line">            |</span><br><span class="line">            \---Penumbra 10</span><br><span class="line">                |   Penumbra 10.msstyles</span><br><span class="line">                |   Penumbra 10s.msstyles</span><br><span class="line">                |   Penumbra 10w.msstyles</span><br><span class="line">                |   Penumbra 10ws.msstyles</span><br><span class="line">                |</span><br><span class="line">                +---Shell</span><br><span class="line">                |   \---NormalColor</span><br><span class="line">                |       |   shellstyle.dll</span><br><span class="line">                |       |</span><br><span class="line">                |       \---en-US</span><br><span class="line">                |               shellstyle.dll.mui</span><br><span class="line">                |</span><br><span class="line">                \---Wallpaper</span><br><span class="line">                        1.png</span><br></pre></td></tr></table></figure><hr><h2 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h2><p>æœ€å¥½æŠŠè¿™ä¸‰ä¸ªå·¥å…·è§£å‹åæ”¾åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œæ”¾åœ¨ C ç›˜ï¼Œç„¶åæˆ‘ä»¬å°±å¼€å§‹æ­£å¼çš„å®‰è£…å§ :-)</p><h3 id="1-UltraUXThemePatcher"><a href="#1-UltraUXThemePatcher" class="headerlink" title="#1 UltraUXThemePatcher"></a>#1 UltraUXThemePatcher</h3><p>é¦–å…ˆæ˜¯è¿è¡Œ <code>UltraUXThemePatcher_3.3.1.exe</code>ï¼ŒæŒ‰ç…§æç¤ºä¸€æ­¥ä¸€æ­¥çš„å®‰è£…å°±è¡Œï¼Œåœ¨è¿›è¡Œåˆ°æŸä¸€æ­¥çš„æ—¶å€™ä¼šæ˜¾ç¤ºä½ çš„ç³»ç»Ÿä¿¡æ¯ï¼Œçœ‹ä¸€çœ‹æ˜¯å¦æ­£ç¡®ï¼Œæ­£ç¡®çš„è¯å°±ä¸‹ä¸€æ­¥å¾€ä¸‹èµ°ï¼Œå®Œæˆåéœ€è¦é‡å¯ç”µè„‘ã€‚</p><h3 id="2-å¯é€‰-OldNewExplorer"><a href="#2-å¯é€‰-OldNewExplorer" class="headerlink" title="#2[å¯é€‰] OldNewExplorer"></a>#2[å¯é€‰] OldNewExplorer</h3><blockquote><p>ä½ å¯ä»¥è‡ªå·±å°è¯•åˆ°åº•å‹¾é€‰å“ªäº›ï¼Œä»¥æ‰¾åˆ°ä½ æœ€å–œæ¬¢çš„é£æ ¼</p></blockquote><p>è¿™ä¸€æ­¥å…¶å®æ˜¯ç¦æ‰åŠŸèƒ½åŒºã€‚è¿è¡Œ <code>OldNewExplorer</code> ä¸­çš„ <code>OldNewExplorerCfg.exe</code>ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å›¾ç¤ºé€‰æ‹©ï¼šç„¶åç‚¹å‡» <code>Install</code> ã€‚</p><p><img src="https://i.imgur.com/oWRdFJF.png" alt=""></p><font color="gray">*OldNewExplorer*</font><p><strong>ä½†æ˜¯ä½ å¦‚æœå–æ¶ˆè¿™äº›æ›´æ”¹çš„è¯</strong>ï¼Œé‚£å°±ç›´æ¥ç‚¹å‡» <code>Uninstall</code>ï¼Œç„¶å<strong>ä¸å‹¾é€‰</strong>æ‰€æœ‰é¡¹ï¼Œç‚¹å‡» <code>Install</code> ã€‚</p><h3 id="3-å¤åˆ¶æ–‡ä»¶"><a href="#3-å¤åˆ¶æ–‡ä»¶" class="headerlink" title="#3 å¤åˆ¶æ–‡ä»¶"></a>#3 å¤åˆ¶æ–‡ä»¶</h3><ul><li>å¦‚æœä½ çš„ Windows ç‰ˆæœ¬æ˜¯ <strong>1607</strong>ï¼Œé‚£ä¹ˆå¤åˆ¶ <code>penumbra_10___windows_10_visual_style_by_scope10-d9em2vq\Visual style\Build 14393 - Version 1607 (Anniversary Update)</code> åˆ° <code>C:\Windows\Resources\Themes</code></li><li>å¦‚æœä½ çš„ Windows ç‰ˆæœ¬æ˜¯ <strong>1703</strong>ï¼Œé‚£ä¹ˆå¤åˆ¶ <code>penumbra_10___windows_10_visual_style_by_scope10-d9em2vq\Visual style\Build 15063 - Version 1703 (Creators Update)</code> åˆ° <code>C:\Windows\Resources\Themes</code></li></ul><h3 id="4-è®¾ç½®ä¸»é¢˜"><a href="#4-è®¾ç½®ä¸»é¢˜" class="headerlink" title="#4 è®¾ç½®ä¸»é¢˜"></a>#4 è®¾ç½®ä¸»é¢˜</h3><p>å¥½äº†ï¼Œä½ ç°åœ¨å¯ä»¥è®¾ç½®æ–°çš„ä¸»é¢˜äº†ï¼Œå°±åƒä½ å¾€å¸¸æ”¹ä¸»é¢˜ä¸€æ ·ï¼Œåœ¨ <code>ä¸ªæ€§åŒ–</code> æˆ–è€… <code>è®¾ç½®</code> ä¸­æ”¹éƒ½è¡Œã€‚</p><p><img src="https://i.imgur.com/t4aOUHw.png" alt=""></p><font color="gray">*é€‰æ‹©ä¸»é¢˜*</font><h3 id="5-åˆ«æ€¥ï¼Œè¿˜æœ‰ä¸€ç‚¹"><a href="#5-åˆ«æ€¥ï¼Œè¿˜æœ‰ä¸€ç‚¹" class="headerlink" title="#5 åˆ«æ€¥ï¼Œè¿˜æœ‰ä¸€ç‚¹"></a>#5 åˆ«æ€¥ï¼Œè¿˜æœ‰ä¸€ç‚¹</h3><p>å…¶å®åˆ°ä¸Šé¢å·²ç»å®Œäº†ï¼Œä½†æ˜¯å½“ä½ é”å±æˆ–è€…é‡å¯ç”µè„‘åï¼Œä½ å‘ç°ä¸»é¢˜åˆå˜å›æ¥äº†ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬è®¾ç½®ä¸€ä¸ªè®¡åˆ’ä»»åŠ¡è‡ªåŠ¨æ‰§è¡Œã€‚</p><ul><li>æ‰¾åˆ° <code>penumbra_10___windows_10_visual_style_by_scope10-d9em2vq\Automated Theme Reset Script</code> ï¼Œå°† <code>Reapply visual style script.ba_</code> å’Œ <code>ThemeSwitcher.ex_</code> åˆ†åˆ«æ”¹ä¸º <code>Reapply visual style script.bat</code> å’Œ <code>ThemeSwitcher.exe</code> ã€‚</li><li>å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¤åˆ¶åˆ° <code>C:\Windows\Resources\Themes</code> ã€‚</li><li><code>win+R</code> è¿è¡Œ <code>Taskschd.msc</code> è°ƒå‡ºä»»åŠ¡è®¡åˆ’ç¨‹åºï¼Œç‚¹å‡» <code>æ“ä½œ</code> â€”&gt; <code>å¯¼å…¥ä»»åŠ¡</code> ï¼Œé€‰æ‹© <code>penumbra_10___windows_10_visual_style_by_scope10-d9em2vq\Automated Theme Reset Script\Reapply visual style (Penumbra 10).xml</code> ï¼Œç„¶åç¡®å®šã€‚</li></ul><p>å¥½äº†ï¼Œè¿™å°±å…¨éƒ¨å®Œæˆäº†ã€‚</p><hr><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å…¶å®è¿˜æ˜¯æœ‰ç‚¹ä¸å®Œç¾çš„ï¼Œä½†æ˜¯åœ¨æˆ‘çš„å¯æ¥å—èŒƒå›´ä¹‹å†…ã€‚æš‚ä¸”å°±è¿™ä¹ˆå¤šï¼Œæƒ³åˆ°äº†æˆ–è€…ä»¥åé‡åˆ°äº†æˆ‘å†åŠ ã€‚</p><h3 id="1-å¼€å§‹-å›¾æ ‡"><a href="#1-å¼€å§‹-å›¾æ ‡" class="headerlink" title="#1  å¼€å§‹ å›¾æ ‡"></a>#1  <code>å¼€å§‹</code> å›¾æ ‡</h3><p><code>å¼€å§‹</code> å›¾æ ‡å˜æˆäº†ç±»ä¼¼ Cortana çš„åœ†å½¢ï¼Œä½ å¯ä»¥åœ¨ä¸Šé¢çš„ <code>ä¸»ç•Œé¢</code> å›¾çš„å·¦ä¸‹è§’çœ‹åˆ°ã€Œä¸€åŒçœ¼ç›ã€ï¼Œå…¶å®ç¬¬ä¸€ä¸ªæ˜¯å¼€å§‹èœå•ï¼Œç¬¬äºŒä¸ªæ˜¯ Cortana ã€‚</p><h3 id="2-Chrome-åœ°å€æ "><a href="#2-Chrome-åœ°å€æ " class="headerlink" title="#2 Chrome åœ°å€æ "></a>#2 Chrome åœ°å€æ </h3><p>Chrome çš„åœ°å€æ å˜æˆäº†é»‘è‰²èƒŒæ™¯ã€‚</p><p><img src="https://i.imgur.com/4klhOks.png" alt=""></p><h3 id="3-å³é”®å­—ä½“"><a href="#3-å³é”®å­—ä½“" class="headerlink" title="#3 å³é”®å­—ä½“"></a>#3 å³é”®å­—ä½“</h3><p>å³é”®èœå•ä¸­æ–‡å˜æˆäº†å®‹ä½“å­—ä½“ï¼Œæˆ‘æ‰¾äº†æ‰¾æ–¹æ³•è²Œä¼¼å¯ä»¥æ”¹ï¼Œä¸è¿‡æˆ‘æ²¡è¯•ï¼Œæœ‰è°è¯•äº†æˆåŠŸäº†çš„è¯å¯ä»¥åœ¨è¯„è®ºåŒºè¯´ä¸‹æˆ–è€…ç§ä¿¡æˆ‘ï¼Œè°¢è°¢ :-)</p><h3 id="4-Word-èƒŒæ™¯"><a href="#4-Word-èƒŒæ™¯" class="headerlink" title="#4 Word èƒŒæ™¯"></a>#4 Word èƒŒæ™¯</h3><p>Word ä¸­èƒŒæ™¯ä¼šæ˜¾ç¤ºä¸ºé»‘è‰²ï¼Œå…¶ä»–åŠå…¬è½¯ä»¶å¦‚ Excelã€PPTéƒ½ä¼šæœ‰ä¸åŒç¨‹åº¦å½±å“ã€‚</p><h3 id="5-PotPlayer-å³é”®èœå•"><a href="#5-PotPlayer-å³é”®èœå•" class="headerlink" title="#5 PotPlayer å³é”®èœå•"></a>#5 PotPlayer å³é”®èœå•</h3><p>PotPlayer å³é”®èœå•å˜ä¸ºå…¨ç°ï¼Œçœ‹ä¸æ¸…å­—äº†ã€‚</p><p><img src="https://i.imgur.com/wjPoCg9.png" alt="potplayer"></p><hr><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://scope10.deviantart.com/art/Penumbra-10-Windows-10-visual-style-568740374" target="_blank" rel="noopener">Penumbra 10 - Windows 10 visual style</a></li><li><a href="https://www.youtube.com/watch?v=7GgIjEDYe6g" target="_blank" rel="noopener">How to Install a Dark Theme for File Explorer!</a></li></ul><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»Šå¤©æ¥æ°´ä¸€ç¯‡ï¼Œè¯´è¯´æˆ‘å‰å‡ å¤©æŸå¤©ä¸Šåˆåˆæ­¥å®ç°äº†æˆ‘ä¸€ç›´æƒ³å¼„çš„ä¸œè¥¿ï¼šWindows 10 èµ„æºç®¡ç†å™¨é»‘è‰²é£æ ¼ï¼Œç”¨äº†å‡ å¤©ï¼Œæ•´ä½“ä¸Šæ„Ÿè§‰è¿˜ä¸é”™ï¼Œå½“ç„¶ä¹Ÿæœ‰ç‚¹å°ç‘•ç–µï¼Œæˆ‘ä¼šåœ¨åé¢è¯´ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰€æœ‰å›¾å¯å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æŸ¥çœ‹å¤§å›¾ã€‚&lt;/p&gt;
&lt;/blockquot
      
    
    </summary>
    
    
      <category term="Windows" scheme="https://secsilm.github.io/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•æ¦‚è¿°</title>
    <link href="https://secsilm.github.io/2017/10/08/gradient-descent-methods/"/>
    <id>https://secsilm.github.io/2017/10/08/gradient-descent-methods/</id>
    <published>2017-10-08T13:41:00.000Z</published>
    <updated>2017-12-23T04:54:22.559Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸæ–‡ä½œè€…ç®€ä»‹ï¼š<a href="http://ruder.io/" target="_blank" rel="noopener">Sebastian Ruder</a> æ˜¯æˆ‘éå¸¸å–œæ¬¢çš„ä¸€ä¸ªåšå®¢ä½œè€…ï¼Œæ˜¯ NLP æ–¹å‘çš„åšå£«ç”Ÿï¼Œç›®å‰ä¾›èŒäºä¸€å®¶åš NLP ç›¸å…³æœåŠ¡çš„çˆ±å°”å…°å…¬å¸ <a href="http://aylien.com/" target="_blank" rel="noopener">AYLIEN</a>ï¼Œåšå®¢ä¸»è¦æ˜¯å†™æœºå™¨å­¦ä¹ ã€NLP å’Œæ·±åº¦å­¦ä¹ ç›¸å…³çš„æ–‡ç« ã€‚</p><ul><li>æœ¬æ–‡åŸæ–‡æ˜¯ <a href="http://ruder.io/optimizing-gradient-descent/index.html" target="_blank" rel="noopener">An overview of gradient descent optimization algorithms</a>ï¼ŒåŒæ—¶ä½œè€…ä¹Ÿåœ¨ arXiv ä¸Šå‘äº†ä¸€ç¯‡åŒæ ·å†…å®¹çš„ <a href="https://arxiv.org/abs/1609.04747" target="_blank" rel="noopener">è®ºæ–‡</a>ã€‚</li><li>æœ¬æ–‡ç»“åˆäº†ä¸¤è€…æ¥ç¿»è¯‘ï¼Œä½†æ˜¯é˜…è¯»åŸæ–‡æˆ‘ä¸ªäººå»ºè®®è¯»åšå®¢ä¸­çš„ï¼Œæ„Ÿè§‰ä½“éªŒæ›´å¥½ç‚¹ã€‚</li><li>æ–‡ä¸­æ‹¬å·ä¸­æˆ–è€…å¼•ç”¨å—ä¸­çš„ <em>æ–œä½“å­—</em> ä¸ºå¯¹åº”çš„è‹±æ–‡åŸæ–‡æˆ–è€…æˆ‘è‡ªå·±æ³¨é‡Šçš„è¯ï¼ˆä¼šæ ‡æ˜ <code>è¯‘è€…æ³¨</code>ï¼‰ï¼Œå¦åˆ™ä¸ºåŸæ–‡ä¸­æœ¬æ¥å°±æœ‰çš„è¯ã€‚</li><li>ä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œæˆ‘åœ¨å¼•ç”¨åºå·ååŠ äº†æ‰€å¼•ç”¨è®ºæ–‡çš„é¢˜ç›®ï¼Œç”¨ <em>æ–œä½“å­—</em> è¡¨ç¤ºï¼Œä¾‹å¦‚ Learning rate schedules [11ï¼Œ<em>A stochastic approximation method</em>] ã€‚</li><li>æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡å‡ºã€‚ç¿»è¯‘å°½é‡éµå¾ªåŸæ–‡æ„æ€ï¼Œä½†ä¸æ„å‘³ç€é€å­—é€å¥ã€‚</li><li>æœ¬æ–‡ä¹Ÿæ”¾åœ¨ <a href="https://github.com/secsilm/awesome-posts" target="_blank" rel="noopener">æˆ‘ GitHub ä¸Šçš„ awesome-posts é¡¹ç›®</a> ä¸Šï¼Œé€‰å–æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ é¢†åŸŸå†…æ¯”è¾ƒå¥½çš„è‹±æ–‡æ–‡ç« è¿›è¡Œç¿»è¯‘ï¼Œæ¬¢è¿å„ä½ star ã€‚</li></ul></blockquote><a id="more"></a><hr><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>æ¢¯åº¦ä¸‹é™ç®—æ³•è™½ç„¶æœ€è¿‘è¶Šæ¥è¶Šæµè¡Œï¼Œä½†æ˜¯å§‹ç»ˆæ˜¯ä½œä¸ºä¸€ä¸ªã€Œé»‘ç®±ã€åœ¨ä½¿ç”¨ï¼Œå› ä¸ºå¯¹ä»–ä»¬çš„ä¼˜ç‚¹å’Œç¼ºç‚¹çš„å®é™…è§£é‡Šï¼ˆpractical explainationsï¼‰å¾ˆéš¾å®ç°ã€‚è¿™ç¯‡æ–‡ç« è‡´åŠ›äºç»™è¯»è€…æä¾›è¿™äº›ç®—æ³•å·¥ä½œåŸç†çš„ä¸€ä¸ªç›´è§‚ç†è§£ã€‚åœ¨è¿™ç¯‡æ¦‚è¿°ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶æ¢¯åº¦ä¸‹é™çš„ä¸åŒå˜ä½“ï¼Œæ€»ç»“æŒ‘æˆ˜ï¼Œä»‹ç»æœ€å¸¸è§çš„ä¼˜åŒ–ç®—æ³•ï¼Œä»‹ç»å¹¶è¡Œå’Œåˆ†å¸ƒå¼è®¾ç½®çš„æ¶æ„ï¼Œå¹¶ä¸”ä¹Ÿç ”ç©¶äº†å…¶ä»–æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç­–ç•¥ã€‚</p><hr><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>æ¢¯åº¦ä¸‹é™æ˜¯æœ€æµè¡Œçš„ä¼˜åŒ–ç®—æ³•ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯ç›®å‰ä¼˜åŒ–ç¥ç»ç½‘ç»œæœ€å¸¸ç”¨çš„ç®—æ³•ã€‚åŒæ—¶ï¼Œæ¯ä¸€ä¸ªæœ€å…ˆè¿›çš„æ·±åº¦å­¦ä¹ åº“éƒ½åŒ…å«äº†æ¢¯åº¦ä¸‹é™ç®—æ³•çš„å„ç§å˜ä½“çš„å®ç°ï¼ˆä¾‹å¦‚ <a href="http://lasagne.readthedocs.io/en/latest/modules/updates.html" target="_blank" rel="noopener">lasagne</a>ï¼Œ<a href="http://caffe.berkeleyvision.org/tutorial/solver.html" target="_blank" rel="noopener">caffe</a>ï¼Œ<a href="https://keras.io/optimizers/" target="_blank" rel="noopener">keras</a>ï¼‰ã€‚ç„¶è€Œå§‹ç»ˆæ˜¯ä½œä¸ºä¸€ä¸ªã€Œé»‘ç®±ã€åœ¨ä½¿ç”¨ï¼Œå› ä¸ºå¯¹ä»–ä»¬çš„ä¼˜ç‚¹å’Œç¼ºç‚¹çš„å®é™…è§£é‡Šå¾ˆéš¾å®ç°ã€‚è¿™ç¯‡æ–‡ç« è‡´åŠ›äºç»™è¯»è€…æä¾›è¿™äº›ç®—æ³•å·¥ä½œåŸç†çš„ä¸€ä¸ªç›´è§‚ç†è§£ã€‚æˆ‘ä»¬é¦–å…ˆä»‹ç»æ¢¯åº¦ä¸‹é™çš„ä¸åŒå˜ä½“ï¼Œç„¶åç®€å•æ€»ç»“ä¸‹åœ¨è®­ç»ƒä¸­çš„æŒ‘æˆ˜ã€‚æ¥ç€ï¼Œæˆ‘ä»¬é€šè¿‡å±•ç¤ºä»–ä»¬è§£å†³è¿™äº›æŒ‘æˆ˜çš„åŠ¨æœºä»¥åŠå¦‚ä½•æ¨å¯¼æ›´æ–°è§„åˆ™æ¥ä»‹ç»æœ€å¸¸ç”¨çš„ä¼˜åŒ–ç®—æ³•ã€‚æˆ‘ä»¬ä¹Ÿä¼šç®€è¦ä»‹ç»ä¸‹åœ¨å¹¶è¡Œå’Œåˆ†å¸ƒå¼æ¶æ„ä¸­çš„æ¢¯åº¦ä¸‹é™ã€‚æœ€åï¼Œæˆ‘ä»¬ä¼šç ”ç©¶æœ‰åŠ©äºæ¢¯åº¦ä¸‹é™çš„å…¶ä»–ç­–ç•¥ã€‚</p><p>æ¢¯åº¦ä¸‹é™æ˜¯ä¸€ç§æœ€å°åŒ–ç›®æ ‡å‡½æ•° $J(\theta)$ çš„æ–¹æ³•ï¼Œå…¶ä¸­ $\theta \in \mathbb{R^d}$ æ˜¯æ¨¡å‹å‚æ•°ï¼Œè€Œæœ€å°åŒ–ç›®æ ‡å‡½æ•°æ˜¯é€šè¿‡åœ¨å…¶å…³äº $\theta$ çš„ <a href="https://zh.wikipedia.org/wiki/%E6%A2%AF%E5%BA%A6" target="_blank" rel="noopener">æ¢¯åº¦</a> $\nabla_\theta J(\theta)$ çš„ç›¸åæ–¹å‘æ¥æ›´æ–° $\theta$ æ¥å®ç°çš„ã€‚è€Œå­¦ä¹ ç‡ï¼ˆlearning rateï¼‰åˆ™å†³å®šäº†åœ¨åˆ°è¾¾ï¼ˆå±€éƒ¨ï¼‰æœ€å°å€¼çš„è¿‡ç¨‹ä¸­æ¯ä¸€æ­¥èµ°å¤šé•¿ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æ²¿ç€ç›®æ ‡å‡½æ•°çš„ä¸‹å¡æ–¹å‘æ¥è¾¾åˆ°ä¸€ä¸ªå±±è°·ã€‚å¦‚æœä½ å¯¹æ¢¯åº¦ä¸‹é™ä¸ç†Ÿæ‚‰ï¼Œä½ å¯ä»¥åœ¨ <a href="http://cs231n.github.io/optimization-1/" target="_blank" rel="noopener">è¿™é‡Œ</a> æ‰¾åˆ°ä¸€ä¸ªå¾ˆå¥½çš„å…³äºä¼˜åŒ–ç¥ç»ç½‘ç»œçš„ä»‹ç»ã€‚</p><hr><h2 id="Gradient-descent-variants"><a href="#Gradient-descent-variants" class="headerlink" title="Gradient descent variants"></a>Gradient descent variants</h2><p>ä¾æ®è®¡ç®—ç›®æ ‡å‡½æ•°æ¢¯åº¦ä½¿ç”¨çš„æ•°æ®é‡çš„ä¸åŒï¼Œæœ‰ä¸‰ç§æ¢¯åº¦ä¸‹é™çš„å˜ä½“ã€‚æ ¹æ®æ•°æ®é‡çš„å¤§å°ï¼Œæˆ‘ä»¬åœ¨å‚æ•°æ›´æ–°çš„å‡†ç¡®æ€§å’Œæ‰§è¡Œæ›´æ–°æ‰€éœ€æ—¶é—´ä¹‹é—´åšäº†ä¸€ä¸ªæƒè¡¡ã€‚</p><h3 id="Batch-gradient-descent"><a href="#Batch-gradient-descent" class="headerlink" title="Batch gradient descent"></a>Batch gradient descent</h3><p>æ ‡å‡†çš„æ¢¯åº¦ä¸‹é™ï¼Œå³æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆbatch gradient descentï¼‰ï¼ˆ <em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° BGD</em> ï¼‰ï¼Œåœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸Šè®¡ç®—æŸå¤±å‡½æ•°å…³äºå‚æ•° $\theta$ çš„æ¢¯åº¦ã€‚</p><script type="math/tex; mode=display">\theta = \theta - \eta \cdot \nabla_\theta J( \theta)</script><p>ç”±äºä¸ºäº†ä¸€æ¬¡å‚æ•°æ›´æ–°æˆ‘ä»¬éœ€è¦åœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸Šè®¡ç®—æ¢¯åº¦ï¼Œå¯¼è‡´ BGD å¯èƒ½ä¼šéå¸¸æ…¢ï¼Œè€Œä¸”åœ¨è®­ç»ƒé›†å¤ªå¤§è€Œä¸èƒ½å…¨éƒ¨è½½å…¥å†…å­˜çš„æ—¶å€™ä¼šå¾ˆæ£˜æ‰‹ã€‚BGD ä¹Ÿä¸å…è®¸æˆ‘ä»¬åœ¨çº¿æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œå³å®æ—¶å¢åŠ æ–°çš„è®­ç»ƒæ ·æœ¬ã€‚</p><p>ä¸‹é¢æ˜¯ BGD çš„ä»£ç ç‰‡æ®µï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(nb_epochs):</span><br><span class="line">    params_grad = evaluate_gradient(loss_function, data, params)</span><br><span class="line">    params = params - learning_rate * params_grad</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>nb_epochs</code> æ˜¯æˆ‘ä»¬é¢„å…ˆå®šä¹‰å¥½çš„è¿­ä»£æ¬¡æ•°ï¼ˆepochsï¼‰ï¼Œæˆ‘ä»¬é¦–å…ˆåœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸Šè®¡ç®—æŸå¤±å‡½æ•°å…³äºæ¨¡å‹å‚æ•° <code>params</code> çš„æ¢¯åº¦å‘é‡ <code>params_grad</code>ã€‚å…¶å®ç›®å‰æœ€æ–°çš„æ·±åº¦å­¦ä¹ åº“éƒ½å·²ç»æä¾›äº†å…³äºä¸€äº›å‚æ•°çš„é«˜æ•ˆè‡ªåŠ¨æ±‚å¯¼ã€‚å¦‚æœä½ è¦è‡ªå·±æ±‚å¯¼æ±‚æ¢¯åº¦ï¼Œé‚£ä½ æœ€å¥½ä½¿ç”¨æ¢¯åº¦æ£€æŸ¥ï¼ˆgradient checkingï¼‰ï¼Œåœ¨ <a href="http://cs231n.github.io/neural-networks-3/" target="_blank" rel="noopener">è¿™é‡Œ</a> æŸ¥çœ‹å…³äºå¦‚ä½•è¿›è¡Œåˆé€‚çš„æ¢¯åº¦æ£€æŸ¥çš„æç¤ºã€‚</p><p>ç„¶åæˆ‘ä»¬åœ¨æ¢¯åº¦çš„åæ–¹å‘æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œè€Œå­¦ä¹ ç‡å†³å®šäº†æ¯æ¬¡æ›´æ–°çš„æ­¥é•¿å¤§å°ã€‚BGD å¯¹äºå‡¸è¯¯å·®æ›²é¢ï¼ˆconvex error surfaceï¼‰ä¿è¯æ”¶æ•›åˆ°å…¨å±€æœ€ä¼˜ç‚¹ï¼Œè€Œå¯¹äºéå‡¸æ›²é¢ï¼ˆnon-convex surfaceï¼‰åˆ™æ˜¯å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚</p><h3 id="Stochastic-gradient-descent"><a href="#Stochastic-gradient-descent" class="headerlink" title="Stochastic gradient descent"></a>Stochastic gradient descent</h3><p>éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆ <em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° SGD</em> ï¼‰åˆ™æ˜¯æ¯æ¬¡ä½¿ç”¨ä¸€ä¸ªè®­ç»ƒæ ·æœ¬ $x^{(i)}$ å’Œæ ‡ç­¾ $y^{(i)}$ è¿›è¡Œä¸€æ¬¡å‚æ•°æ›´æ–°ã€‚</p><script type="math/tex; mode=display">\theta = \theta - \eta \cdot \nabla_\theta J(\theta;x^{x(i)};y^{(i)})</script><p>BGD å¯¹äºå¤§æ•°æ®é›†æ¥è¯´æ‰§è¡Œäº†å¾ˆå¤šå†—ä½™çš„è®¡ç®—ï¼Œå› ä¸ºåœ¨æ¯ä¸€æ¬¡å‚æ•°æ›´æ–°å‰éƒ½è¦è®¡ç®—å¾ˆå¤šç›¸ä¼¼æ ·æœ¬çš„æ¢¯åº¦ã€‚SGD é€šè¿‡ä¸€æ¬¡æ‰§è¡Œä¸€æ¬¡æ›´æ–°è§£å†³äº†è¿™ç§å†—ä½™ã€‚å› æ­¤é€šå¸¸ SGD çš„é€Ÿåº¦ä¼šéå¸¸å¿«è€Œä¸”å¯ä»¥è¢«ç”¨äºåœ¨çº¿å­¦ä¹ ã€‚SGD ä»¥é«˜æ–¹å·®çš„ç‰¹ç‚¹è¿›è¡Œè¿ç»­å‚æ•°æ›´æ–°ï¼Œå¯¼è‡´ç›®æ ‡å‡½æ•°ä¸¥é‡éœ‡è¡ï¼Œå¦‚å›¾ 1 æ‰€ç¤ºã€‚</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Stogra.png" alt=""><br><em>å›¾ 1ï¼šSGD éœ‡è¡ï¼Œæ¥è‡ª <a href="https://upload.wikimedia.org/wikipedia/commons/f/f3/Stogra.png" target="_blank" rel="noopener">Wikipedia</a></em></p><p>BGD èƒ½å¤Ÿæ”¶æ•›åˆ°ï¼ˆå±€éƒ¨ï¼‰æœ€ä¼˜ç‚¹ï¼Œç„¶è€Œ SGD çš„éœ‡è¡ç‰¹ç‚¹å¯¼è‡´å…¶å¯ä»¥è·³åˆ°æ–°çš„æ½œåœ¨çš„å¯èƒ½æ›´å¥½çš„å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚å·²ç»æœ‰ç ”ç©¶æ˜¾ç¤ºå½“æˆ‘ä»¬æ…¢æ…¢çš„é™ä½å­¦ä¹ ç‡æ—¶ï¼ŒSGD æ‹¥æœ‰å’Œ BGD ä¸€æ ·çš„æ”¶æ•›æ€§èƒ½ï¼Œå¯¹äºéå‡¸å’Œå‡¸æ›²é¢å‡ ä¹åŒæ ·èƒ½å¤Ÿè¾¾åˆ°å±€éƒ¨æˆ–è€…å…¨å±€æœ€ä¼˜ç‚¹ã€‚</p><p>ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼Œåªæ˜¯åŠ äº†ä¸ªå¾ªç¯å’Œåœ¨æ¯ä¸€ä¸ªè®­ç»ƒæ ·æœ¬ä¸Šè®¡ç®—æ¢¯åº¦ã€‚æ³¨æ„ä¾æ® <a href="http://ruder.io/optimizing-gradient-descent/index.html#shufflingandcurriculumlearning" target="_blank" rel="noopener">è¿™é‡Œ</a> çš„è§£é‡Šï¼Œæˆ‘ä»¬åœ¨æ¯æ¬¡è¿­ä»£çš„æ—¶å€™éƒ½æ‰“ä¹±è®­ç»ƒé›†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(nb_epochs):</span><br><span class="line">    np.random.shuffle(data)</span><br><span class="line">    <span class="keyword">for</span> example <span class="keyword">in</span> data:</span><br><span class="line">        params_grad = evaluate_gradient(loss_function, example, params)</span><br><span class="line">        params = params - learning_rate * params_grad</span><br></pre></td></tr></table></figure><h3 id="Mini-batch-gradient-descent"><a href="#Mini-batch-gradient-descent" class="headerlink" title="Mini-batch gradient descent"></a>Mini-batch gradient descent</h3><p>Mini-batch gradient descentï¼ˆ <em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° MBGD</em> ï¼‰åˆ™æ˜¯åœ¨ä¸Šé¢ä¸¤ç§æ–¹æ³•ä¸­é‡‡å–äº†ä¸€ä¸ªæŠ˜ä¸­çš„åŠæ³•ï¼šæ¯æ¬¡ä»è®­ç»ƒé›†ä¸­å–å‡º $n$ ä¸ªæ ·æœ¬ä½œä¸ºä¸€ä¸ª mini-batchï¼Œä»¥æ­¤æ¥è¿›è¡Œä¸€æ¬¡å‚æ•°æ›´æ–°ã€‚</p><script type="math/tex; mode=display">\theta = \theta - \eta \cdot \nabla_\theta J( \theta; x^{(i:i+n)}; y^{(i:i+n)})</script><p>è¿™æ ·åšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p><ul><li>å‡å°å‚æ•°æ›´æ–°çš„æ–¹å·®ï¼Œè¿™æ ·å¯ä»¥æœ‰æ›´ç¨³å®šçš„æ”¶æ•›ã€‚</li><li>åˆ©ç”¨ç°åœ¨æœ€å…ˆè¿›çš„æ·±åº¦å­¦ä¹ åº“å¯¹çŸ©é˜µè¿ç®—è¿›è¡Œäº†é«˜åº¦ä¼˜åŒ–çš„ç‰¹ç‚¹ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—è®¡ç®— mini-batch çš„æ¢¯åº¦æ›´é«˜æ•ˆã€‚</li></ul><p>é€šå¸¸æ¥è¯´ mini-batch çš„å¤§å°ä¸º 50 åˆ° 256 ä¹‹é—´ï¼Œä½†æ˜¯ä¹Ÿä¼šå› ä¸ºä»»åŠ¡çš„å·®å¼‚è€Œä¸åŒã€‚MBGD æ˜¯è®­ç»ƒç¥ç»ç½‘ç»œæ—¶çš„å¸¸ç”¨æ–¹æ³•ï¼Œè€Œä¸”é€šå¸¸å³ä½¿å®é™…ä¸Šä½¿ç”¨çš„æ˜¯ MBGDï¼Œä¹Ÿä¼šä½¿ç”¨ SGD è¿™ä¸ªè¯æ¥ä»£æ›¿ã€‚æ³¨æ„ï¼šåœ¨æœ¬æ–‡æ¥ä¸‹æ¥ä¿®æ”¹ SGD æ—¶ï¼Œä¸ºäº†ç®€å•èµ·è§æˆ‘ä»¬ä¼šçœç•¥å‚æ•° $x^{(i:i+n)}; y^{(i:i+n)}$ã€‚</p><p>ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼Œæˆ‘ä»¬æ¯æ¬¡ä½¿ç”¨ mini-batch ä¸º 50 çš„æ ·æœ¬é›†æ¥è¿›è¡Œè¿­ä»£ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(nb_epochs):</span><br><span class="line">    np.random.shuffle(data)</span><br><span class="line">    <span class="keyword">for</span> batch <span class="keyword">in</span> get_batches(data, batch_size=<span class="number">50</span>):</span><br><span class="line">        params_grad = evaluate_gradient(loss_function, batch, params)</span><br><span class="line">        params = params - learning_rate * params_grad</span><br></pre></td></tr></table></figure><hr><h2 id="Challenges"><a href="#Challenges" class="headerlink" title="Challenges"></a>Challenges</h2><p>æ ‡å‡†çš„ MBGD å¹¶ä¸ä¿è¯å¥½çš„æ”¶æ•›ï¼Œä¹Ÿæå‡ºäº†ä¸€ä¸‹éœ€è¦è¢«è§£å†³çš„æŒ‘æˆ˜ï¼š</p><ul><li><strong>é€‰æ‹©ä¸€ä¸ªå¥½çš„å­¦ä¹ ç‡æ˜¯éå¸¸å›°éš¾çš„</strong>ã€‚å¤ªå°çš„å­¦ä¹ ç‡å¯¼è‡´æ”¶æ•›éå¸¸ç¼“æ…¢ï¼Œè€Œå¤ªå¤§çš„å­¦ä¹ ç‡åˆ™ä¼šé˜»ç¢æ”¶æ•›ï¼Œå¯¼è‡´æŸå¤±å‡½æ•°åœ¨æœ€ä¼˜ç‚¹é™„è¿‘éœ‡è¡ç”šè‡³å‘æ•£ã€‚</li><li>Learning rate schedules [11ï¼Œ<em>A stochastic approximation method</em>] è¯•å›¾åœ¨è®­ç»ƒæœŸé—´è°ƒæ•´å­¦ä¹ ç‡å³é€€ç«ï¼ˆannealingï¼‰ï¼Œæ ¹æ®å…ˆå‰å®šä¹‰å¥½çš„ä¸€ä¸ªè§„åˆ™æ¥å‡å°å­¦ä¹ ç‡ï¼Œæˆ–è€…ä¸¤æ¬¡è¿­ä»£ä¹‹é—´ç›®æ ‡å‡½æ•°çš„æ”¹å˜ä½äºä¸€ä¸ªé˜ˆå€¼çš„æ—¶å€™ã€‚ç„¶è€Œè¿™äº›è§„åˆ™å’Œé˜ˆå€¼ä¹Ÿæ˜¯éœ€è¦åœ¨è®­ç»ƒå‰å®šä¹‰å¥½çš„ï¼Œæ‰€ä»¥<strong>ä¹Ÿä¸èƒ½åšåˆ°è‡ªé€‚åº”æ•°æ®çš„ç‰¹ç‚¹</strong> [10ï¼Œ<em>Learning rate schedules for faster stochastic gradient search</em>]ã€‚</li><li>å¦å¤–ï¼Œ<strong>ç›¸åŒçš„å­¦ä¹ ç‡è¢«åº”ç”¨åˆ°æ‰€æœ‰å‚æ•°æ›´æ–°ä¸­</strong>ã€‚å¦‚æœæˆ‘ä»¬çš„æ•°æ®æ¯”è¾ƒç¨€ç–ï¼Œç‰¹å¾æœ‰éå¸¸å¤šä¸åŒçš„é¢‘ç‡ï¼Œé‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬å¯èƒ½å¹¶ä¸æƒ³è¦ä»¥ç›¸åŒçš„ç¨‹åº¦æ›´æ–°ä»–ä»¬ï¼Œåè€Œæ˜¯å¯¹æ›´å°‘å‡ºç°çš„ç‰¹å¾ç»™äºˆæ›´å¤§çš„æ›´æ–°ã€‚</li><li>å¯¹äºç¥ç»ç½‘ç»œæ¥è¯´ï¼Œå¦ä¸€ä¸ªæœ€å°åŒ–é«˜åº¦éå‡¸è¯¯å·®å‡½æ•°çš„å…³é”®æŒ‘æˆ˜æ˜¯<strong>é¿å…é™·å…¥ä»–ä»¬å¤§é‡çš„æ¬¡å±€éƒ¨æœ€ä¼˜ç‚¹ï¼ˆsuboptimalï¼‰</strong>ã€‚Dauphin ç­‰äºº [19ï¼Œ<em>Identifying and attacking the saddle point problem in high-dimensional non-convex optimization</em>] æŒ‡å‡ºäº‹å®ä¸Šå›°éš¾æ¥è‡ªäºéç‚¹è€Œä¸æ˜¯å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œå³æŸå¤±å‡½æ•°åœ¨è¯¥ç‚¹çš„ä¸€ä¸ªç»´åº¦ä¸Šæ˜¯ä¸Šå¡ï¼ˆslopes upï¼‰ï¼ˆ <em>è¯‘è€…æ³¨ï¼šæ–œç‡ä¸ºæ­£</em> ï¼‰ï¼Œè€Œåœ¨å¦ä¸€ä¸ªç»´åº¦ä¸Šæ˜¯ä¸‹å¡ï¼ˆslopes downï¼‰ï¼ˆ <em>è¯‘è€…æ³¨ï¼šæ–œç‡ä¸ºè´Ÿ</em> ï¼‰ã€‚è¿™äº›éç‚¹é€šå¸¸è¢«ä¸€ä¸ªå…·æœ‰ç›¸åŒè¯¯å·®çš„å¹³é¢æ‰€åŒ…å›´ï¼Œè¿™ä½¿å¾—å¯¹äº SGD æ¥è¯´éå¸¸éš¾äºé€ƒè„±ï¼Œå› ä¸ºåœ¨å„ä¸ªç»´åº¦ä¸Šæ¢¯åº¦éƒ½è¶‹è¿‘äº 0 ã€‚</li></ul><hr><h2 id="Gradient-descent-optimization-algorithms"><a href="#Gradient-descent-optimization-algorithms" class="headerlink" title="Gradient descent optimization algorithms"></a>Gradient descent optimization algorithms</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¼šæ¦‚è¿°ä¸€äº›åœ¨æ·±åº¦å­¦ä¹ ç¤¾åŒºå¸¸ç”¨çš„ç®—æ³•ï¼Œè¿™äº›ç®—æ³•è§£å†³äº†æˆ‘ä»¬å‰é¢æåˆ°çš„æŒ‘æˆ˜ã€‚æˆ‘ä»¬ä¸ä¼šè®¨è®ºå®é™…ä¸Šåœ¨é«˜ç»´æ•°æ®é›†ä¸Šä¸å¯è¡Œçš„ç®—æ³•ï¼Œä¾‹å¦‚äºŒé˜¶æ–¹æ³•ä¸­çš„ <a href="https://en.wikipedia.org/wiki/Newton%27s_method_in_optimization" target="_blank" rel="noopener">ç‰›é¡¿æ³•</a>ã€‚</p><h3 id="Momentum"><a href="#Momentum" class="headerlink" title="Momentum"></a>Momentum</h3><p>SGD åœ¨é‡åˆ°æ²Ÿå£‘ï¼ˆravinesï¼‰ä¼šæ¯”è¾ƒå›°éš¾ï¼Œå³åœ¨ä¸€ä¸ªç»´åº¦ä¸Šæ¯”å¦ä¸€ä¸ªç»´åº¦æ›´é™¡å³­çš„æ›²é¢ [1ï¼Œ<em>Two problems with backpropagation and other steepest-descent learning procedures for networks</em>] ï¼Œè¿™äº›æ›²é¢é€šå¸¸åŒ…å›´ç€å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚åœ¨è¿™äº›åœºæ™¯ä¸­ï¼ŒSGD éœ‡è¡ä¸”ç¼“æ…¢çš„æ²¿ç€æ²Ÿå£‘çš„ä¸‹å¡æ–¹å‘æœç€å±€éƒ¨æœ€ä¼˜ç‚¹å‰è¿›ï¼Œå¦‚å›¾ 2 æ‰€ç¤ºã€‚</p><p><img src="http://ruder.io/content/images/2015/12/without_momentum.gif" alt="SGD without momentum"><br><em>å›¾ 2ï¼šä¸å¸¦åŠ¨é‡çš„ SGD</em></p><p>åŠ¨é‡ï¼ˆMomentumï¼‰[2ï¼Œ<em>On the momentum term in gradient descent learning algorithms</em>] æ˜¯ä¸€ç§åœ¨ç›¸å…³æ–¹å‘åŠ é€Ÿ SGD çš„æ–¹æ³•ï¼Œå¹¶ä¸”èƒ½å¤Ÿå‡å°‘éœ‡è¡ï¼Œå¦‚å›¾ 3 æ‰€ç¤ºã€‚</p><p><img src="http://ruder.io/content/images/2015/12/with_momentum.gif" alt="SGD without momentum"><br><em>å›¾ 3ï¼šå¸¦åŠ¨é‡çš„ SGD</em></p><p>å®ƒåœ¨å½“å‰çš„æ›´æ–°å‘é‡ä¸­åŠ å…¥äº†å…ˆå‰ä¸€æ­¥çš„çŠ¶æ€ï¼š</p><script type="math/tex; mode=display">\begin{aligned}v\_t &= \gamma v\_{t-1} + \eta \nabla\_\theta J( \theta) \\\\\theta &= \theta - v\_t\end{aligned}</script><p>æ³¨æ„ï¼šä¸€äº›å®ç°å¯èƒ½æ”¹å˜äº†å…¬å¼ä¸­çš„ç¬¦å·ã€‚åŠ¨é‡é¡¹ $\gamma$ é€šå¸¸è®¾ç½®ä¸º 0.9 æˆ–è€…ç›¸ä¼¼çš„å€¼ã€‚</p><p>æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨åŠ¨é‡æ—¶ï¼Œç±»ä¼¼äºæˆ‘ä»¬æŠŠçƒæ¨ä¸‹å±±çš„è¿‡ç¨‹ã€‚åœ¨çƒä¸‹å±±çš„è¿‡ç¨‹ä¸­ï¼Œçƒç´¯ç§¯åŠ¨é‡ä½¿å…¶é€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼ˆç›´åˆ°è¾¾åˆ°å…¶æœ€ç»ˆé€Ÿåº¦ï¼Œå¦‚æœæœ‰ç©ºæ°”é˜»åŠ›çš„è¯ï¼Œå³ $\gamma \lt 1$ï¼‰ã€‚ç›¸åŒçš„äº‹æƒ…ä¹Ÿå‘ç”Ÿåœ¨æˆ‘ä»¬çš„å‚æ•°æ›´æ–°ä¸­ï¼šå¯¹äºæ¢¯åº¦æŒ‡å‘æ–¹å‘ç›¸åŒçš„ç»´åº¦åŠ¨é‡é¡¹å¢å¤§ï¼Œå¯¹äºæ¢¯åº¦æ”¹å˜æ–¹å‘çš„ç»´åº¦åŠ¨é‡é¡¹å‡å°ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬è·å¾—äº†æ›´å¿«çš„æ”¶æ•›å¹¶å‡å°‘äº†éœ‡è¡ã€‚</p><h3 id="Nesterov-accelerated-gradient"><a href="#Nesterov-accelerated-gradient" class="headerlink" title="Nesterov accelerated gradient"></a>Nesterov accelerated gradient</h3><p>ç„¶è€Œï¼Œä¸€ä¸ªçƒç›²ç›®çš„æ²¿ç€æ–œå¡ä¸‹å±±ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªèªæ˜çš„çƒï¼Œä»–çŸ¥é“å°†è¦å»å“ªå¹¶å¯ä»¥åœ¨æ–œå¡å˜æˆä¸Šå¡å‰å‡é€Ÿã€‚</p><p>Nesterov accelerated gradientï¼ˆ <em>è¯‘è€…æ³¨ï¼šä»¥ä¸‹ç®€ç§° NAG</em> ï¼‰[7ï¼Œ<em>A method for unconstrained convex minimization problem with the rate of convergence o(1/k2)</em>] å°±æ˜¯è¿™æ ·ä¸€ç§ç»™äºˆæˆ‘ä»¬çš„åŠ¨é‡é¡¹é¢„çŸ¥èƒ½åŠ›çš„æ–¹æ³•ã€‚æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬ä½¿ç”¨åŠ¨é‡é¡¹ $\gamma v_{t-1}$ æ¥æ›´æ–° $\theta$ã€‚å› æ­¤è®¡ç®— $\theta-\gamma v_{t-1}$ ç»™äº†æˆ‘ä»¬ä¸€ä¸ªå…³äºçš„å‚æ•°ä¸‹ä¸€ä¸ªä½ç½®çš„ä¼°è®¡ï¼ˆè¿™é‡Œçœç•¥äº†æ¢¯åº¦é¡¹ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•ç²—æš´çš„æƒ³æ³•ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥é€šè¿‡è®¡ç®— $\theta$ ä¸‹ä¸€ä¸ªä½ç½®è€Œä¸æ˜¯å½“å‰ä½ç½®çš„æ¢¯åº¦æ¥å®ç°ã€Œå‘å‰çœ‹ã€ã€‚</p><script type="math/tex; mode=display">\\begin{aligned}v\_t &= \gamma v\_{t-1} + \eta \nabla\_\theta J( \theta - \gamma v\_{t-1} ) \\\\\\theta &= \theta - v\_t\\end{aligned}</script><p>æˆ‘ä»¬ä»ç„¶è®¾ç½® $\gamma$ ä¸º 0.9ã€‚åŠ¨é‡æ³•é¦–å…ˆè®¡ç®—å½“å‰æ¢¯åº¦ï¼ˆå›¾ 4 ä¸­çš„å°è“è‰²å‘é‡ï¼‰,ç„¶ååœ¨æ›´æ–°ç´¯ç§¯æ¢¯åº¦ï¼ˆupdated accumulated gradientï¼‰æ–¹å‘ä¸Šå¤§å¹…åº¦çš„è·³è·ƒï¼ˆå›¾ 4 ä¸­çš„å¤§è“è‰²å‘é‡ï¼‰ã€‚ä¸æ­¤ä¸åŒçš„æ˜¯ï¼ŒNAG é¦–å…ˆåœ¨å…ˆå‰çš„ç´¯ç§¯æ¢¯åº¦ï¼ˆprevious accumulated gradientï¼‰æ–¹å‘ä¸Šè¿›è¡Œå¤§å¹…åº¦çš„è·³è·ƒï¼ˆå›¾ 4 ä¸­çš„æ£•è‰²å‘é‡ï¼‰ï¼Œè¯„ä¼°è¿™ä¸ªæ¢¯åº¦å¹¶åšä¸€ä¸‹ä¿®æ­£ï¼ˆå›¾ 4 ä¸­çš„çº¢è‰²å‘é‡ï¼‰ï¼Œè¿™å°±æ„æˆä¸€æ¬¡å®Œæ•´çš„ NAG æ›´æ–°ï¼ˆå›¾ 4 ä¸­çš„ç»¿è‰²å‘é‡ï¼‰ã€‚è¿™ç§é¢„æœŸæ›´æ–°é˜²æ­¢æˆ‘ä»¬è¿›è¡Œçš„å¤ªå¿«ï¼Œä¹Ÿå¸¦æ¥äº†æ›´é«˜çš„ç›¸åº”é€Ÿåº¦ï¼Œè¿™åœ¨ä¸€äº›ä»»åŠ¡ä¸­éå¸¸æœ‰æ•ˆçš„æå‡äº† RNN çš„æ€§èƒ½ [8ï¼Œ<em>Advances in Optimizing Recurrent Networks</em>] ã€‚</p><p><img src="http://ruder.io/content/images/2016/09/nesterov_update_vector.png" alt="Nesterov update"><br><em>å›¾ 4ï¼šNesterov æ›´æ–°ï¼Œæ¥è‡ª <a href="http://www.cs.toronto.edu/~tijmen/csc321/slides/lecture_slides_lec6.pdf" target="_blank" rel="noopener">G. Hintonâ€™s lecture 6c</a></em></p><p>å¯ä»¥åœ¨ <a href="">è¿™é‡Œ</a> æŸ¥çœ‹å¯¹ NAG çš„å¦ä¸€ç§ç›´è§‚è§£é‡Šï¼Œæ­¤å¤– Ilya Sutskever åœ¨ä»–çš„åšå£«è®ºæ–‡ä¸­ä¹Ÿç»™å‡ºäº†è¯¦ç»†è§£é‡Š [9ï¼Œ<em>Training Recurrent neural Networks</em>] ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å·²ç»èƒ½å¤Ÿä¾æ®è¯¯å·®å‡½æ•°çš„æ–œç‡æ¥è°ƒæ•´æ›´æ–°ï¼Œå¹¶åŠ å¿« SGD çš„é€Ÿåº¦ï¼Œæ­¤å¤–æˆ‘ä»¬ä¹Ÿæƒ³æ ¹æ®æ¯ä¸ªå‚æ•°çš„é‡è¦æ€§æ¥å†³å®šè¿›è¡Œæ›´å¤§è¿˜æ˜¯æ›´å°çš„æ›´æ–°ã€‚</p><h3 id="Adagrad"><a href="#Adagrad" class="headerlink" title="Adagrad"></a>Adagrad</h3><p>Adagrad [3ï¼Œ<em>Adaptive Subgradient Methods for Online Learning and Stochastic Optimization</em>] å°±æ˜¯è¿™æ ·ä¸€ç§è§£å†³è¿™ä¸ªé—®é¢˜çš„åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–ç®—æ³•ï¼šæ ¹æ®å‚æ•°æ¥è°ƒæ•´å­¦ä¹ ç‡ï¼Œå¯¹äºä¸å¸¸è§çš„å‚æ•°ç»™äºˆæ›´å¤§çš„æ›´æ–°ï¼Œè€Œå¯¹äºå¸¸è§çš„ç»™äºˆæ›´å°çš„æ›´æ–°ã€‚å› æ­¤ï¼ŒAdagrad éå¸¸é€‚ç”¨äºç¨€ç–æ•°æ®ã€‚Dean ç­‰äºº [4ï¼Œ<em>Large Scale Distributed Deep Networks</em>] å‘ç° Adagrad èƒ½å¤Ÿå¤§å¹…æé«˜ SGD çš„é²æ£’æ€§ï¼Œå¹¶åœ¨ Google ç”¨å…¶è®­ç»ƒå¤§è§„æ¨¡ç¥ç»ç½‘ç»œï¼Œè¿™å…¶ä¸­å°±åŒ…æ‹¬ <a href="http://www.wired.com/2012/06/google-x-neural-network/" target="_blank" rel="noopener">åœ¨ YouTube ä¸­å­¦ä¹ è¯†åˆ«çŒ«</a>ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒPennington ç­‰äºº [5ï¼Œ<em>Glove: Global Vectors for Word Representation</em>] ä½¿ç”¨ Adagrad æ¥è®­ç»ƒ GloVe è¯åµŒå…¥ï¼Œå› ä¸ºç½•è§çš„è¯æ±‡éœ€è¦æ¯”å¸¸è§è¯æ›´å¤§çš„æ›´æ–°ã€‚</p><p>å‰é¢æˆ‘ä»¬åœ¨å¯¹æ‰€æœ‰å‚æ•° $\theta$ æ›´æ–°æ—¶æ¯ä¸ªå‚æ•° $\theta_i$ ä½¿ç”¨ç›¸åŒçš„å­¦ä¹ ç‡ $\eta$ã€‚Adagrad åœ¨æ¯ä¸ªæ—¶é—´ç‚¹ $t$ å¯¹æ¯ä¸ªå‚æ•° $ \theta_i $ ä½¿ç”¨çš„å­¦ä¹ ç‡éƒ½ä¸åŒï¼Œæˆ‘ä»¬é¦–å…ˆå±•ç°æ¯ä¸ªå‚æ•°çš„æ›´æ–°ï¼Œç„¶åå†å‘é‡åŒ–ã€‚ç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä½¿ç”¨ $g_{t,i}$ æ¥è¡¨ç¤ºç›®æ ‡å‡½æ•°å…³äºå‚æ•° $\theta_i$ åœ¨æ—¶é—´ç‚¹ $t$ æ—¶çš„æ¢¯åº¦ï¼š</p><script type="math/tex; mode=display">g\_{t, i} = \nabla\_\theta J( \theta\_i )</script><p>SGD åœ¨æ¯ä¸ªæ—¶é—´ç‚¹ $t$ å¯¹æ¯ä¸ªå‚æ•° $\theta_i$ çš„æ›´æ–°å˜ä¸ºï¼š</p><script type="math/tex; mode=display">\theta\_{t+1,i} = \theta\_{t,i} - \eta \cdot g_{t,i}</script><p>åœ¨è¿™ä¸ªæ›´æ–°è§„åˆ™é‡Œï¼ŒAdagrad åœ¨æ¯ä¸ªæ—¶é—´ç‚¹ $t$ å¯¹æ¯ä¸ªå‚æ•° $\theta_i$ éƒ½ä¼šåŸºäºè¿‡å»çš„æ¢¯åº¦ä¿®æ”¹å­¦ä¹ ç‡ $\eta$ã€‚</p><script type="math/tex; mode=display">\theta\_{t+1, i} = \theta\_{t, i} - \dfrac{\eta}{\sqrt{G\_{t, ii} + \epsilon}} \cdot g_{t, i}</script><p>å…¶ä¸­ $G_{t} \in \mathbb{R}^{d \times d}$ æ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µï¼Œå¯¹è§’å…ƒç´  $G_t[i, i]$ æ˜¯å‚æ•° $\theta_i$ ä»å¼€å§‹åˆ°æ—¶é—´ç‚¹ $t$ ä¸ºæ­¢çš„æ¢¯åº¦å¹³æ–¹å’Œ [25]ï¼Œ$\epsilon$ æ˜¯ä¸€ä¸ªå¹³æ»‘é¡¹ï¼Œç”¨äºé˜²æ­¢åˆ†æ¯ä¸º 0 ï¼Œé€šå¸¸ä¸º $10^{-8}$ å·¦å³ã€‚æœ‰è¶£çš„æ˜¯ï¼Œå¦‚æœå»æ‰å¼€æ–¹æ“ä½œï¼Œç®—æ³•æ€§èƒ½ä¼šå¤§å¹…ä¸‹é™ã€‚</p><p>ç”±äº $G_t$ çš„å¯¹è§’å…ƒç´ æ˜¯å…³äºæ‰€æœ‰å‚æ•°çš„è¿‡å»çš„æ¢¯åº¦çš„å¹³æ–¹å’Œï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„å®ç°å‘é‡åŒ–ï¼Œå³ä½¿ç”¨ç‚¹ä¹˜ $\odot$ ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{G\_{t} + \epsilon}} \odot g_{t}</script><p>Adagrad æœ€å¤§çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯æˆ‘ä»¬å¯ä»¥ä¸ç”¨æ‰‹åŠ¨çš„è°ƒæ•´å­¦ä¹ ç‡ã€‚å¤§å¤šæ•°å®ç°ä½¿ç”¨ä¸€ä¸ªé»˜è®¤å€¼ 0.01 ã€‚</p><p>Adagrad ä¸»è¦çš„ç¼ºç‚¹æ˜¯åˆ†æ¯ä¸­ç´¯ç§¯çš„å¹³æ–¹å’Œæ¢¯åº¦ï¼šç”±äºæ¯ä¸€ä¸ªæ–°æ·»åŠ çš„é¡¹éƒ½æ˜¯æ­£çš„ï¼Œå¯¼è‡´ç´¯ç§¯å’Œåœ¨è®­ç»ƒæœŸé—´ä¸æ–­å¢å¤§ã€‚è¿™åè¿‡æ¥å¯¼è‡´å­¦ä¹ ç‡ä¸æ–­å‡å°ï¼Œæœ€ç»ˆå˜æˆæ— é™å°ï¼Œè¿™æ—¶ç®—æ³•å·²ç»ä¸èƒ½å†ç»§ç»­å­¦ä¹ æ–°ä¸œè¥¿äº†ã€‚ä¸‹é¢çš„è¿™ä¸ªç®—æ³•å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="Adadelta"><a href="#Adadelta" class="headerlink" title="Adadelta"></a>Adadelta</h3><p>Adadelta [6ï¼Œ<em>ADADELTA: An Adaptive Learning Rate Method</em>] æ˜¯ Adagrad çš„æ‰©å±•ï¼Œæ—¨åœ¨å¸®åŠ©ç¼“è§£åè€…å­¦ä¹ ç‡å•è°ƒä¸‹é™çš„é—®é¢˜ã€‚ä¸ Adagrad ç´¯ç§¯è¿‡å»æ‰€æœ‰æ¢¯åº¦çš„å¹³æ–¹å’Œä¸åŒï¼ŒAdadelta é™åˆ¶åœ¨è¿‡å»æŸä¸ªçª—å£å¤§å°ä¸º $w$ çš„å¤§å°å†…çš„æ¢¯åº¦ã€‚</p><p>å­˜å‚¨å…ˆå‰ $w$ ä¸ªæ¢¯åº¦çš„å¹³æ–¹æ•ˆç‡ä¸é«˜ï¼ŒAdadelta çš„æ¢¯åº¦å¹³æ–¹å’Œè¢«é€’å½’çš„å®šä¹‰ä¸ºè¿‡å»æ‰€æœ‰æ¢¯åº¦å¹³æ–¹çš„è¡°å‡å¹³å‡å€¼ï¼ˆdecaying averageï¼‰ã€‚åœ¨ $t$ æ—¶åˆ»çš„å¹³å‡å€¼ $E[g^2]_t$ ä»…ä»…å–å†³äºå…ˆå‰çš„å¹³å‡å€¼å’Œå½“å‰çš„æ¢¯åº¦ï¼š</p><script type="math/tex; mode=display">E[g^2]\_t = \gamma E[g^2]\_{t-1} + (1-\gamma)g_t^2</script><p>å…¶ä¸­ $\gamma$ ç±»ä¼¼äºåŠ¨é‡é¡¹ï¼Œæˆ‘ä»¬åŒæ ·è®¾ç½®ä¸º 0.9 å·¦å³ã€‚ä¸ºæ¸…æ¥šèµ·è§ï¼Œæˆ‘ä»¬æ ¹æ®å‚æ•°æ›´æ–°å‘é‡ $\Delta \theta_t$ æ¥é‡å†™ä¸€èˆ¬çš„ SGD æ›´æ–°å…¬å¼ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\Delta \theta\_t &= - \eta \cdot g\_{t, i} \\\\\theta\_{t+1} &= \theta\_t + \Delta \theta_t \\\\\end{aligned}</script><p>å…ˆå‰æˆ‘ä»¬æ¨å¯¼è¿‡çš„ Adagrad çš„å‚æ•°æ›´æ–°å‘é‡æ˜¯ï¼š</p><script type="math/tex; mode=display">\Delta \theta\_t = - \dfrac{\eta}{\sqrt{G\_{t} + \epsilon}} \odot g_{t}</script><p>æˆ‘ä»¬ç°åœ¨ç”¨è¿‡å»æ¢¯åº¦å¹³æ–¹å’Œçš„è¡°å‡å¹³å‡ $E[g^2]_t$ æ¥ä»£æ›¿å¯¹è§’çŸ©é˜µ $G_t$ï¼š</p><script type="math/tex; mode=display">\Delta \theta\_t = - \dfrac{\eta}{\sqrt{E[g^2]\_t + \epsilon}} g_{t}</script><p>ç”±äºåˆ†æ¯åªæ˜¯ä¸€ä¸ªæ¢¯åº¦çš„å‡æ–¹è¯¯å·®ï¼ˆRoot Mean Squaredï¼ŒRMSï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç¼©å†™æ¥ä»£æ›¿ï¼š</p><script type="math/tex; mode=display">\Delta \theta\_t = - \dfrac{\eta}{RMS[g]\_{t}} g_t</script><p>ä½œè€…æ³¨æ„åˆ°è¿™ä¸ªæ›´æ–°ä¸­çš„å•ä½ï¼ˆunitsï¼‰ä¸åŒ¹é…ï¼ˆSGDï¼ŒåŠ¨é‡å’Œ Adagrad ä¹Ÿæ˜¯ï¼‰ï¼Œå³æ›´æ–°å‘é‡åº”è¯¥å…·æœ‰å’Œå‚æ•°ä¸€æ ·çš„å•ä½ã€‚ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»–ä»¬é¦–å…ˆå®šä¹‰äº†å¦ä¸€ä¸ªæŒ‡æ•°è¡°å‡å¹³å‡,ä½†æ˜¯è¿™æ¬¡ä¸æ˜¯å…³äºæ¢¯åº¦çš„å¹³æ–¹ï¼Œè€Œæ˜¯å…³äºå‚æ•°æ›´æ–°çš„å¹³æ–¹ï¼š</p><script type="math/tex; mode=display">E[\Delta \theta^2]\_t = \gamma E[\Delta \theta^2]\_{t-1} + (1 - \gamma) \Delta \theta^2_t</script><p>é‚£ä¹ˆå‚æ•°æ›´æ–°çš„å‡æ–¹è¯¯å·®æ˜¯ï¼š</p><script type="math/tex; mode=display">RMS[\Delta \theta]\_{t} = \sqrt{E[\Delta \theta^2]_t + \epsilon}</script><p>ç”±äº $RMS[\Delta \theta]_{t}$ æœªçŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šä¸€æ­¥çš„æ¥ä¼°è®¡ã€‚ç”¨å¸¦æœ‰ $RMS[\Delta \theta]_{t-1}$ çš„å‚æ•°æ›´æ–°è§„åˆ™ä»£æ›¿å­¦ä¹ ç‡ $\eta$ å°±å¾—åˆ°äº† Adadelta æœ€ç»ˆçš„æ›´æ–°è§„åˆ™ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\Delta \theta\_t &= - \dfrac{RMS[\Delta \theta]\_{t-1}}{RMS[g]\_{t}} g\_{t} \\\\\theta\_{t+1} &= \theta\_t + \Delta \theta\_t \\\\\end{aligned}</script><p>ä½¿ç”¨ Adadelta æ—¶æˆ‘ä»¬ç”šè‡³ä¸éœ€è¦æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„å­¦ä¹ ç‡ï¼Œå› ä¸ºå®ƒå·²ç»ä¸åœ¨æ›´æ–°è§„åˆ™ä¸­äº†ã€‚</p><h3 id="RMSprop"><a href="#RMSprop" class="headerlink" title="RMSprop"></a>RMSprop</h3><p>RMSprop æ˜¯ä¸€ç§æœªå‘å¸ƒçš„è‡ªé€‚åº”å­¦ä¹ ç‡çš„æ–¹æ³•ï¼Œç”± Geoff Hinton åœ¨ <a href="http://www.cs.toronto.edu/~tijmen/csc321/slides/lecture_slides_lec6.pdf" target="_blank" rel="noopener">Lecture 6e of his Coursera Class</a> ä¸­æå‡ºã€‚</p><p>RMSprop å’Œ Adadelta åœ¨åŒä¸€æ—¶é—´è¢«ç‹¬ç«‹åœ°å‘æ˜å‡ºæ¥ï¼Œéƒ½æ˜¯ä¸ºäº†è§£å†³ Adagrad çš„å­¦ä¹ ç‡é€’å‡é—®é¢˜ã€‚äº‹å®ä¸Š RMSprop ä¸æˆ‘ä»¬ä¸Šé¢è®¨è®ºè¿‡çš„ Adadelta çš„ç¬¬ä¸€ä¸ªæ›´æ–°å‘é‡ä¸€æ¨¡ä¸€æ ·ï¼š</p><script type="math/tex; mode=display">\begin{aligned}E[g^2]\_t &= 0.9 E[g^2]\_{t-1} + 0.1 g^2\_t \\\\\theta\_{t+1} &= \theta\_t - \dfrac{\eta}{\sqrt{E[g^2]\_t + \epsilon}} g\_{t} \\\\\end{aligned}</script><p>RMSprop ä¹Ÿæ˜¯å°†å­¦ä¹ ç‡é™¤ä»¥å¹³æ–¹æ¢¯åº¦çš„æŒ‡æ•°è¡°å‡å¹³å‡å€¼ã€‚Hinton å»ºè®®å°† $\gamma$ è®¾ä¸º 0.9 ï¼Œé»˜è®¤å­¦ä¹ ç‡ $\eta$ è®¾ä¸º 0.001 ã€‚</p><h3 id="Adam"><a href="#Adam" class="headerlink" title="Adam"></a>Adam</h3><p>Adaptive Moment Estimation (Adam) [15ï¼Œ<em>Adam: a Method for Stochastic Optimization</em>] æ˜¯å¦ä¸€ç§ä¸ºæ¯ä¸ªå‚æ•°è®¡ç®—è‡ªé€‚åº”å­¦ä¹ ç‡çš„æ–¹æ³•ã€‚é™¤äº†åƒ Adadelta å’Œ RMSprop ä¸€æ ·å­˜å‚¨å†å²å¹³æ–¹æ¢¯åº¦ $v_t$ çš„æŒ‡æ•°è¡°å‡å¹³å‡å€¼å¤–ï¼ŒAdam ä¹Ÿå­˜å‚¨å†å²æ¢¯åº¦ $m_t$ çš„æŒ‡æ•°è¡°å‡å¹³å‡å€¼ï¼Œç±»ä¼¼äºåŠ¨é‡ï¼š</p><script type="math/tex; mode=display">\begin{aligned}m\_t &= \beta\_1 m\_{t-1} + (1 - \beta\_1) g\_t \\\\v\_t &= \beta\_2 v\_{t-1} + (1 - \beta\_2) g\_t^2 \\\\\end{aligned}</script><p>å…¶ä¸­ $m_t$ å’Œ $v_t$ åˆ†åˆ«æ˜¯æ¢¯åº¦åœ¨ç¬¬ä¸€æ—¶åˆ»ï¼ˆå¹³å‡å€¼ï¼Œthe meanï¼‰å’Œç¬¬äºŒæ—¶åˆ»ï¼ˆæœªä¸­å¿ƒåŒ–çš„æ–¹å·®ï¼Œthe uncentered varianceï¼‰çš„ä¼°è®¡å€¼ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ–¹æ³•çš„åç§°ã€‚ç”±äº $m_t$ å’Œ $v_t$ ç”¨é›¶å‘é‡åˆå§‹åŒ–ï¼ŒAdam çš„ä½œè€…å‘ç°ä»–ä»¬è¶‹å‘äº 0 ï¼Œç‰¹åˆ«æ˜¯æœ€å¼€å§‹çš„æ—¶å€™ï¼ˆ<em>the initial time steps</em>ï¼‰å’Œè¡°å‡ç‡å¾ˆå°çš„æ—¶å€™ï¼ˆå³ $\beta_1$ å’Œ $\beta_2$ æ¥è¿‘äº 1ï¼‰ã€‚</p><p>ä»–ä»¬é€šè¿‡è®¡ç®—åå·®çº æ­£çš„ï¼ˆbias-correctedï¼‰çš„ç¬¬ä¸€å’Œç¬¬äºŒæ—¶åˆ»çš„ä¼°è®¡å€¼æ¥æŠµæ¶ˆè¿™ä¸ªé—®é¢˜ï¼š</p><script type="math/tex; mode=display">\begin{aligned}\hat{m}\_t &= \dfrac{m\_t}{1 - \beta^t\_1} \\\\\hat{v}\_t &= \dfrac{v\_t}{1 - \beta^t\_2}\end{aligned}</script><p>ç„¶åä»–ä»¬ä½¿ç”¨è¿™äº›å…¬å¼æ¥æ›´æ–°å‚æ•°ï¼Œå°±åƒ Adadelta å’Œ RMSprop ä¸€æ ·ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} \hat{m}\_t</script><p>ä½œè€…å»ºè®® $\beta_1$ çš„é»˜è®¤å€¼ä¸º 0.9 ï¼Œ $\beta_2$ çš„é»˜è®¤å€¼ä¸º 0.999 ï¼Œ$\epsilon$ çš„é»˜è®¤å€¼ä¸º $10^{-8}$ ã€‚ä»–ä»¬è¯æ˜ Adam åœ¨å®è·µä¸­éå¸¸æœ‰æ•ˆï¼Œè€Œä¸”å¯¹æ¯”å…¶ä»–è‡ªé€‚åº”å­¦ä¹ ç‡ç®—æ³•ä¹Ÿæœ‰ä¼˜åŠ¿ã€‚</p><h3 id="AdaMax"><a href="#AdaMax" class="headerlink" title="AdaMax"></a>AdaMax</h3><p>Adam çš„æ›´æ–°è§„åˆ™ä¸­çš„ $v_t$ æˆæ¯”ä¾‹çš„ç¼©æ”¾äº†æ¢¯åº¦ï¼Œæ­£æ¯”äºå†å²æ¢¯åº¦çš„ $\ell_2$ èŒƒæ•°ï¼ˆé€šè¿‡ $v_{t-1}$ é¡¹ï¼‰å’Œå½“å‰æ¢¯åº¦ $|g_t|^2$ï¼ˆ<em>è¯‘è€…æ³¨ï¼šæ­¤æ®µè¯æˆ‘éå¸¸ä¸ç¡®å®šæ˜¯è¿™ä¹ˆç¿»è¯‘çš„ï¼Œè´´ä¸ŠåŸæ–‡ï¼šThe $v_t$ factor in the Adam update rule scales the gradient inversely proportionally to the $\ell_2$ norm of the past gradients (via the vtâˆ’1vtâˆ’1 term) and current gradient $|g_t|^2$</em>ï¼‰ï¼š</p><script type="math/tex; mode=display">v\_t = \beta\_2 v\_{t-1} + (1 - \beta\_2) |g\_t|^2</script><p>æˆ‘ä»¬å¯ä»¥å°†æ­¤æ¨å¹¿åˆ° $\ell_p$ èŒƒæ•°ã€‚æ³¨æ„ Kingma å’Œ Ba ä¹Ÿå°† $\beta_2$ å‚æ•°åŒ–ä¸º $\beta_2^p$ï¼š</p><script type="math/tex; mode=display">v\_t = \beta\_2^p v\_{t-1} + (1 - \beta\_2^p) |g\_t|^p</script><p>å½“ $p$ éå¸¸å¤§çš„æ—¶å€™é€šå¸¸ä¼šå¯¼è‡´æ•°å€¼ä¸Šçš„ä¸ç¨³å®šï¼ˆ<em>numerically unstable</em>ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯å®é™…ä¸­é€šå¸¸ä½¿ç”¨ $\ell_1$ å’Œ $\ell_2$ çš„åŸå› ã€‚ç„¶è€Œï¼Œ$\ell_\infty$ é€šå¸¸ä¹Ÿä¼šæ¯”è¾ƒç¨³å®šã€‚å› æ­¤ï¼Œä½œè€…æå‡ºäº† AdaMaxï¼ˆKingma and Ba, 2015ï¼‰ï¼Œæ˜¾ç¤ºäº†ç»“åˆäº† $\ell_\infty$ çš„ $v_t$ ä¹Ÿèƒ½å¤Ÿæ”¶æ•›åˆ°ä¸‹é¢çš„æ›´ç¨³å®šçš„å€¼ã€‚ä¸ºäº†é¿å…ä¸ Adam æ··æ·†ï¼Œæˆ‘ä»¬ä½¿ç”¨ $u_t$ æ¥è¡¨ç¤ºæ— é™èŒƒæ•°çº¦æŸçš„ $v_t$ï¼ˆinfinity norm-constrainedï¼‰ï¼š</p><script type="math/tex; mode=display">\begin{aligned}u\_t &= \beta\_2^\infty v\_{t-1} + (1 - \beta\_2^\infty) |g\_t|^\infty\\\\              & = \max(\beta\_2 \cdot v\_{t-1}, |g\_t|)\end{aligned}</script><p>æˆ‘ä»¬ç°åœ¨å¯ä»¥å°†æ­¤åŠ è¿› Adam çš„æ›´æ–°è§„åˆ™é‡Œï¼Œç”¨ $u_t$ ä»£æ›¿ $\sqrt{\hat{v}_t} + \epsilon$ï¼Œå¾—åˆ° AdaMax çš„æ›´æ–°è§„åˆ™ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{u\_t} \hat{m}\_t</script><p>æ³¨æ„åˆ° $u_t$ ä¾èµ–äº <strong>max</strong> æ“ä½œï¼Œè¿™ä¸åƒ Adam ä¸­çš„ $m_t$ å’Œ $v_t$ é‚£æ ·å®¹æ˜“è¶‹å‘äº 0ï¼ˆ<em>bias towards zero</em>ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸éœ€è¦ä¸º $u_t$ è®¡ç®—åå·®çº æ­£çš„åŸå› ã€‚å»ºè®®çš„é»˜è®¤å€¼æ˜¯ $\eta = 0.002$ï¼Œ$\beta_1 = 0.9$ å’Œ $\beta_2 = 0.999$ ã€‚</p><h3 id="Nadam"><a href="#Nadam" class="headerlink" title="Nadam"></a>Nadam</h3><p> æ­£å¦‚å‰é¢è¯´çš„é‚£æ ·ï¼ŒAdam å¯ä»¥çœ‹æˆ RMSprop å’ŒåŠ¨é‡çš„ç»„åˆï¼šRMSprop è´¡çŒ®äº†å†å²å¹³æ–¹æ¢¯åº¦çš„æŒ‡æ•°è¡°å‡çš„å¹³å‡å€¼ $v_t$ ï¼Œè€ŒåŠ¨é‡åˆ™è´Ÿè´£å†å²æ¢¯åº¦çš„æŒ‡æ•°è¡°å‡å¹³å‡å€¼ $m_t$ ã€‚æˆ‘ä»¬ä¹Ÿçœ‹åˆ° NAG è¦ä¼˜äºæ™®é€šçš„åŠ¨é‡ã€‚</p><p>Nadamï¼ˆNesterov-accelerated Adaptive Moment Estimationï¼‰[24ï¼Œ<em>Incorporating Nesterov Momentum into Adam</em>] ç»“åˆäº† Adam å’Œ NAG ã€‚ä¸ºäº†å°† NAG èè¿› Adam ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹å…¶ä¸­çš„åŠ¨é‡é¡¹ $m_t$ ã€‚</p><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å½“å‰çš„ç¬¦å·å›é¡¾ä¸€ä¸‹åŠ¨é‡æ›´æ–°è§„åˆ™ï¼š</p><script type="math/tex; mode=display">\begin{aligned}g\_t &= \nabla\_{\theta\_t}J(\theta\_t)\\\\m\_t &= \gamma m\_{t-1} + \eta g\_t\\\\\theta_{t+1} &= \theta\_t - m\_t\end{aligned}</script><p>å…¶ä¸­ $J$ æ˜¯æˆ‘ä»¬çš„ç›®æ ‡å‡½æ•°ï¼Œ$\gamma$ æ˜¯åŠ¨é‡è¡°å‡é¡¹ï¼Œ$\eta$ æ˜¯æˆ‘ä»¬çš„æ­¥é•¿ã€‚å°† $m_t$ ä»£å…¥ä¸Šé¢çš„ç¬¬ä¸‰ä¸ªå¼å­å±•å¼€å¾—åˆ°ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_t - ( \gamma m\_{t-1} + \eta g_t)</script><p>è¿™å†æ¬¡è¯æ˜äº†åŠ¨é‡æ›´æ–°æ¶‰åŠä¸¤ä¸ªæ–¹å‘ï¼šå…ˆå‰åŠ¨é‡å‘é‡çš„æ–¹å‘å’Œå½“å‰æ¢¯åº¦çš„æ–¹å‘ã€‚</p><p>åœ¨è®¡ç®—æ¢¯åº¦å‰é€šè¿‡åŠ¨é‡æ›´æ–°å‚æ•°ï¼Œè¿™ä½¿å¾— NAG å…è®¸æˆ‘ä»¬åœ¨æ¢¯åº¦æ–¹å‘ä¸Šæ‰§è¡Œä¸€ä¸ªæ›´å‡†ç¡®çš„æ­¥éª¤ã€‚å› æ­¤æˆ‘ä»¬åªéœ€æ›´æ”¹ $g_t$ æ¥å°† NAG èè¿›å»ï¼š</p><script type="math/tex; mode=display">\begin{aligned}g\_t &= \nabla\_{\theta\_t}J(\theta\_t - \gamma m\_{t-1})\\\\m\_t &= \gamma m_{t-1} + \eta g\_t\\\\\theta\_{t+1} &= \theta\_t - m\_t\end{aligned}</script><p>Dozat æå‡ºæŒ‰ä»¥ä¸‹æ–¹å¼æ¥ä¿®æ”¹ NAG ï¼šä¸åº”ç”¨åŠ¨é‡æ­¥éª¤ä¸¤æ¬¡ä¸åŒçš„æ˜¯ â€”â€” ä¸€æ¬¡ç”¨æ¥æ›´æ–°æ¢¯åº¦ $g<em>t$ å’Œ ä¸€æ¬¡ç”¨æ¥æ›´æ–°å‚æ•° $\theta\</em>{t+1}$ ï¼Œæˆ‘ä»¬ç°åœ¨ç›´æ¥å¯¹å½“å‰å‚æ•°åº”ç”¨ä¸€ä¸ªã€Œå‘å‰çœ‹çš„ã€ï¼ˆ<em>look-ahead</em>ï¼‰åŠ¨é‡å‘é‡ï¼š</p><script type="math/tex; mode=display">\begin{aligned}g\_t &= \nabla\_{\theta\_t}J(\theta\_t)\\\\m\_t &= \gamma m\_{t-1} + \eta g\_t\\\\\theta\_{t+1} &= \theta\_t - (\gamma m\_t + \eta g\_t)\end{aligned}</script><p>æ³¨æ„æˆ‘ä»¬ç°åœ¨ä¸å†ä½¿ç”¨å¦‚ä¸Šé¢å±•å¼€çš„åŠ¨é‡æ›´æ–°è§„åˆ™ä¸­çš„å…ˆå‰åŠ¨é‡å‘é‡ $m_{t-1}$ ï¼Œè€Œæ˜¯ä½¿ç”¨å½“å‰åŠ¨é‡å‘é‡ $m_t$ æ¥ã€Œå‘å‰çœ‹ã€ã€‚ä¸ºäº†å°† Nesterov åŠ¨é‡åŠ è¿› Adam ï¼Œç›¸ä¼¼åœ°æˆ‘ä»¬å¯ä»¥ç”¨å½“å‰åŠ¨é‡å‘é‡ä»£æ›¿å…ˆå‰åŠ¨é‡å‘é‡ã€‚é¦–é€‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ Adam çš„æ›´æ–°è§„åˆ™ï¼ˆæ³¨æ„æˆ‘ä»¬ä¸ç”¨ä¿®æ”¹ $\hat v_t$ï¼‰ï¼š</p><script type="math/tex; mode=display">\begin{aligned} m\_t &= \beta\_1 m\_{t-1} + (1 - \beta\_1) g\_t\\\\\hat{m}\_t & = \frac{m\_t}{1 - \beta^t\_1}\\\\\theta\_{t+1} &= \theta\_{t} - \frac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} \hat{m}\_t\end{aligned}</script><p>å°† $\hat m_t$ å’Œ $m_t$ å®šä¹‰ä»£å…¥å±•å¼€å¾—åˆ°ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} (\dfrac{\beta\_1 m\_{t-1}}{1 - \beta^t\_1} + \dfrac{(1 - \beta\_1) g\_t}{1 - \beta^t\_1})</script><p>æ³¨æ„åˆ° $\dfrac{m_{t-1}}{1-\beta_1^t}$ æ˜¯å…ˆå‰åŠ¨é‡å‘é‡ $m_{t-1}$ çš„åå·®ä¿®æ­£ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ $m_{t-1}$ æ¥ä»£æ›¿ä¹‹ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} (\beta\_1 \hat{m}\_{t-1} + \dfrac{(1 - \beta\_1) g\_t}{1 - \beta^t_1})</script><p>è¿™ä¸ªå¼å­ä¸æˆ‘ä»¬ä¸Šé¢å±•å¼€å¾—åˆ°çš„åŠ¨é‡æ›´æ–°è§„åˆ™éå¸¸ç›¸ä¼¼ã€‚æˆ‘ä»¬å¯ä»¥åŠ è¿› Nesterov åŠ¨é‡ï¼Œå°±åƒæˆ‘ä»¬ä¹‹å‰ä¸€æ ·ç®€å•åœ°ç”¨å½“å‰åŠ¨é‡å‘é‡çš„åå·®ä¿®æ­£ä¼°è®¡ $\hat m<em>t$ æ¥ä»£æ›¿å…ˆå‰åŠ¨é‡å‘é‡çš„åå·®ä¿®æ­£ä¼°è®¡ $\hat m</em>{t-1}$ï¼Œå¾—åˆ° Nadam çš„æ›´æ–°è§„åˆ™ï¼š</p><script type="math/tex; mode=display">\theta\_{t+1} = \theta\_{t} - \dfrac{\eta}{\sqrt{\hat{v}\_t} + \epsilon} (\beta\_1 \hat{m}\_t + \dfrac{(1 - \beta\_1) g\_t}{1 - \beta^t_1})</script><h3 id="Visualization-of-algorithms"><a href="#Visualization-of-algorithms" class="headerlink" title="Visualization of algorithms"></a>Visualization of algorithms</h3><p>ä¸‹é¢çš„ä¸¤ä¸ªåŠ¨ç”»ï¼ˆæ¥è‡ª <a href="https://twitter.com/alecrad" target="_blank" rel="noopener">Alec Radford</a>ï¼‰æä¾›äº†å¯¹å½“å‰ä¼˜åŒ–ç®—æ³•è¡Œä¸ºçš„ç›´è§‚è§£é‡Šã€‚ä¹Ÿå¯ä»¥åœ¨ <a href="http://cs231n.github.io/neural-networks-3/" target="_blank" rel="noopener">è¿™é‡Œ</a> æŸ¥çœ‹ Karpathy å¯¹è¿™äº›åŠ¨ç”»çš„æè¿°å’Œå¯¹æˆ‘ä»¬è®¨è®ºè¿‡çš„ç®—æ³•çš„è§£é‡Šã€‚</p><p><img src="http://ruder.io/content/images/2016/09/contours_evaluation_optimizers.gif" alt="SGD optimization on loss surface contours"><br><em>å›¾ 5ï¼šåœ¨æŸå¤±æ›²é¢ç­‰å€¼çº¿ä¸Šçš„ SGD ä¼˜åŒ–</em></p><p>åœ¨å›¾ 5 ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»–ä»¬åœ¨æŸå¤±æ›²é¢çš„ç­‰å€¼çº¿ä¸Šï¼ˆ<a href="https://www.sfu.ca/~ssurjano/beale.html" target="_blank" rel="noopener">the Beale function</a>ï¼‰éšæ—¶é—´çš„å˜åŒ–è¶‹åŠ¿ã€‚æ³¨æ„åˆ° Adadelta ã€Adagrad å’Œ RMSprop å‡ ä¹ç«‹å³å¼€å§‹åœ¨æ­£ç¡®çš„æ–¹å‘ä¸‹é™å¹¶æ”¶æ•›é€Ÿåº¦å‡ ä¹ä¸€æ ·å¿«ï¼Œç„¶è€ŒåŠ¨é‡å’Œ NAG åˆ™ã€Œè„±è½¨ã€äº†ã€‚ä¸è¿‡ç”±äº NAG çš„ã€Œå‘å‰çœ‹ã€èƒ½åŠ›ä½¿å…¶å¾ˆå¿«çš„çº æ­£æ–¹å‘å¹¶æœç€æœ€å°ç‚¹å‰è¿›ã€‚</p><blockquote><p><em>è¯‘è€…æ³¨ï¼šæ–¹ä¾¿èµ·è§æˆ‘æŠŠ Beale å‡½æ•°çš„å›¾åƒå’Œè§£æå¼æ”¾åœ¨è¿™é‡Œã€‚</em></p><p><img src="https://www.sfu.ca/~ssurjano/beale.png" alt="Beale Function"></p><script type="math/tex; mode=display">f(\mathbf x) = (1.5-x_1+x_1x_2)^2 + (2.25-x_1+x_1x_2^2)^2 + (2.625-x_1+x_1+x_2^3)^2</script><p>é€šå¸¸æ¥è¯´è¯¥å‡½æ•°çš„å®šä¹‰åŸŸä¸º $x_i \in [-4.5, 4.5]$ ï¼Œå…¶ä¸­ $i = 1, 2$ ã€‚å…¨å±€æœ€å°ç‚¹ä¸º $f(\mathbf{x^*}) = 0$ ï¼Œå½“ $\mathbf{x^*} = (3, 0.5)$ æ—¶ ã€‚</p></blockquote><p><img src="http://ruder.io/content/images/2016/09/saddle_point_evaluation_optimizers.gif" alt="SGD optimization on saddle point"><br><em>å›¾ 6ï¼šåœ¨éç‚¹å¤„çš„ SGD ä¼˜åŒ–</em></p><p>å›¾ 6 æ˜¾ç¤ºäº†åœ¨éç‚¹å¤„çš„ç®—æ³•è¡Œä¸ºï¼Œå³è¯¥ç‚¹åœ¨ä¸€ä¸ªæ–¹å‘æ–œç‡ä¸ºæ­£ï¼Œå…¶ä»–æ–¹å‘æ–œç‡ä¸ºè´Ÿï¼Œæ­£å¦‚æˆ‘ä»¬ä¹‹å‰æåˆ°çš„è¿™å¯¹äº SGD æ˜¯ä¸€ä¸ªéš¾ç‚¹ã€‚æ³¨æ„åˆ° SGD ã€åŠ¨é‡å’Œ NAG å¾ˆéš¾æ‰“ç ´å¯¹ç§°æ€§ï¼Œå°½ç®¡åä¸¤è€…æœ€ç»ˆé€ƒç¦»çš„éç‚¹ï¼Œä½†æ˜¯ Adagrad ã€RMSprop å’Œ Adadelta å¾ˆå¿«æœç€æ–œç‡ä¸ºè´Ÿçš„æ–¹å‘å‰è¿›äº†ã€‚</p><p>å¯ä»¥çœ‹åˆ°è‡ªé€‚åº”å­¦ä¹ ç‡çš„æ–¹æ³•ï¼Œä¾‹å¦‚ Adagrad ã€Adadelta ã€RMSprop å’Œ Adam åœ¨è¿™äº›åœºæ™¯ä¸­æ˜¯æœ€åˆé€‚çš„å¹¶ä¸”æä¾›äº†æœ€å¥½çš„æ”¶æ•›ã€‚</p><h3 id="Which-optimizer-to-use"><a href="#Which-optimizer-to-use" class="headerlink" title="Which optimizer to use?"></a>Which optimizer to use?</h3><p>é‚£ä¹ˆï¼Œä½ åº”è¯¥ä½¿ç”¨å“ªç§ä¼˜åŒ–ç®—æ³•å‘¢ï¼Ÿå¦‚æœä½ çš„æ•°æ®æ¯”è¾ƒç¨€ç–ï¼Œé‚£ä¹ˆä½¿ç”¨è‡ªé€‚åº”å­¦ä¹ ç‡çš„ç®—æ³•å¾ˆå¯èƒ½ä¼šè®©ä½ å¾—åˆ°æœ€å¥½çš„ç»“æœã€‚å¦å¤–ä¸€ä¸ªå¥½å¤„æ˜¯ä½ ä¸ç”¨å»è°ƒèŠ‚å­¦ä¹ ç‡ï¼Œä½¿ç”¨é»˜è®¤çš„è®¾ç½®å¯èƒ½å°±ä¼šè®©ä½ è¾¾åˆ°æœ€å¥½çš„æ•ˆæœã€‚</p><p>æ€»çš„æ¥è¯´ï¼ŒRMSprop æ˜¯ Adagrad çš„ä¸€ç§æ‰©å±•ï¼Œç”¨æ¥è§£å†³åè€…å­¦ä¹ ç‡é€æ¸é€’å‡çš„é—®é¢˜ã€‚å®ƒå’Œ Adadelta éå¸¸åƒï¼Œé™¤äº† Adadelta åœ¨æ›´æ–°è§„åˆ™çš„åˆ†å­ä¸Šä½¿ç”¨å‚æ•°æ›´æ–°çš„ RMS ï¼ˆ<em>è¯‘è€…æ³¨ï¼šå‡æ–¹è¯¯å·®</em>ï¼‰ã€‚Adam æœ€ç»ˆåœ¨ RMSprop çš„åŸºç¡€ä¸ŠåŠ äº†åå·®ä¿®æ­£å’ŒåŠ¨é‡ã€‚åœ¨è¿™æ–¹é¢ï¼ŒRMSprop ã€Adadelta å’Œ Adam éå¸¸ç›¸ä¼¼ï¼Œåœ¨ç›¸ä¼¼çš„ç¯å¢ƒä¸‹ä¹Ÿè¡¨ç°åœ°ä¸€æ ·å¥½ã€‚Kingma ç­‰äºº [15ï¼Œ<em>Adam: a Method for Stochastic Optimization</em>] è¡¨ç¤ºéšç€æ¢¯åº¦è¶Šæ¥è¶Šç¨€ç–ï¼ŒAdam çš„åå·®ä¿®æ­£ä½¿å…¶ç•¥å¾®ä¼˜äº RMSprop ã€‚åœ¨è¿™ä¸ªæ–¹é¢æ€»ä½“ä¸Šæ¥è¯´ Adam å¯èƒ½æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</p><p>æœ‰è¶£çš„æ˜¯ï¼Œè®¸å¤šæœ€è¿‘çš„è®ºæ–‡ä»…ä»…ä½¿ç”¨æ™®é€šçš„ä¸å¸¦åŠ¨é‡ SGD å’Œä¸€ä¸ªç®€å•çš„å­¦ä¹ ç‡é€€ç«æœºåˆ¶ï¼ˆ<em>annealing schedule</em>ï¼‰ã€‚æ­£å¦‚æˆ‘ä»¬å‰é¢æ‰€è®¨è®ºçš„ï¼ŒSGD é€šå¸¸ä¼šæ‰¾åˆ°æœ€ä¼˜ç‚¹ï¼Œä½†æ˜¯ç›¸æ¯”å…¶ä»–ä¸€äº›ä¼˜åŒ–ç®—æ³•å¯èƒ½èŠ±è´¹çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œæ›´ä¾èµ–äºä¸€ä¸ªå¥½çš„åˆå§‹åŒ–å’Œé€€ç«æœºåˆ¶ï¼Œè€Œä¸”ä¹Ÿå¯èƒ½é™·å…¥éç‚¹è€Œä¸æ˜¯å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚æ‰€ä»¥ï¼Œ<strong>å¦‚æœä½ æ¯”è¾ƒå…³å¿ƒæ”¶æ•›é€Ÿåº¦å¹¶ä¸”åœ¨è®­ç»ƒä¸€ä¸ªæ·±åº¦æˆ–è€…å¤æ‚çš„ç¥ç»ç½‘ç»œï¼Œä½ åº”è¯¥é€‰æ‹©ä¸€ä¸ªè‡ªé€‚åº”å­¦ä¹ ç‡ç®—æ³•ã€‚</strong></p><hr><h2 id="Parallelizing-and-distributing-SGD"><a href="#Parallelizing-and-distributing-SGD" class="headerlink" title="Parallelizing and distributing SGD"></a>Parallelizing and distributing SGD</h2><p>é‰´äºå¤§æ•°æ®è§£å†³æ–¹æ¡ˆçš„æ™®åŠä»¥åŠä½ä»·é›†ç¾¤çš„å¯ç”¨æ€§ï¼Œä½¿ç”¨åˆ†å¸ƒå¼ SGD æ¥è¿›ä¸€æ­¥åŠ é€Ÿè®­ç»ƒæ˜¯ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„é€‰æ‹©ã€‚SGD æœ¬è´¨ä¸Šæ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼šæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æœç€æœ€ä¼˜ç‚¹å‰è¿›ã€‚SGD æä¾›äº†è¾ƒå¥½çš„æ”¶æ•›ä½†æ˜¯åœ¨å¤§æ•°æ®é›†ä¸Šå¯èƒ½ä¼šé€Ÿåº¦è¾ƒæ…¢ã€‚ç›¸åï¼Œå¼‚æ­¥æ‰§è¡Œ SGD æ¯”è¾ƒå¿«ï¼Œä½†æ˜¯ worker ä¹‹é—´ä¸ç†æƒ³çš„é€šä¿¡å¯èƒ½ä¼šé€ æˆæ¯”è¾ƒå·®çš„æ”¶æ•›ã€‚å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸éœ€è¦å¤§å‹è®¡ç®—é›†ç¾¤ï¼Œåœ¨ä¸€å°æœºå™¨ä¸Šå¹¶è¡Œæ‰§è¡Œ SGD ã€‚ä¸‹é¢æ˜¯ç›®å‰æå‡ºçš„ç”¨äºä¼˜åŒ–å¹¶è¡Œå’Œåˆ†å¸ƒå¼ SGD çš„ç®—æ³•å’Œæ¶æ„ã€‚</p><h3 id="Hogwild"><a href="#Hogwild" class="headerlink" title="Hogwild!"></a>Hogwild!</h3><p>Niu ç­‰äºº [23ï¼Œ<em>Hogwild! : A Lock-Free Approach to Parallelizing Stochastic Gradient Descent</em>] å¼•å…¥äº†ä¸€ä¸ªæ›´æ–°æœºåˆ¶ç§°ä¸º Hogwild!ï¼Œå¯ä»¥åœ¨ CPU ä¸Šå¹¶è¡Œæ‰§è¡Œ SGD ã€‚å¤„ç†å™¨å¯ä»¥åœ¨ä¸é”å‚æ•°çš„æƒ…å†µä¸‹è®¿é—®å…±äº«å†…å­˜ã€‚ç”±äºæ²¡æ¬¡æ›´æ–°åªä¿®æ”¹ä¸€éƒ¨åˆ†å‚æ•°ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•åªé€‚åˆäºè¾“å…¥æ•°æ®æ¯”è¾ƒç¨€ç–çš„æƒ…å†µã€‚ä»–ä»¬è¡¨æ˜åœ¨è¿™ç§æƒ…å†µä¸‹è¯¥æ–¹æ³•å¯ä»¥è¾¾åˆ°å‡ ä¹æœ€ä¼˜çš„æ”¶æ•›é€Ÿåº¦ï¼Œå› ä¸ºå¤„ç†å™¨æ˜¯ä¸å¤ªå¯èƒ½è¦†ç›–æœ‰ç”¨ä¿¡æ¯çš„ã€‚</p><h3 id="Downpour-SGD"><a href="#Downpour-SGD" class="headerlink" title="Downpour SGD"></a>Downpour SGD</h3><p>Downpour SGD æ˜¯ä¸€ç§ SGD çš„å¼‚æ­¥å˜ä½“ï¼Œç”± Dean ç­‰äºº [4ï¼Œ<em>Large Scale Distributed Deep Networks</em>] åœ¨è°·æ­Œçš„ DistBelief æ¡†æ¶ï¼ˆTensorFlow çš„å‰èº«ï¼‰ä¸­ä½¿ç”¨ã€‚å®ƒåœ¨è®­ç»ƒæ•°æ®çš„å­é›†ä¸Šå¹¶è¡Œçš„è¿è¡Œä¸€ä¸ªæ¨¡å‹çš„å¤šä¸ªå‰¯æœ¬ã€‚è¿™äº›æ¨¡å‹å°†ä»–ä»¬çš„æ›´æ–°å‘é€åˆ°ä¸€ä¸ªå‚æ•°æœåŠ¡å™¨ï¼Œä»–ä»¬åˆ†å¸ƒåœ¨å¤šä¸ªæœºå™¨ä¸Šã€‚æ¯ä¸ªæœºå™¨åªè´Ÿè´£å­˜å‚¨å’Œæ›´æ–°å…¨éƒ¨æ¨¡å‹å‚æ•°çš„ä¸€éƒ¨åˆ†ã€‚ç„¶è€Œç”±äºè¿™äº›æœºå™¨å¹¶ä¸éœ€è¦ç›¸äº’é€šä¿¡ï¼Œä¾‹å¦‚å…±äº«æƒé‡æˆ–è€…æ›´æ–°ï¼Œå¯¼è‡´ä»–ä»¬çš„å‚æ•°ä¸€ç›´æœ‰å‘æ•£çš„é£é™©ï¼Œé˜»ç¢æ”¶æ•›ã€‚</p><h3 id="Delay-tolerant-Algorithms-for-SGD"><a href="#Delay-tolerant-Algorithms-for-SGD" class="headerlink" title="Delay-tolerant Algorithms for SGD"></a>Delay-tolerant Algorithms for SGD</h3><p>McMahan å’Œ Streeter [12ï¼Œ<em>Delay-Tolerant Algorithms for Asynchronous Distributed Online Learning</em>] é€šè¿‡å¼€å‘ä¸€ä¸ªå»¶è¿Ÿå®¹å¿ï¼ˆdelay-tolerantï¼‰ç®—æ³•æ¥æ‰©å±• Adagrad ä½¿å…¶å¹¶è¡ŒåŒ–ï¼Œè¯¥ç®—æ³•ä¸ä»…è‡ªé€‚åº”å†å²æ¢¯åº¦ï¼Œè€Œä¸”ä¹Ÿæ›´æ–°å»¶è¿Ÿï¼ˆdelaysï¼‰ã€‚åœ¨å®é™…ä¸­ä¹Ÿè¢«è¯æ˜è¯¥æ–¹æ³•å¾ˆæœ‰æ•ˆã€‚</p><h3 id="TensorFlow"><a href="#TensorFlow" class="headerlink" title="TensorFlow"></a>TensorFlow</h3><p>TensorFlow [13ï¼Œ<em>TensorFlow : Large-Scale Machine Learning on Heterogeneous Distributed System</em>] æ˜¯ Google æœ€è¿‘å¼€æºçš„ç”¨äºå®ç°å’Œéƒ¨ç½²å¤§è§„æ¨¡æœºå™¨å­¦ä¹ æ¨¡å‹çš„æ¡†æ¶ã€‚TensorFlow åŸºäºä»–ä»¬ä½¿ç”¨ DistBelief çš„ç»éªŒï¼Œå¹¶ä¸”å·²ç»åœ¨å†…éƒ¨ä½¿ç”¨ï¼Œç”¨äºåœ¨å¤§èŒƒå›´çš„ç§»åŠ¨è®¾å¤‡å’Œå¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šæ‰§è¡Œè®¡ç®—ã€‚åˆ†å¸ƒå¼æ‰§è¡Œä¸­ï¼Œä¸€ä¸ªè®¡ç®—å›¾é’ˆå¯¹æ¯ä¸€ä¸ªè®¾å¤‡è¢«æ‹†åˆ†æˆå¤šä¸ªå­å›¾ï¼Œä½¿ç”¨å‘é€/æ¥æ”¶èŠ‚ç‚¹å¯¹è¿›è¡Œé€šä¿¡ã€‚</p><h3 id="Elastic-Averaging-SGD"><a href="#Elastic-Averaging-SGD" class="headerlink" title="Elastic Averaging SGD"></a>Elastic Averaging SGD</h3><p>Zhang ç­‰äºº [14ï¼Œ<em>Deep learning with Elastic Averaging SGD</em>] æå‡ºäº† Elastic Averaging SGDï¼ˆEASGDï¼‰ï¼Œå°†å¼‚æ­¥ SGD ä¸­æ¯ä¸ª worker å‚æ•°ç”¨ä¸€ä¸ªã€Œå¼¹åŠ›ã€ï¼ˆ<em>elastic force</em>ï¼‰è¿æ¥èµ·æ¥ï¼Œå³ä¸€ä¸ªç”±å‚æ•°æœåŠ¡å™¨ä¿å­˜çš„ä¸­å¿ƒå˜é‡ã€‚è¿™å…è®¸æœ¬åœ°å˜é‡åœ¨ä¸­å¿ƒå˜é‡é™„è¿‘è¿›ä¸€æ­¥éœ‡è¡ï¼Œè¿™ç†è®ºä¸Šå¯ä»¥åœ¨æ›´å¤§çš„å‚æ•°ç©ºé—´ä¸­è¿›è¡Œæ¢ç´¢ã€‚ä»–ä»¬ä»¥ç»éªŒè¯æ˜è¿™ç§å¢åŠ çš„æ¢ç´¢èƒ½åŠ›å¯ä»¥å¯»æ‰¾æ–°çš„å±€éƒ¨æœ€ä¼˜ç‚¹ä»è€Œæå‡æ€§èƒ½ã€‚</p><hr><h2 id="Additional-strategies-for-optimizing-SGD"><a href="#Additional-strategies-for-optimizing-SGD" class="headerlink" title="Additional strategies for optimizing SGD"></a>Additional strategies for optimizing SGD</h2><p>æœ€åï¼Œæˆ‘ä»¬ä»‹ç»ä¸€äº›å¯ä»¥å’Œå‰é¢è®¨è®ºçš„ç®—æ³•ä¸€èµ·ä½¿ç”¨çš„ç­–ç•¥ï¼Œç”¨ä»¥è¿›ä¸€æ­¥æå‡ SGD çš„æ€§èƒ½ã€‚å¯¹äºä¸€äº›å…¶ä»–å¸¸ç”¨çš„æŠ€å·§ï¼Œå¯ä»¥å‚è§ [22ï¼Œ<em>Efficient BackProp. Neural Networks: Tricks of the Trade</em>] ã€‚</p><h3 id="Shuffling-and-Curriculum-Learning"><a href="#Shuffling-and-Curriculum-Learning" class="headerlink" title="Shuffling and Curriculum Learning"></a>Shuffling and Curriculum Learning</h3><p>é€šå¸¸ï¼Œæˆ‘ä»¬æƒ³è¦é¿å…ç»™æ¨¡å‹æä¾›çš„è®­ç»ƒæ•°æ®æ˜¯æœ‰ç‰¹å®šé¡ºåºçš„ï¼Œå› ä¸ºè¿™ä¼šä½¿æ¨¡å‹å¸¦æœ‰åè§ã€‚å› æ­¤ï¼Œæ¯æ¬¡è¿­ä»£å®Œä¹‹åæ‰“ä¹±è®­ç»ƒæ•°æ®æ˜¯ä¸€ä¸ªå¾ˆå¥½åœ°æƒ³æ³•ã€‚</p><p>ä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œæœ‰äº›æƒ…å†µä¸‹æˆ‘ä»¬æƒ³è¦é€æ­¥è§£å†³æ›´éš¾çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†è®­ç»ƒæ•°æ®ä»¥ä¸€ç§æœ‰æ„ä¹‰çš„é¡ºåºæä¾›ç»™æ¨¡å‹ï¼Œè¿™å¯èƒ½ä¼šæå‡æ€§èƒ½å’Œå¾—åˆ°æ›´å¥½çš„æ”¶æ•›ã€‚æ„å»ºè¿™ç§æœ‰æ„ä¹‰çš„é¡ºåºçš„æ–¹æ³•ç§°ä¸ºè¯¾ç¨‹å­¦ä¹ ï¼ˆ<em>Curriculum Learning</em>ï¼‰[16ï¼Œ<em>Curriculum learning</em>] ã€‚</p><p>Zaremba å’Œ Sutskever [17ï¼Œ<em>Learning to Execute</em>] åªèƒ½è®­ç»ƒ LSTMs æ¥è¯„ä¼°ä½¿ç”¨è¯¾ç¨‹å­¦ä¹ çš„ç®€å•ç¨‹åºï¼Œè€Œä¸”è¡¨æ˜ç»„åˆæˆ–è€…æ··åˆçš„æ–¹æ³•è¦æ¯”å•ä¸€æ–¹æ³•æ›´æœ‰æ•ˆï¼Œé€šè¿‡å¢åŠ éš¾åº¦æ¥æ’åºæ ·æœ¬ã€‚</p><h3 id="Batch-normalization"><a href="#Batch-normalization" class="headerlink" title="Batch normalization"></a>Batch normalization</h3><p>ä¸ºæ–¹ä¾¿å­¦ä¹ ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šæ­£è§„åŒ–ï¼ˆ<em>normalize</em>ï¼‰å‚æ•°çš„åˆå§‹å€¼ï¼Œä»¥ 0 å‡å€¼å’Œå•ä½æ–¹å·®æ¥åˆå§‹åŒ–ã€‚éšç€è®­ç»ƒçš„è¿›è¡Œå’Œæˆ‘ä»¬å°†å‚æ•°æ›´æ–°åˆ°ä¸åŒçš„ç¨‹åº¦ï¼Œæˆ‘ä»¬æŸå¤±äº†è¿™ç§æ­£è§„åŒ–ï¼Œå¯¼è‡´è®­ç»ƒé€Ÿåº¦å˜æ…¢å¹¶ä¸”éšç€ç½‘ç»œè¶Šæ¥è¶Šæ·±ï¼Œè¿™ç§å½±å“è¢«æ¸æ¸æ”¾å¤§ã€‚</p><p>Batch normalization [18ï¼Œ<em>Batch Normalization : Accelerating Deep Network Training by Reducing Internal Covariate Shift</em>] é‡æ–°ä¸ºæ¯ä¸€ä¸ª mini-batch å»ºç«‹äº†è¿™ç§æ­£è§„åŒ–å¹¶ä¸”å˜åŒ–ä¹Ÿä¼šéšç€è¿™ä¸ªæ“ä½œåå‘ä¼ æ’­ã€‚é€šè¿‡åœ¨æ¨¡å‹ä¸­åŠ å…¥æ­£è§„åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´é«˜çš„å­¦ä¹ ç‡è€Œä¸”ä¸ç”¨å¤ªå…³å¿ƒå‚æ•°çš„åˆå§‹åŒ–ã€‚Batch normalization æ­¤å¤–ä¹Ÿæ‰®æ¼”è€…æ­£åˆ™åŒ–çš„è§’è‰²ï¼Œå¯ä»¥å‡å°‘ï¼ˆç”šè‡³æœ‰äº›æ—¶å€™æ¶ˆé™¤ï¼‰Dropout çš„éœ€è¦.</p><h3 id="Early-stopping"><a href="#Early-stopping" class="headerlink" title="Early stopping"></a>Early stopping</h3><p>æ ¹æ® Geoff Hinton: â€œ<em>Early stopping (is) beautiful free lunch</em>â€œï¼ˆ<a href="http://www.iro.umontreal.ca/~bengioy/talks/DL-Tutorial-NIPS2015.pdf" target="_blank" rel="noopener">NIPS 2015 Tutorial slides</a>ï¼Œslide 63ï¼‰ï¼Œä½ åº”è¯¥åœ¨è®­ç»ƒæ—¶æ—¶åˆ»ç›‘è§†ç€éªŒè¯é›†è¯¯å·®ï¼Œå¹¶ä¸”åœ¨ä½ çš„éªŒè¯é›†è¯¯å·®ä¸å†è¶³å¤Ÿåœ°é™ä½æ—¶åœæ­¢è®­ç»ƒã€‚</p><h3 id="Gradient-noise"><a href="#Gradient-noise" class="headerlink" title="Gradient noise"></a>Gradient noise</h3><p>Neelakantan ç­‰äºº [21ï¼Œ<em>Adding Gradient Noise Improves Learning for Very Deep Network</em>] åœ¨æ¯æ¬¡æ¢¯åº¦æ›´æ–°æ—¶åŠ ä¸Šä¸€ä¸ªæœä»é«˜æ–¯åˆ†å¸ƒ $N(0, \sigma_t^2)$ çš„å™ªå£°ï¼š</p><script type="math/tex; mode=display">g\_{t, i} = g\_{t, i} + N(0, \sigma^2_t)</script><p>ä»–ä»¬ä¾ç…§ä¸‹é¢çš„å…¬å¼æ›´æ–°ï¼ˆ<em>anneal</em>ï¼‰æ–¹å·®ï¼š</p><script type="math/tex; mode=display">\sigma^2_t = \dfrac{\eta}{(1 + t)^\gamma}</script><p>ä»–ä»¬è¡¨æ˜æ·»åŠ è¿™ä¸ªå™ªå£°ä½¿å¾—ç½‘ç»œå¯¹è¾ƒå·®çš„åˆå§‹åŒ–æ›´å…·æœ‰é²æ£’æ€§å¹¶ä¸”å°¤å…¶å¯¹è®­ç»ƒæ·±åº¦å’Œå¤æ‚çš„ç½‘ç»œå¾ˆæœ‰å¸®åŠ©ã€‚ä»–ä»¬æ€€ç–‘æ·»åŠ çš„å™ªå£°ä½¿å¾—æ¨¡å‹æœ‰æ›´å¤šæœºä¼šé€ƒç¦»å’Œæ‰¾åˆ°æ–°çš„å±€éƒ¨æœ€ä¼˜ç‚¹ï¼Œè¿™åœ¨æ·±åº¦æ¨¡å‹ä¸­å¾ˆå¸¸è§ã€‚</p><hr><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆçœ‹äº†æ¢¯åº¦ä¸‹é™çš„ 3 ä¸­å˜ä½“ï¼Œå…¶ä¸­ mini-batch æ¢¯åº¦ä¸‹é™æœ€æµè¡Œã€‚æˆ‘ä»¬ç„¶åç ”ç©¶äº†å‡ ç§æœ€å¸¸ä½¿ç”¨çš„ç”¨äºä¼˜åŒ– SGD çš„ç®—æ³•ï¼šåŠ¨é‡ï¼ŒNesterov accelerated gradientï¼ŒAdagradï¼ŒAdadeltaï¼ŒRMSpropï¼ŒAdam ä»¥åŠä¸ºä¼˜åŒ–å¼‚æ­¥ SGD çš„ä¸åŒç®—æ³•ã€‚æœ€åï¼Œæˆ‘ä»¬è€ƒè™‘äº†ç”¨äºæå‡ SGD æ€§èƒ½çš„å…¶ä»–ç­–ç•¥ï¼Œä¾‹å¦‚ shuffling ä¸ curriculum learningï¼Œbatch normalization ä»¥åŠ early stoppingã€‚æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥ç»™ä½ æä¾›ä¸€ä¸ªå…³äºä¸åŒä¼˜åŒ–ç®—æ³•çš„è¡Œä¸ºå’ŒåŠ¨æœºçš„ç›´è§‚ç†è§£ã€‚</p><hr><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol><li>Sutton, R. S. (1986). Two problems with backpropagation and other steepest-descent learning procedures for networks. Proc. 8th Annual Conf. Cognitive Science Society.</li><li>Qian, N. (1999). On the momentum term in gradient descent learning algorithms. Neural Networks : The Official Journal of the International Neural Network Society, 12(1), 145â€“151. <a href="http://doi.org/10.1016/S0893-6080(98)00116-6" target="_blank" rel="noopener">http://doi.org/10.1016/S0893-6080(98)00116-6</a></li><li>Duchi, J., Hazan, E., &amp; Singer, Y. (2011). Adaptive Subgradient Methods for Online Learning and Stochastic Optimization. Journal of Machine Learning Research, 12, 2121â€“2159. Retrieved from <a href="http://jmlr.org/papers/v12/duchi11a.html" target="_blank" rel="noopener">http://jmlr.org/papers/v12/duchi11a.html</a></li><li>Dean, J., Corrado, G. S., Monga, R., Chen, K., Devin, M., Le, Q. V, â€¦ Ng, A. Y. (2012). Large Scale Distributed Deep Networks. NIPS 2012: Neural Information Processing Systems, 1â€“11. <a href="http://doi.org/10.1109/ICDAR.2011.95" target="_blank" rel="noopener">http://doi.org/10.1109/ICDAR.2011.95</a></li><li>Pennington, J., Socher, R., &amp; Manning, C. D. (2014). Glove: Global Vectors for Word Representation. Proceedings of the 2014 Conference on Empirical Methods in Natural Language Processing, 1532â€“1543. <a href="http://doi.org/10.3115/v1/D14-1162" target="_blank" rel="noopener">http://doi.org/10.3115/v1/D14-1162</a></li><li>Zeiler, M. D. (2012). ADADELTA: An Adaptive Learning Rate Method. Retrieved from <a href="http://arxiv.org/abs/1212.5701" target="_blank" rel="noopener">http://arxiv.org/abs/1212.5701</a></li><li>Nesterov, Y. (1983). A method for unconstrained convex minimization problem with the rate of convergence o(1/k2). Doklady ANSSSR (translated as Soviet.Math.Docl.), vol. 269, pp. 543â€“ 547.</li><li>Bengio, Y., Boulanger-Lewandowski, N., &amp; Pascanu, R. (2012). Advances in Optimizing Recurrent Networks. Retrieved from <a href="http://arxiv.org/abs/1212.0901" target="_blank" rel="noopener">http://arxiv.org/abs/1212.0901</a></li><li>Sutskever, I. (2013). Training Recurrent neural Networks. PhD Thesis.</li><li>Darken, C., Chang, J., &amp; Moody, J. (1992). Learning rate schedules for faster stochastic gradient search. Neural Networks for Signal Processing II Proceedings of the 1992 IEEE Workshop, (September), 1â€“11. <a href="http://doi.org/10.1109/NNSP.1992.253713" target="_blank" rel="noopener">http://doi.org/10.1109/NNSP.1992.253713</a></li><li>H. Robinds and S. Monro, â€œA stochastic approximation method,â€ Annals of Mathematical Statistics, vol. 22, pp. 400â€“407, 1951.</li><li>Mcmahan, H. B., &amp; Streeter, M. (2014). Delay-Tolerant Algorithms for Asynchronous Distributed Online Learning. Advances in Neural Information Processing Systems (Proceedings of NIPS), 1â€“9. Retrieved from <a href="http://papers.nips.cc/paper/5242-delay-tolerant-algorithms-for-asynchronous-distributed-online-learning.pdf" target="_blank" rel="noopener">http://papers.nips.cc/paper/5242-delay-tolerant-algorithms-for-asynchronous-distributed-online-learning.pdf</a></li><li>Abadi, M., Agarwal, A., Barham, P., Brevdo, E., Chen, Z., Citro, C., â€¦ Zheng, X. (2015). TensorFlow : Large-Scale Machine Learning on Heterogeneous Distributed Systems.</li><li>Zhang, S., Choromanska, A., &amp; LeCun, Y. (2015). Deep learning with Elastic Averaging SGD. Neural Information Processing Systems Conference (NIPS 2015), 1â€“24. Retrieved from <a href="http://arxiv.org/abs/1412.6651" target="_blank" rel="noopener">http://arxiv.org/abs/1412.6651</a></li><li>Kingma, D. P., &amp; Ba, J. L. (2015). Adam: a Method for Stochastic Optimization. International Conference on Learning Representations, 1â€“13.</li><li>Bengio, Y., Louradour, J., Collobert, R., &amp; Weston, J. (2009). Curriculum learning. Proceedings of the 26th Annual International Conference on Machine Learning, 41â€“48. <a href="http://doi.org/10.1145/1553374.1553380" target="_blank" rel="noopener">http://doi.org/10.1145/1553374.1553380</a></li><li>Zaremba, W., &amp; Sutskever, I. (2014). Learning to Execute, 1â€“25. Retrieved from <a href="http://arxiv.org/abs/1410.4615" target="_blank" rel="noopener">http://arxiv.org/abs/1410.4615</a></li><li>Ioffe, S., &amp; Szegedy, C. (2015). Batch Normalization : Accelerating Deep Network Training by Reducing Internal Covariate Shift. arXiv Preprint arXiv:1502.03167v3.</li><li>Dauphin, Y., Pascanu, R., Gulcehre, C., Cho, K., Ganguli, S., &amp; Bengio, Y. (2014). Identifying and attacking the saddle point problem in high-dimensional non-convex optimization. arXiv, 1â€“14. Retrieved from <a href="http://arxiv.org/abs/1406.2572" target="_blank" rel="noopener">http://arxiv.org/abs/1406.2572</a></li><li>Sutskever, I., &amp; Martens, J. (2013). On the importance of initialization and momentum in deep learning. <a href="http://doi.org/10.1109/ICASSP.2013.6639346" target="_blank" rel="noopener">http://doi.org/10.1109/ICASSP.2013.6639346</a></li><li>Neelakantan, A., Vilnis, L., Le, Q. V., Sutskever, I., Kaiser, L., Kurach, K., &amp; Martens, J. (2015). Adding Gradient Noise Improves Learning for Very Deep Networks, 1â€“11. Retrieved from <a href="http://arxiv.org/abs/1511.06807" target="_blank" rel="noopener">http://arxiv.org/abs/1511.06807</a></li><li>LeCun, Y., Bottou, L., Orr, G. B., &amp; MÃ¼ller, K. R. (1998). Efficient BackProp. Neural Networks: Tricks of the Trade, 1524, 9â€“50. <a href="http://doi.org/10.1007/3-540-49430-8_2" target="_blank" rel="noopener">http://doi.org/10.1007/3-540-49430-8_2</a></li><li>Niu, F., Recht, B., Christopher, R., &amp; Wright, S. J. (2011). Hogwild! : A Lock-Free Approach to Parallelizing Stochastic Gradient Descent, 1â€“22.</li><li>Dozat, T. (2016). Incorporating Nesterov Momentum into Adam. ICLR Workshop, (1), 2013â€“2016.</li><li>Duchi et al. [3] give this matrix as an alternative to the full matrix containing the outer products of all previous gradients, as the computation of the matrix square root is infeasible even for a moderate number of parameters dd.</li></ol><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åŸæ–‡ä½œè€…ç®€ä»‹ï¼š&lt;a href=&quot;http://ruder.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Sebastian Ruder&lt;/a&gt; æ˜¯æˆ‘éå¸¸å–œæ¬¢çš„ä¸€ä¸ªåšå®¢ä½œè€…ï¼Œæ˜¯ NLP æ–¹å‘çš„åšå£«ç”Ÿï¼Œç›®å‰ä¾›èŒäºä¸€å®¶åš NLP ç›¸å…³æœåŠ¡çš„çˆ±å°”å…°å…¬å¸ &lt;a href=&quot;http://aylien.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;AYLIEN&lt;/a&gt;ï¼Œåšå®¢ä¸»è¦æ˜¯å†™æœºå™¨å­¦ä¹ ã€NLP å’Œæ·±åº¦å­¦ä¹ ç›¸å…³çš„æ–‡ç« ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬æ–‡åŸæ–‡æ˜¯ &lt;a href=&quot;http://ruder.io/optimizing-gradient-descent/index.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;An overview of gradient descent optimization algorithms&lt;/a&gt;ï¼ŒåŒæ—¶ä½œè€…ä¹Ÿåœ¨ arXiv ä¸Šå‘äº†ä¸€ç¯‡åŒæ ·å†…å®¹çš„ &lt;a href=&quot;https://arxiv.org/abs/1609.04747&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è®ºæ–‡&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡ç»“åˆäº†ä¸¤è€…æ¥ç¿»è¯‘ï¼Œä½†æ˜¯é˜…è¯»åŸæ–‡æˆ‘ä¸ªäººå»ºè®®è¯»åšå®¢ä¸­çš„ï¼Œæ„Ÿè§‰ä½“éªŒæ›´å¥½ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;æ–‡ä¸­æ‹¬å·ä¸­æˆ–è€…å¼•ç”¨å—ä¸­çš„ &lt;em&gt;æ–œä½“å­—&lt;/em&gt; ä¸ºå¯¹åº”çš„è‹±æ–‡åŸæ–‡æˆ–è€…æˆ‘è‡ªå·±æ³¨é‡Šçš„è¯ï¼ˆä¼šæ ‡æ˜ &lt;code&gt;è¯‘è€…æ³¨&lt;/code&gt;ï¼‰ï¼Œå¦åˆ™ä¸ºåŸæ–‡ä¸­æœ¬æ¥å°±æœ‰çš„è¯ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºæ–¹ä¾¿é˜…è¯»ï¼Œæˆ‘åœ¨å¼•ç”¨åºå·ååŠ äº†æ‰€å¼•ç”¨è®ºæ–‡çš„é¢˜ç›®ï¼Œç”¨ &lt;em&gt;æ–œä½“å­—&lt;/em&gt; è¡¨ç¤ºï¼Œä¾‹å¦‚ Learning rate schedules [11ï¼Œ&lt;em&gt;A stochastic approximation method&lt;/em&gt;] ã€‚&lt;/li&gt;
&lt;li&gt;æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡å‡ºã€‚ç¿»è¯‘å°½é‡éµå¾ªåŸæ–‡æ„æ€ï¼Œä½†ä¸æ„å‘³ç€é€å­—é€å¥ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬æ–‡ä¹Ÿæ”¾åœ¨ &lt;a href=&quot;https://github.com/secsilm/awesome-posts&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æˆ‘ GitHub ä¸Šçš„ awesome-posts é¡¹ç›®&lt;/a&gt; ä¸Šï¼Œé€‰å–æ•°æ®ç§‘å­¦å’Œæœºå™¨å­¦ä¹ é¢†åŸŸå†…æ¯”è¾ƒå¥½çš„è‹±æ–‡æ–‡ç« è¿›è¡Œç¿»è¯‘ï¼Œæ¬¢è¿å„ä½ star ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="https://secsilm.github.io/tags/Machine-Learning/"/>
    
      <category term="Translation" scheme="https://secsilm.github.io/tags/Translation/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨é›†æˆå­¦ä¹ æå‡æœºå™¨å­¦ä¹ ç®—æ³•æ€§èƒ½</title>
    <link href="https://secsilm.github.io/2017/08/30/ensemble-methods/"/>
    <id>https://secsilm.github.io/2017/08/30/ensemble-methods/</id>
    <published>2017-08-30T10:47:00.000Z</published>
    <updated>2017-12-25T13:02:14.934Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>è¯‘è€…æ³¨ï¼šè¿™ç¯‡æ–‡ç« æ˜¯å¯¹ PythonWeekly æ¨èçš„ä¸€ç¯‡è®²é›†æˆæ¨¡å‹çš„æ–‡ç« çš„ç¿»è¯‘ï¼ŒåŸæ–‡ä¸º <a href="https://blog.statsbot.co/ensemble-learning-d1dcd548e936" target="_blank" rel="noopener">Ensemble Learning to Improve Machine Learning Results</a>ï¼Œç”± Vadim Smolyakov äº 2017 å¹´ 8 æœˆ 22 æ—¥å‘è¡¨åœ¨ Medium ä¸Šï¼ŒVadim Smolyakov æ˜¯ä¸€å MIT çš„ç ”ç©¶ç”Ÿã€‚æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿è¯„è®ºåŒºæˆ–è€…é‚®ä»¶æˆ–è€…ç§ä¿¡æŒ‡å‡ºã€‚å»ºè®®é˜…è¯»è‹±æ–‡åŸæ–‡ã€‚</p></blockquote><a id="more"></a><p><em>é›†æˆå­¦ä¹ ï¼ˆEnsemble Learningï¼‰é€šè¿‡è”åˆå‡ ä¸ªæ¨¡å‹æ¥å¸®åŠ©æé«˜æœºå™¨å­¦ä¹ ç»“æœã€‚ä¸å•ä¸€æ¨¡å‹ç›¸æ¯”ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥å¾ˆå¥½åœ°æå‡æ¨¡å‹çš„é¢„æµ‹æ€§èƒ½ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé›†æˆæ¨¡å‹åœ¨å¾ˆå¤šè‘—åæœºå™¨å­¦ä¹ æ¯”èµ›ä¸­è¢«ä¼˜å…ˆä½¿ç”¨çš„åŸå› ï¼Œä¾‹å¦‚ Netflix æ¯”èµ›ï¼ŒKDD 2009 å’Œ Kaggleã€‚</em></p><p>é›†æˆæ–¹æ³•æ˜¯ä¸€ç§å°†å‡ ç§æœºå™¨å­¦ä¹ æŠ€æœ¯ç»„åˆæˆä¸€ä¸ªé¢„æµ‹æ¨¡å‹çš„å…ƒç®—æ³•ï¼ˆmeta-algorithmï¼‰ï¼Œä»¥å‡å°æ–¹å·®ï¼ˆbaggingï¼‰ï¼Œåå·®ï¼ˆboostingï¼‰ï¼Œæˆ–è€…æ”¹è¿›é¢„æµ‹ï¼ˆstackingï¼‰ã€‚</p><p>é›†æˆæ–¹æ³•å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>åºåˆ—é›†æˆæ–¹æ³•ï¼ˆsequential ensemble methodsï¼‰ï¼ŒåŸºå­¦ä¹ å™¨ï¼ˆbase learnerï¼‰é¡ºåºç”Ÿæˆã€‚åºåˆ—æ–¹æ³•çš„åŸºæœ¬åŠ¨æœºæ˜¯<strong>åˆ©ç”¨åŸºå­¦ä¹ å™¨ä¹‹é—´çš„ä¾èµ–å…³ç³»</strong>ã€‚ç®—æ³•å¯ä»¥é€šè¿‡æé«˜è¢«åˆ†é”™æ ·æœ¬çš„æƒé‡æ¥æé«˜æ€§èƒ½ã€‚</li><li>å¹¶è¡Œé›†æˆæ–¹æ³•ï¼ˆparallel ensemble methodsï¼‰ï¼ŒåŸºå­¦ä¹ å™¨å¹¶è¡Œç”Ÿæˆã€‚å¹¶è¡Œæ–¹æ³•çš„åŸºæœ¬åŠ¨æœºæ˜¯<strong>åˆ©ç”¨åŸºå­¦ä¹ å™¨ä¹‹é—´çš„ç‹¬ç«‹æ€§</strong>ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡å¹³å‡æ¥æ˜¾è‘—é™ä½è¯¯å·®ã€‚</li></ul><p>å¤§å¤šæ•°é›†æˆæ–¹æ³•ä½¿ç”¨ä¸€ä¸ªåŸºå­¦ä¹ ç®—æ³•æ¥äº§ç”Ÿå¤šä¸ªåŒè´¨åŸºå­¦ä¹ å™¨ï¼ˆhomogeneous base learnersï¼‰ï¼Œå³ç›¸åŒç±»å‹çš„å­¦ä¹ å™¨ï¼Œè¿™å°±æ˜¯åŒè´¨é›†æˆï¼ˆhomogeneous ensemblesï¼‰ã€‚</p><p>ä¹Ÿæœ‰ä¸€äº›æ–¹æ³•ä½¿ç”¨çš„æ˜¯å¼‚è´¨å­¦ä¹ å™¨ï¼ˆheterogeneous learnerï¼‰ï¼Œå³ä¸åŒç±»å‹çš„å­¦ä¹ å™¨ï¼Œè¿™å°±æ˜¯å¼‚è´¨é›†æˆï¼ˆheterogeneous ensemblesï¼‰ã€‚ä¸ºäº†ä½¿é›†æˆæ–¹æ³•èƒ½å¤Ÿæ¯”ä»»ä½•æ„æˆå®ƒçš„å•ç‹¬çš„æ–¹æ³•æ›´å‡†ç¡®ï¼ŒåŸºå­¦ä¹ å™¨å¿…é¡»å°½å¯èƒ½çš„å‡†ç¡®å’Œå¤šæ ·ã€‚</p><hr><h2 id="Bagging"><a href="#Bagging" class="headerlink" title="Bagging"></a>Bagging</h2><p>Bagging è¡¨ç¤ºçš„æ˜¯ Bootstrap AGGregatINGã€‚é™ä½ä¸€ä¸ªä¼°è®¡çš„æ–¹å·®çš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯å¹³å‡å¤šä¸ªä¼°è®¡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªæ•°æ®é›†çš„ä¸åŒå­é›†ä¸Šï¼ˆæœ‰æ”¾å›çš„éšæœºé€‰å–ï¼‰è®­ç»ƒ $M$ ä¸ªä¸åŒçš„æ ‘ç„¶åè®¡ç®—ç»“æœçš„å¹³å‡å€¼ï¼š</p><script type="math/tex; mode=display">f(x)=\frac{1}{M}\Sigma_{m=1}^M f_m(x)</script><p>bagging ä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Bootstrapping_(statistics" target="_blank" rel="noopener">è‡ªåŠ©æŠ½æ ·æ³•</a>)ï¼ˆbootstrappingï¼‰æ¥ä¸ºæ¯ä¸ªåŸºå­¦ä¹ å™¨è·å¾—ä¸€ä¸ªæ•°æ®é›†çš„å­é›†ã€‚å¯¹äºå¦‚ä½•èšåˆå¤šä¸ªåŸºå­¦ä¹ å™¨çš„ç»“æœï¼Œbagging åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ä½¿ç”¨æŠ•ç¥¨ï¼Œè€Œåœ¨å›å½’ä»»åŠ¡é‡ä½¿ç”¨å¹³å‡ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ Iris æ•°æ®é›†ä¸Šæ‰§è¡Œåˆ†ç±»ä»»åŠ¡æ¥å­¦ä¹  baggingã€‚æˆ‘ä»¬é€‰æ‹©ä¸¤ç§åŸºå­¦ä¹ å™¨ï¼šå†³ç­–æ ‘ï¼ˆdecision treeï¼‰å’Œ kNN åˆ†ç±»å™¨ã€‚ä¸‹å›¾æ˜¾ç¤ºäº†åŸºå­¦ä¹ å™¨åœ¨ Iris ä¸Šå­¦ä¹ åˆ°çš„å†³ç­–è¾¹ç•Œå’Œä»–ä»¬ bagging é›†æˆä¹‹åå­¦ä¹ åˆ°çš„å†³ç­–è¾¹ç•Œã€‚</p><ul><li>å†³ç­–æ ‘å‡†ç¡®ç‡ï¼š0.63ï¼ˆ+/- 0.02ï¼‰</li><li>kNN å‡†ç¡®ç‡ï¼š0.70ï¼ˆ+/- 0.02ï¼‰</li><li>bagging æ ‘å‡†ç¡®ç‡ï¼š0.64ï¼ˆ+/- 0.01ï¼‰</li><li>bagging kNNå‡†ç¡®ç‡ï¼š0.59ï¼ˆ+/- 0.07ï¼‰</li></ul><p><img src="https://i.imgur.com/XA3aooQ.png" width="100%" alt="bagging"></p><center><font color="gray">*Bagging*</font></center><p>å†³ç­–æ ‘çš„è¾¹ç•Œä¸è½´å¹³è¡Œï¼Œè€Œ $k=1$ æ—¶çš„ kNN ç®—æ³•ä¸æ•°æ®ç‚¹ç´§å¯†è´´åˆã€‚è¯¥é›†æˆæ–¹æ³•ä½¿ç”¨äº† 10 ä¸ªåŸºå­¦ä¹ å™¨ï¼Œè®­ç»ƒå­é›†ç”±åŸè®­ç»ƒæ•°æ®å’Œç‰¹å¾çš„ 80% æ„æˆã€‚</p><p>å†³ç­–æ ‘é›†æˆç›¸å¯¹äº kNN é›†æˆè¾¾åˆ°äº†è¾ƒé«˜çš„å‡†ç¡®ç‡ã€‚kNN å¯¹è®­ç»ƒæ ·æœ¬çš„æ‰°åŠ¨ä¸æ•æ„Ÿï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºç¨³å®šå­¦ä¹ å™¨ï¼ˆstable learnerï¼‰ã€‚</p><blockquote><p>ç¨³å®šå­¦ä¹ å™¨çš„é›†æˆä¸å¤ªæœ‰åˆ©ï¼Œå› ä¸ºè¿™æ ·çš„é›†æˆå¹¶ä¸ä¼šæå‡æ³›åŒ–æ€§èƒ½ã€‚</p></blockquote><p>å›¾ä¸€ä¹Ÿæ˜¾ç¤ºäº†é›†æˆå¤§å°æ˜¯å¦‚ä½•æé«˜æµ‹è¯•å‡†ç¡®ç‡çš„ã€‚åŸºäºäº¤å‰éªŒè¯çš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨å¤§çº¦ 10 ä¸ªåŸºå­¦ä¹ å™¨å‰å‡†ç¡®ç‡ä¸€ç›´åœ¨å¢åŠ ï¼Œéšåè¶‹äºå¹³ç¼“ï¼Œåœ¨ 0.7 å·¦å³ä¸Šä¸‹æ³¢åŠ¨ã€‚å› æ­¤ï¼Œå†å¢åŠ è¶…è¿‡ 10 ä¸ªåŸºå­¦ä¹ å™¨ä¸ä»…æ²¡æœ‰å¾—åˆ°å‡†ç¡®ç‡çš„æå‡ï¼Œåè€Œå¢åŠ äº†è®¡ç®—å¤æ‚åº¦ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ° bagging æ ‘é›†æˆçš„å­¦ä¹ æ›²çº¿ã€‚æ³¨æ„åˆ°è®­ç»ƒæ•°æ®çš„å¹³å‡è¯¯å·®ä¸º 0.3 å’Œ æµ‹è¯•æ•°æ®çš„ U å‹è¯¯å·®æ›²çº¿ã€‚è®­ç»ƒå’Œæµ‹è¯•è¯¯å·®å·®è·æœ€å°æ—¶å‘ç”Ÿåœ¨ Training set size in percent ä¸º 80% å·¦å³ã€‚</p><blockquote><p>ä¸€ç§å¸¸ç”¨çš„é›†æˆç®—æ³•æ˜¯éšæœºæ£®æ—ã€‚</p></blockquote><p>åœ¨éšæœºæ£®æ—ç®—æ³•ä¸­ï¼Œæ¯ä¸ªæ ‘éƒ½æ˜¯åŸºäºä»åŸè®­ç»ƒæ•°æ®é›†ä¸­æœ‰æ”¾å›æŠ½æ ·ï¼ˆå³è‡ªåŠ©æŠ½æ ·æ³•ï¼‰å¾—åˆ°çš„å­é›†è®­ç»ƒçš„ã€‚å¦å¤–ï¼Œä¹Ÿå¯¹ç‰¹å¾è¿›è¡Œè‡ªåŠ©æŠ½æ ·ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å…¨éƒ¨ç‰¹å¾ã€‚</p><p>æœ€ç»ˆéšæœºæ£®æ—çš„åå·®å¯èƒ½ä¼šè½»å¾®å¢å¤§ï¼Œä½†æ˜¯ç”±äºå¹³å‡äº†å‡ ä¸ªä¸ç›¸å…³çš„æ ‘çš„ç»“æœï¼Œé™ä½äº†æ–¹å·®ï¼Œå¯¼è‡´æœ€ç»ˆæ¨¡å‹çš„æ•´ä½“æ€§èƒ½æ›´å¥½ã€‚ï¼ˆ<em>è¯‘è€…æ³¨ï¼šä¸ªäººè§‰å¾—ç±»ä¼¼äºæ—¶é—´åºåˆ—åˆ†æä¸­çš„ç§»åŠ¨å¹³å‡</em>ï¼‰</p><p><img src="https://i.imgur.com/iXTf6Ck.png" alt=""></p><p>åœ¨<a href="https://en.wikipedia.org/wiki/Random_forest#ExtraTrees" target="_blank" rel="noopener">æé™éšæœºæ ‘ï¼ˆextremely randomized treeï¼‰</a>ç®—æ³•ä¸­ï¼Œéšæœºæ€§æ›´è¿‘äº†ä¸€æ­¥ï¼šåˆ†è£‚é˜ˆå€¼æ˜¯éšæœºé€‰å–çš„ã€‚ä¸å¯»æ‰¾æœ€å…·æœ‰åˆ¤åˆ«æ€§çš„é˜ˆå€¼ä¸åŒï¼Œæé™éšæœºæ ‘ä¸ºæ¯ä¸ªå€™é€‰ç‰¹å¾é€‰å–ä¸€ä¸ªé˜ˆå€¼ï¼Œå¹¶å°†è¿™äº›é˜ˆå€¼çš„æœ€ä½³å€¼ä½œä¸ºæœ€ç»ˆçš„åˆ†å‰²é˜ˆå€¼ã€‚è¿™é€šå¸¸ä¼šé™ä½æ–¹å·®ï¼Œåå·®ä¼šç¨å¾®å¢å¤§ã€‚</p><hr><h2 id="Boosting"><a href="#Boosting" class="headerlink" title="Boosting"></a>Boosting</h2><p>Boosting æŒ‡çš„æ˜¯èƒ½å¤Ÿå°†å¼±å­¦ä¹ å™¨è½¬åŒ–ä¸ºå¼ºå­¦ä¹ å™¨çš„ä¸€ç³»åˆ—ç®—æ³•ã€‚Boosting çš„ä¸»è¦åŸç†æ˜¯ç»™ä¸€ç³»åˆ—çš„å¼±å­¦ä¹ å™¨èµ‹äºˆæƒé‡ï¼Œè¿™äº›å¼±å­¦ä¹ å™¨å„è‡ªçš„æ€§èƒ½ä»…ä»…æ¯”éšæœºçŒœæµ‹é«˜ä¸€äº›ï¼Œä¾‹å¦‚å°çš„å†³ç­–æ ‘ã€‚å…ˆå‰è¢«åˆ†é”™çš„æ ·æœ¬ä¼šè¢«ç»™äºˆæ›´å¤šæƒé‡ã€‚</p><p>åœ¨è¿›è¡Œåˆ†ç±»ä»»åŠ¡æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªåŠ æƒæŠ•ç¥¨æ¥å†³å®šæœ€ç»ˆçš„é¢„æµ‹ï¼Œè€Œåœ¨å›å½’ä»»åŠ¡æ—¶ä½¿ç”¨åŠ æƒå’Œã€‚Boosting å’Œå…¶ä»–æ–¹æ³•ä¾‹å¦‚ bagging çš„ä¸»è¦åŒºåˆ«æ˜¯åŸºå­¦ä¹ å™¨ä½¿ç”¨åŠ æƒç‰ˆæœ¬çš„æ•°æ®é›†æ¥é¡ºåºç”Ÿæˆã€‚</p><p>ä¸‹é¢çš„ç®—æ³•æ˜¯ AdaBoostï¼ˆADAptive BOOSTingï¼‰ï¼Œè¿™æ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„ boosting ç®—æ³•ï¼š</p><blockquote><ol><li>åˆå§‹åŒ–æ ·æœ¬æƒé‡ ${w_n}$ ä¸º $1/N$</li><li>for $m=1$ to $M$</li><li>é€šè¿‡æœ€å°åŒ–åŠ æƒè¯¯å·®å‡½æ•° $J_m$ è®­ç»ƒä¸€ä¸ªåˆ†ç±»å™¨ $y_m(x)$ï¼Œæ­¤å¤„ $J_m = \Sigma_{n=1}^{N} w_n^{(m)} 1[y_m(x_n) \neq t_n]$</li><li>è®¡ç®— $\epsilon_m = \dfrac{\Sigma_{n=1}^{N} w_n^{(m)}1[y_m(x_n) \neq t_n]}{\Sigma_{n=1}^{N} w_n^{(m)}}$</li><li>è®¡ç®— $\alpha_m = \text{log}(\dfrac{1-\epsilon_m}{\epsilon_m})$</li><li>æ›´æ–°æ ·æœ¬æƒé‡ï¼š$w_n^{m+1} = w_n^m e^{\alpha_m1[y_m(x_n) \neq t_n]}$</li><li>end for</li><li>ä½¿ç”¨æœ€ç»ˆçš„æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼š$Y_M(x)=\text{sign}\left(\Sigma_{m=1}{M}\alpha_my_m(x)\right)$</li></ol></blockquote><p>å…¶ä¸­ $N$ ä¸ºæ ·æœ¬æ•°ï¼Œ$M$ ä¸ºé›†æˆå¤§å°ï¼Œå³åŸºå­¦ä¹ å™¨çš„æ•°é‡ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªåŸºåˆ†ç±»å™¨ $y_1(x)$ è®­ç»ƒæ—¶æ‰€ä½¿ç”¨çš„æƒé‡å‡ä¸º $1/N$ã€‚åœ¨æ¥ä¸‹æ¥çš„ boosting å¾ªç¯ä¸­ï¼Œé‚£äº›è¢«åˆ†é”™çš„æ ·æœ¬çš„æƒé‡ä¼šè¢«å¢å¤§ï¼Œè€Œé‚£äº›è¢«åˆ†å¯¹çš„æ ·æœ¬çš„æƒé‡ä¼šå‡å°ã€‚</p><p>$\epsilon$ è¡¨ç¤ºåŸºåˆ†ç±»å™¨çš„åŠ æƒé”™è¯¯ç‡ã€‚å› æ­¤ï¼Œæƒé‡ç³»æ•° $\alpha$ ä¼šç»™äºˆå‡†ç¡®ç‡æ›´é«˜çš„åˆ†ç±»å™¨æ›´å¤§çš„æƒé‡ã€‚</p><p><img src="https://i.imgur.com/oVZftZh.png" width="100%"></p><center><font color="gray">*AdaBoost*</font></center><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ¯ä¸€ä¸ªåŸºå­¦ä¹ å™¨ç”±ä¸€ä¸ªæ·±åº¦ä¸º 1 çš„å†³ç­–æ ‘ç»„æˆï¼Œå› æ­¤å½“ n_est=1 æ—¶æ¨¡å‹åªæ˜¯åŸºäºä¸€ä¸ªç‰¹å¾é˜ˆå€¼å°†æ ·æœ¬ç©ºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚ä¸Šå›¾ä¹Ÿæ˜¾ç¤ºäº†é›†æˆå¤§å°æ˜¯å¦‚ä½•æé«˜æµ‹è¯•å‡†ç¡®ç‡çš„ä»¥åŠè®­ç»ƒæ ·æœ¬å’Œæµ‹è¯•æ ·æœ¬çš„å­¦ä¹ æ›²çº¿ã€‚</p><p>æ¢¯åº¦æ ‘æå‡ï¼ˆ<strong>Gradient Tree Boosting</strong>ï¼‰æ˜¯ boosting åœ¨ä»»æ„å¯å¾®åˆ†æŸå¤±å‡½æ•°çš„ä¸€ç§æ¨å¹¿ï¼Œæ—¢å¯ç”¨äºå›å½’ä¹Ÿå¯ç”¨äºåˆ†ç±»ï¼ŒåŒæ ·æ˜¯é¡ºåºç”ŸæˆåŸºå­¦ä¹ å™¨ã€‚</p><script type="math/tex; mode=display">F_m(x)=F_{m-1}(x)+\gamma_mh_m(x)</script><p>æ¯ä¸€æ­¥åŸºäºå½“å‰æ¨¡å‹ $F_{m-1}(x)$ æ¥è®¡ç®—æŸå¤± $L$ï¼Œå¹¶æœ€å°åŒ– $L$ æ¥è®­ç»ƒå†³ç­–æ ‘ $h_m(x)$ï¼š</p><script type="math/tex; mode=display">F_m(x)=F_{m-1}(x)+\text{argmin}_h\Sigma_{i=1}^n L(y_i, F_{m-1}(x_i)+h(x_i))</script><p>ä½¿ç”¨è¯¥ç®—æ³•è¿›è¡Œå›å½’å’Œåˆ†ç±»ä»»åŠ¡æ—¶ä¸åŒåœ¨äºæŸå¤±å‡½æ•°ã€‚</p><hr><h2 id="Stacking"><a href="#Stacking" class="headerlink" title="Stacking"></a>Stacking</h2><p>Stacking æ˜¯ä¸€ç§é€šè¿‡å…ƒåˆ†ç±»å™¨ï¼ˆmeta-classifierï¼‰æˆ–è€…å…ƒå›å½’å™¨ï¼ˆmeta-regressorï¼‰æ¥ç»¼åˆå‡ ä¸ªåˆ†ç±»æ¨¡å‹å’Œå›å½’æ¨¡å‹çš„é›†æˆå­¦ä¹ æŠ€æœ¯ã€‚åŸºæ¨¡å‹ï¼ˆbase level modelï¼‰åŸºäºæ•´ä¸ªæ•°æ®é›†è¿›è¡Œè®­ç»ƒï¼Œç„¶åå…ƒæ¨¡å‹ï¼ˆmeta-modelï¼‰å°†åŸºæ¨¡å‹çš„è¾“å‡ºä½œä¸ºç‰¹å¾æ¥è¿›è¡Œè®­ç»ƒã€‚( <em>è¯‘è€…æ³¨ï¼šä¸ªäººè§‰å¾—å’Œ stacking-autoencoder ä¸€ä¸ªæ€æƒ³</em> )</p><p>åŸºæ¨¡å‹é€šå¸¸ç”±ä¸åŒçš„å­¦ä¹ ç®—æ³•ç»„æˆï¼Œå› æ­¤ stacking é›†æˆé€šå¸¸æ˜¯å¼‚æ„çš„ã€‚ä¸‹é¢çš„ç®—æ³•æ€»ç»“äº† stacking ï¼š</p><blockquote><ol><li>è¾“å…¥ï¼šè®­ç»ƒæ ·æœ¬ $D=\{x_i, y_i\}_{i=1}^{m}$</li><li>è¾“å‡ºï¼šé›†æˆåˆ†ç±»å™¨ $H$</li><li><em>Step 1ï¼šå­¦ä¹ åŸºåˆ†ç±»å™¨</em></li><li>for $t=1$ to $T$</li><li>åŸºäº $D$ è®­ç»ƒ $h_t$</li><li>end for</li><li><em>Step 2ï¼šæ„å»ºæ–°æ•°æ®</em></li><li>for $i=1$ to $m$</li><li>$D_h=\{x_i^{â€˜}, y_i\}$ï¼Œå…¶ä¸­ $x_i^{â€˜}=\{h_1(x_i), \ldots, h_T(x_i)\}$</li><li>end for</li><li><em>Step 3ï¼šå­¦ä¹ å…ƒåˆ†ç±»å™¨</em></li><li>åŸºäº $D_h$ è®­ç»ƒ $H$</li><li>è¿”å› $H$</li></ol></blockquote><ul><li>KNN å‡†ç¡®ç‡ï¼š0.91ï¼ˆ+/- 0.01ï¼‰</li><li>éšæœºæ£®æ— å‡†ç¡®ç‡ï¼š0.91ï¼ˆ+/- 0.06ï¼‰</li><li>æœ´ç´ è´å¶æ–¯ å‡†ç¡®ç‡ï¼š0.92ï¼ˆ+/- 0.03ï¼‰</li><li>Stacking å‡†ç¡®ç‡ï¼š0.95ï¼ˆ+/- 0.03ï¼‰</li></ul><p><img src="https://i.imgur.com/vm1MTWE.png" width="100%"></p><center><font color="gray">*Stacking*</font></center><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¯¥ stacking é›†æˆç”± KNNã€éšæœºæ£®æ—å’Œæœ´ç´ è´å¶æ–¯è¿™å‡ ä¸ªåŸºåˆ†ç±»å™¨æ„æˆï¼Œå…¶é¢„æµ‹è¾“å‡ºå†ç”±é€»è¾‘æ–¯åº•å›å½’ç»¼åˆæ„æˆä¸€ä¸ªå…ƒåˆ†ç±»å™¨ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ° stacking å®ç°äº†å†³ç­–è¾¹ç•Œçš„æ··åˆã€‚ä¸Šå›¾è¿˜æ˜¾ç¤ºäº† stacking çš„å‡†ç¡®ç‡è¦é«˜äºå•ç‹¬çš„åˆ†ç±»å™¨ï¼Œä¸”åŸºäºå­¦ä¹ æ›²çº¿ï¼Œæ¨¡å‹æ²¡æœ‰è¿‡æ‹Ÿåˆçš„è¿¹è±¡ã€‚</p><p>Stacking åœ¨ Kaggle æ¯”èµ›ä¸­ç»å¸¸è¢«ç”¨åˆ°ã€‚ä¾‹å¦‚ï¼Œåœ¨ Otto Group Product Classification æ¯”èµ›ä¸­ç¬¬ä¸€åå°±ä½¿ç”¨äº†è¶…è¿‡ 30 ä¸ªæ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹çš„è¾“å‡ºåˆè¢«ä½œä¸ºç‰¹å¾æ¥è®­ç»ƒå¾—åˆ° 3 ä¸ªå…ƒåˆ†ç±»å™¨ï¼šXGBoostã€ç¥ç»ç½‘ç»œå’Œ AdaBoostã€‚å¯ä»¥åœ¨ <a href="https://www.kaggle.com/c/otto-group-product-classification-challenge/discussion/14335" target="_blank" rel="noopener">è¿™é‡Œ</a> æŸ¥çœ‹ç»†èŠ‚ã€‚</p><p><em>è¯‘è€…æ³¨ï¼šä¸ºäº†ç›´è§‚ï¼Œæˆ‘æŠŠè·èƒœè€…æ‰€ä½¿ç”¨çš„æ¨¡å‹ç»“æ„å›¾æ”¾åœ¨ä¸‹é¢ã€‚</em></p><p><img src="https://i.imgur.com/J5ghO9c.png" width="100%"></p><center><font color="gray">*æ¨¡å‹ç»“æ„*</font></center><hr><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>ç”Ÿæˆæœ¬æ–‡æ‰€ç”¨å›¾ç‰‡çš„ä»£ç åœ¨è¿™ä¸ª <a href="https://github.com/vsmolyakov/experiments_with_python/blob/master/chp01/ensemble_methods.ipynb" target="_blank" rel="noopener">jupyter notebook</a> ä¸Šã€‚</p><hr><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>é™¤äº†æœ¬æ–‡ç ”ç©¶çš„æ–¹æ³•å¤–ï¼Œé›†æˆå­¦ä¹ ä¹Ÿé€šå¸¸ç”¨äºæ·±åº¦å­¦ä¹ æ¥è®­ç»ƒå¤šæ ·åŒ–å’Œé«˜å‡†ç¡®ç‡çš„åˆ†ç±»å™¨ã€‚å¯ä»¥é€šè¿‡ä¸åŒçš„ç½‘ç»œç»“æ„ã€è¶…å‚æ•°è®¾ç½®å’Œè®­ç»ƒæŠ€å·§æ¥è¾¾åˆ°å¤šæ ·æ€§ã€‚</p><p>é›†æˆæ–¹æ³•åœ¨æ¯”èµ›æ•°æ®é›†ä¸­è·å¾—åˆ›çºªå½•çš„æ€§èƒ½æ–¹é¢éå¸¸æˆåŠŸï¼Œä¹Ÿæ˜¯ Kaggle æ•°æ®ç§‘å­¦æ¯”èµ›ä¸­ä¼˜èƒœè€…å¸¸ç”¨çš„ç®—æ³•ã€‚</p><hr><h2 id="Recommended-reading"><a href="#Recommended-reading" class="headerlink" title="Recommended reading"></a>Recommended reading</h2><ul><li><a href="http://www2.islab.ntua.gr/attachments/article/86/Ensemble%20methods%20-%20Zhou.pdf" target="_blank" rel="noopener">Zhi-Hua Zhou, â€œEnsemble Methods: Foundations and Algorithmsâ€, CRC Press, 2012</a>ï¼ˆ <em>è¯‘è€…æ³¨ï¼šåŸæ–‡è¿™é‡Œæ²¡æœ‰é“¾æ¥ï¼Œæˆ‘è‡ªå·±æ‰¾äº†æ‰¾èµ„æºåŠ ä¸Šäº†èµ„æºåœ°å€ï¼Œå¦‚è‹¥ä¸‹è½½ä¸ä¸‹æ¥è¯·åœ¨ <a href="http://download.csdn.net/download/u010099080/9957633" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½</em> ï¼‰</li><li><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0ahUKEwj77_jo1f7VAhXCTLwKHbP4D2AQFggtMAA&amp;url=https%3A%2F%2Fpdfs.semanticscholar.org%2F453c%2F2b407c57d7512fdbe19fa1cefa08dd22614a.pdf&amp;usg=AFQjCNGaB5BchT1b-l0KWkdrMgxkeg15yA" target="_blank" rel="noopener">L. Kuncheva, â€œCombining Pattern Classifiers: Methods and Algorithmsâ€, Wiley, 2004</a>ï¼ˆ <em>è¯‘è€…æ³¨ï¼šåŸæ–‡è¿™é‡Œæ²¡æœ‰é“¾æ¥ï¼Œæˆ‘è‡ªå·±æ‰¾äº†æ‰¾èµ„æºåŠ ä¸Šäº†èµ„æºåœ°å€ï¼Œå¦‚è‹¥ä¸‹è½½ä¸ä¸‹æ¥è¯·åœ¨ <a href="http://download.csdn.net/download/u010099080/9957642" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½</em> ï¼‰</li><li><a href="https://mlwave.com/kaggle-ensembling-guide/" target="_blank" rel="noopener">Kaggle Ensembling Guide</a></li><li><a href="http://scikit-learn.org/stable/modules/ensemble.html" target="_blank" rel="noopener">Scikit Learn Ensemble Guide</a></li><li><a href="http://rasbt.github.io/mlxtend/" target="_blank" rel="noopener">S. Rachka, MLxtend library</a></li><li><a href="https://www.kaggle.com/c/otto-group-product-classification-challenge/discussion/14335" target="_blank" rel="noopener">Kaggle Winning Ensemble</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;è¯‘è€…æ³¨ï¼šè¿™ç¯‡æ–‡ç« æ˜¯å¯¹ PythonWeekly æ¨èçš„ä¸€ç¯‡è®²é›†æˆæ¨¡å‹çš„æ–‡ç« çš„ç¿»è¯‘ï¼ŒåŸæ–‡ä¸º &lt;a href=&quot;https://blog.statsbot.co/ensemble-learning-d1dcd548e936&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Ensemble Learning to Improve Machine Learning Results&lt;/a&gt;ï¼Œç”± Vadim Smolyakov äº 2017 å¹´ 8 æœˆ 22 æ—¥å‘è¡¨åœ¨ Medium ä¸Šï¼ŒVadim Smolyakov æ˜¯ä¸€å MIT çš„ç ”ç©¶ç”Ÿã€‚æ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿è¯„è®ºåŒºæˆ–è€…é‚®ä»¶æˆ–è€…ç§ä¿¡æŒ‡å‡ºã€‚å»ºè®®é˜…è¯»è‹±æ–‡åŸæ–‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="https://secsilm.github.io/tags/Machine-Learning/"/>
    
      <category term="Translation" scheme="https://secsilm.github.io/tags/Translation/"/>
    
  </entry>
  
  <entry>
    <title>ç†è§£ TensorBoard</title>
    <link href="https://secsilm.github.io/2017/08/20/understanding-tensorboard/"/>
    <id>https://secsilm.github.io/2017/08/20/understanding-tensorboard/</id>
    <published>2017-08-20T02:01:00.000Z</published>
    <updated>2017-12-26T15:22:34.117Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.tensorflow.org/get_started/summaries_and_tensorboard" target="_blank" rel="noopener">TensorBoard</a> æ˜¯ç”¨äºå¯è§†åŒ– TensorFlow æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹çš„å·¥å…·ï¼ˆthe flow of tensorsï¼‰ï¼Œåœ¨ä½ å®‰è£… TensorFlow çš„æ—¶å€™å°±å·²ç»å®‰è£…äº† TensorBoardã€‚æˆ‘åœ¨å‰é¢çš„ <a href="http://blog.csdn.net/u010099080/article/details/62882006" target="_blank" rel="noopener">ã€TensorFlowã€‘TensorFlow çš„å·ç§¯ç¥ç»ç½‘ç»œ CNN - TensorBoardç‰ˆ</a> å’Œ <a href="http://blog.csdn.net/u010099080/article/details/53560426" target="_blank" rel="noopener">ã€Python | TensorBoardã€‘ç”¨ PCA å¯è§†åŒ– MNIST æ‰‹å†™æ•°å­—è¯†åˆ«æ•°æ®é›†</a> åˆ†åˆ«éå¸¸ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹è¿™ä¸ªå·¥å…·ï¼Œæ²¡æœ‰è¯¦ç»†è¯´æ˜ï¼Œè¿™æ¬¡æ¥ï¼ˆå°½å¯èƒ½è¯¦ç»†çš„ï¼‰æ•´ä½“è¯´ä¸€ä¸‹ï¼Œè€Œä¸”è¿™æ¬¡ä¹Ÿæ˜¯å¯¹ <a href="http://blog.csdn.net/u010099080/article/details/62882006" target="_blank" rel="noopener">å‰è€…</a> ä»£ç çš„ä¸€ä¸ªå‡çº§ï¼Œå¾ˆå¤§ç¨‹åº¦çš„æ”¹å˜äº†ä»£ç ç»“æ„ï¼Œå°†è¾“å…¥å’Œè®­ç»ƒåˆ†ç¦»å¼€æ¥ï¼Œç»“æ„æ›´æ¸…æ™°ã€‚å°å¼Ÿä¸æ‰ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿è¯„è®ºåŒºæŒ‡å‡ºã€‚</p><a id="more"></a><p>å…¨éƒ¨ä»£ç å’Œ TensorBoard æ–‡ä»¶å‡åœ¨ <a href="https://github.com/secsilm/understanding-tensorboard" target="_blank" rel="noopener">æˆ‘çš„ GitHub</a> ä¸Šï¼Œä½ ä¹Ÿå¯ä»¥ä» <a href="https://pan.baidu.com/s/1hrUGI0k" target="_blank" rel="noopener">ç™¾åº¦ç½‘ç›˜</a> ä¸‹è½½ï¼Œå¯†ç  <code>t27f</code> ï¼Œåªä¸è¿‡å¦‚æœä»¥åå†…å®¹æ›´æ–°ï¼Œç½‘ç›˜ä¸­çš„å†…å®¹ä¸ä¼šæ›´æ–°ã€‚</p><p><strong>Tensorboard ä½¿ç”¨çš„ç‰ˆæœ¬ä¸º 0.1.4ï¼Œå¯¹åº”äº TensorFlow 1.3.0ï¼Œä½†è®­ç»ƒä»£ç æœªåœ¨ TensorFlow 1.3.0 ä¸Šæµ‹è¯•ï¼Œä¸è¿‡åº”è¯¥æ˜¯å¯ä»¥è¿è¡Œçš„ã€‚Windows ä¸‹ TensorFlow çš„å®‰è£…å¯ä»¥çœ‹ <a href="http://blog.csdn.net/u010099080/article/details/53418159" target="_blank" rel="noopener">ã€TensorFlowã€‘Windows10 64ä½ä¸‹å®‰è£…TensorFlow - å®˜æ–¹åŸç”Ÿæ”¯æŒ</a></strong> ã€‚</p><hr><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>è¿™é‡Œæˆ‘ä¼šåˆ—å‡ºå¯¹æœ¬æ–‡çš„æ›´æ–°ã€‚</p><ul><li>2017 å¹´ 8 æœˆ 22 æ—¥ï¼šTensorBoard 0.1.4 å‘å¸ƒï¼Œæ›´æ–°ç•Œé¢æˆªå›¾ã€‚</li></ul><hr><h2 id="TensorBoard-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#TensorBoard-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="TensorBoard æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>TensorBoard æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2><p>ç®€å•æ¥è¯´ï¼ŒTensorBoard æ˜¯é€šè¿‡ä¸€äº›æ“ä½œï¼ˆsummary operationsï¼‰å°†æ•°æ®è®°å½•åˆ°æ–‡ä»¶ï¼ˆevent filesï¼‰ä¸­ï¼Œç„¶åå†è¯»å–æ–‡ä»¶æ¥å®Œæˆä½œå›¾çš„ã€‚æƒ³è¦åœ¨æµè§ˆå™¨ä¸Šçœ‹åˆ° TensorBoard é¡µé¢ï¼Œå¤§æ¦‚éœ€è¦è¿™å‡ æ­¥ï¼š</p><ol><li><strong>summary</strong>ã€‚åœ¨å®šä¹‰è®¡ç®—å›¾çš„æ—¶å€™ï¼Œåœ¨é€‚å½“çš„ä½ç½®åŠ ä¸Šä¸€äº› <a href="https://www.tensorflow.org/api_guides/python/summary" target="_blank" rel="noopener">summary æ“ä½œ</a> ã€‚</li><li><strong>merge</strong>ã€‚ä½ å¾ˆå¯èƒ½åŠ äº†å¾ˆå¤š summary æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>tf.summary.merge_all</code> æ¥å°†è¿™äº› summary æ“ä½œèšåˆæˆä¸€ä¸ªæ“ä½œï¼Œç”±å®ƒæ¥äº§ç”Ÿæ‰€æœ‰ summary æ•°æ®ã€‚</li><li><strong>run</strong>ã€‚åœ¨æ²¡æœ‰è¿è¡Œçš„æ—¶å€™è¿™äº›æ“ä½œæ˜¯ä¸ä¼šæ‰§è¡Œä»»ä½•ä¸œè¥¿çš„ï¼Œä»…ä»…æ˜¯å®šä¹‰äº†ä¸€ä¸‹è€Œå·²ã€‚åœ¨è¿è¡Œï¼ˆå¼€å§‹è®­ç»ƒï¼‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ <code>tf.summary.FileWriter()</code> æŒ‡å®šä¸€ä¸ªç›®å½•æ¥å‘Šè¯‰ç¨‹åºæŠŠäº§ç”Ÿçš„æ–‡ä»¶æ”¾åˆ°å“ªã€‚ç„¶ååœ¨è¿è¡Œçš„æ—¶å€™ä½¿ç”¨ <code>add_summary()</code> æ¥å°†æŸä¸€æ­¥çš„ summary æ•°æ®è®°å½•åˆ°æ–‡ä»¶ä¸­ã€‚</li></ol><p>å½“è®­ç»ƒå®Œæˆåï¼Œåœ¨å‘½ä»¤è¡Œä½¿ç”¨ <code>tensorboard --logdir=path/to/log-directory</code> æ¥å¯åŠ¨ TensorBoardï¼ŒæŒ‰ç…§æç¤ºåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ï¼Œæ³¨æ„æŠŠ <code>path/to/log-directory</code> æ›¿æ¢æˆä½ ä¸Šé¢æŒ‡å®šçš„ç›®å½•ã€‚</p><hr><h2 id="OVERVIEW"><a href="#OVERVIEW" class="headerlink" title="OVERVIEW"></a>OVERVIEW</h2><p>æ€»ä½“ä¸Šï¼Œç›®å‰ TensorBoard ä¸»è¦åŒ…æ‹¬ä¸‹é¢å‡ ä¸ªé¢æ¿ï¼š</p><div><img src="https://i.imgur.com/TK5BIH4.png" width="100%"></div><p>å…¶ä¸­ <code>TEXT</code> æ˜¯ æœ€æ–°ç‰ˆï¼ˆåº”è¯¥æ˜¯ 1.3ï¼‰æ‰åŠ è¿›å»çš„ï¼Œå®éªŒæ€§åŠŸèƒ½ï¼Œå®˜æ–¹éƒ½æ²¡æ€ä¹ˆä»‹ç»ã€‚é™¤äº† <code>AUDIO</code>ï¼ˆæ²¡ç”¨è¿‡ï¼‰ã€<code>EMBEDDINGS</code>ï¼ˆè¿˜ä¸æ˜¯å¾ˆç†Ÿï¼‰ å’Œ <code>TEXT</code>ï¼ˆæ²¡ç”¨è¿‡ï¼‰ è¿™å‡ ä¸ªï¼Œè¿™ç¯‡åšå®¢ä¸»è¦è¯´å‰©ä¸‹çš„å‡ ä¸ªï¼Œå…¶ä»–çš„ç­‰å›å¤´ç†Ÿç»ƒäº†å†æ¥è¯´ï¼Œå°½é‡é¿å…è¯¯äººå­å¼Ÿã€‚</p><p>TensorBoard çš„å·¥ä½œåŸç†æ˜¯è¯»å–æ¨¡å‹è®­ç»ƒæ—¶äº§ç”Ÿçš„ TensorFlow events æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…æ‹¬äº†ä¸€äº› summary æ•°æ®ï¼ˆå°±æ˜¯ä½œå›¾æ—¶ç”¨çš„æ•°æ®ï¼‰ã€‚</p><hr><h2 id="SCALARS"><a href="#SCALARS" class="headerlink" title="SCALARS"></a>SCALARS</h2><div><img src="http://i.imgur.com/s9drW9Z.png" width="100%"></div><center><font color="gray">*TensorBoard çš„é»˜è®¤æ‰“å¼€æ ·å¼*</font></center>TensorBoard æ‰“å¼€æ—¶é»˜è®¤ç›´æ¥è¿›å…¥ `SCALARS`ï¼Œå¹¶ä¸”é»˜è®¤ä½¿ç”¨ `.*` æ­£åˆ™è¡¨è¾¾å¼æ˜¾ç¤ºæ‰€æœ‰å›¾ï¼ˆå…¶ä»–é¢æ¿åŒç†ï¼Œä¸‹é¢å°±ä¸å†èµ˜è¿°ï¼‰ï¼Œä½ ç”¨åˆ°çš„é¢æ¿ä¼šåœ¨é¡¶éƒ¨å¯¼èˆªæ ç›´æ¥æ˜¾ç¤ºï¼Œè€Œå…¶ä»–ç”¨ä¸åˆ°çš„ï¼ˆä½ ä»£ç ä¸­æ²¡æœ‰ç›¸å…³ä»£ç ï¼‰åˆ™ä¼šæ”¶èµ·åˆ° `INACTIVE` ä¸­ã€‚<div align="center"><img src="http://i.imgur.com/W8ewfgz.png"></div><p><code>SCALARS</code> é¢æ¿ä¸»è¦ç”¨äºè®°å½•è¯¸å¦‚å‡†ç¡®ç‡ã€æŸå¤±å’Œå­¦ä¹ ç‡ç­‰å•ä¸ªå€¼çš„å˜åŒ–è¶‹åŠ¿ã€‚åœ¨ä»£ç ä¸­ç”¨ <a href="https://www.tensorflow.org/api_docs/python/tf/summary/scalar" target="_blank" rel="noopener"><code>tf.summary.scalar()</code></a> æ¥å°†å…¶è®°å½•åˆ°æ–‡ä»¶ä¸­ã€‚å¯¹åº”äºæˆ‘çš„ä»£ç ä¸­ï¼Œæˆ‘æ˜¯ä½¿ç”¨å…¶è®°å½•äº†è®­ç»ƒå‡†ç¡®ç‡å’ŒæŸå¤±ã€‚</p><p>è®­ç»ƒå‡†ç¡®ç‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'accuracy'</span>):</span><br><span class="line">    correct_prediction = tf.equal(tf.argmax(logits, <span class="number">1</span>), tf.argmax(y, <span class="number">1</span>))</span><br><span class="line">    accuracy = tf.reduce_mean(tf.cast(correct_prediction, tf.float32))</span><br><span class="line">    tf.summary.scalar(<span class="string">'accuracy'</span>, accuracy)</span><br></pre></td></tr></table></figure><p><div><img src="http://i.imgur.com/fpWU4rj.png" width="100%"></div></p><center><font color="gray">*å…¨éƒ¨ run çš„ acuracy*</font></center><blockquote><p>å¯ä»¥çœ‹åˆ°è¿™äº›æ›²çº¿å¹¶ä¸æ˜¯é‚£ä¹ˆå¹³æ»‘ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘è®°å½•çš„æ­¥æ•°æ¯”è¾ƒå°‘ï¼Œä¹Ÿå°±æ˜¯ç‚¹æ¯”è¾ƒå°‘ï¼Œå¦‚æœæ¯ä¸€æ­¥éƒ½è®°å½•æˆ–è€…é—´éš”æ¯”è¾ƒçŸ­ï¼Œé‚£ä¹ˆæœ€åçš„æ–‡ä»¶ä¼šå¾ˆå¤§ã€‚ä¸‹åŒ</p></blockquote><p>æŸå¤±ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(<span class="string">'loss'</span>):</span><br><span class="line">    loss = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=logits, labels=y)) + \</span><br><span class="line">        BETA * tf.add_n([tf.nn.l2_loss(v)</span><br><span class="line">                        <span class="keyword">for</span> v <span class="keyword">in</span> trainable_vars <span class="keyword">if</span> <span class="keyword">not</span> <span class="string">'b'</span> <span class="keyword">in</span> v.name])</span><br><span class="line"></span><br><span class="line">    tf.summary.scalar(<span class="string">'loss'</span>, loss)</span><br></pre></td></tr></table></figure><p><div><img src="http://i.imgur.com/zLPpuJt.png" width="100%" alt="loss"></div></p><center><font color="gray">*å…¨éƒ¨ run çš„ loss*</font></center><p>æ¯ä¸ªå›¾çš„å³ä¸‹è§’éƒ½æœ‰ 3 ä¸ªå°å›¾æ ‡ï¼Œç¬¬ä¸€ä¸ªæ˜¯æŸ¥çœ‹å¤§å›¾ï¼Œç¬¬äºŒä¸ªæ˜¯æ˜¯å¦å¯¹ y è½´å¯¹æ•°åŒ–ï¼Œç¬¬ä¸‰ä¸ªæ˜¯å¦‚æœä½ æ‹–åŠ¨æˆ–è€…ç¼©æ”¾äº†åæ ‡è½´ï¼Œå†é‡æ–°å›åˆ°åŸå§‹ä½ç½®ã€‚</p><p><img src="http://img.blog.csdn.net/20170822104513317?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" width="100%" alt="fit-domain-to-data"></p><center><font color="gray">*Fit domain to data*</font></center><p><code>tf.summary.scalar(name, tensor)</code> æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li><code>name</code>ï¼šå¯ä»¥ç†è§£ä¸ºå›¾çš„æ ‡é¢˜ã€‚åœ¨ <code>GRAPHS</code> ä¸­åˆ™æ˜¯è¯¥èŠ‚ç‚¹çš„åå­—</li><li><code>tensor</code>ï¼šåŒ…å«å•ä¸ªå€¼çš„ tensorï¼Œè¯´ç™½äº†å°±æ˜¯ä½œå›¾çš„æ—¶å€™è¦ç”¨çš„æ•°æ®</li></ul><p>åœ¨ä¸Šé¢çš„å›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°é™¤äº† <code>accuracy</code> å’Œ <code>loss</code> å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>eval_accuracy</code>ï¼Œè¿™ä¸ªæ˜¯æˆ‘ç”¨æ¥è®°å½•éªŒè¯å‡†ç¡®ç‡çš„ï¼Œä»£ç ä¸­ç›¸å…³çš„éƒ¨åˆ†å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">eval_writer = tf.summary.FileWriter(LOGDIR + <span class="string">'/eval'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Some other codes</span></span><br><span class="line"></span><br><span class="line">eval_writer.add_summary(tf.Summary(value=[tf.Summary.Value(tag=<span class="string">'eval_accuracy'</span>, simple_value=np.mean(test_acc))]), i)</span><br></pre></td></tr></table></figure><p><div><img src="http://i.imgur.com/XxQ1oRW.png" width="100%" alt="eval-accuracy"></div></p><center><font color="gray">*å…¨éƒ¨ run çš„ eval_accuracy*</font></center><p>è¿™é‡Œæˆ‘æ˜¯æ‰‹åŠ¨æ·»åŠ äº†ä¸€ä¸ªéªŒè¯å‡†ç¡®ç‡åˆ° <code>SCALARS</code> ä¸­ï¼Œå…¶å®æƒ³è¦è®°å½•éªŒè¯å‡†ç¡®ç‡å®Œå…¨ä¸å¿…è¿™ä¹ˆåšï¼Œå’Œè®­ç»ƒå‡†ç¡®ç‡ä¸åŒçš„åªæ˜¯ feed çš„æ•°æ®ä¸ä¸€æ ·è€Œå·²ã€‚ç„¶è€Œç”±äºæˆ‘çš„æ˜¾å­˜ä¸å¤Ÿä¸€æ¬¡è£…ä¸‹æ•´ä¸ªéªŒè¯é›†ï¼Œæ‰€ä»¥æˆ‘å°±åˆ†äº†ä¸¤éƒ¨åˆ†è®¡ç®—ç„¶åæ±‚å¹³å‡å€¼æ¥å¾—åˆ°æ•´ä¸ªéªŒè¯é›†çš„å‡†ç¡®ç‡ã€‚<em>å¦‚æœè°æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œè¯·ç»™æˆ‘å‘é‚®ä»¶æˆ–è€…åœ¨è¯„è®ºåŒºè¯„è®ºï¼Œéå¸¸æ„Ÿè°¢ :-)</em></p><p>å½“æˆ‘ä»¬æœ‰å¾ˆå¤šçš„ tag ï¼ˆå›¾ï¼‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¦ä¸Šè§’å†™æ­£åˆ™è¡¨è¾¾å¼æ¥é€‰æ‹©å…¶ä¸­ä¸€äº› tagï¼Œæ¯”å¦‚æˆ‘æƒ³é€‰æ‹©åŒ…æ‹¬ <code>accuracy</code> çš„ tagï¼Œé‚£ä¹ˆæˆ‘ç›´æ¥å†™ä¸Š <code>accuracy</code> å°±å¯ä»¥äº†ï¼Œå³ä¾§å°±ä¼šå¤šå‡ºä¸€ä¸ª <code>accuracy</code> çš„ tagï¼Œæ˜¾ç¤ºåŒ¹é…å‡ºçš„ç»“æœã€‚</p><p>é¡µé¢å·¦ä¸Šæ˜¯ <code>Show data download links</code> å’Œ <code>Ignore outliers in chart scaling</code>ï¼Œè¿™ä¸¤ä¸ªæ¯”è¾ƒå¥½ç†è§£ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯æ˜¾ç¤ºæ•°æ®ä¸‹è½½é“¾æ¥ï¼Œå¯ä»¥æŠŠ TensorBoard ä½œå›¾ç”¨çš„æ•°æ®ä¸‹è½½ä¸‹æ¥ï¼Œç‚¹å‡»åå¯ä»¥åœ¨å›¾çš„å³ä¸‹è§’å¯ä»¥çœ‹åˆ°ä¸‹è½½é“¾æ¥ä»¥åŠé€‰æ‹©ä¸‹è½½å“ªä¸€ä¸ª run çš„ï¼Œä¸‹è½½æ ¼å¼æ”¯æŒ CSV å’Œ JSONã€‚ç¬¬äºŒä¸ªæ˜¯æ’é™¤å¼‚å¸¸ç‚¹ï¼Œé»˜è®¤é€‰ä¸­ã€‚</p><p>å½“æˆ‘ä»¬ç”¨é¼ æ ‡åœ¨å›¾ä¸Šæ»‘è¿‡çš„æ—¶å€™å¯ä»¥æ˜¾ç¤ºå‡ºæ¯ä¸ª run å¯¹åº”çš„ç‚¹çš„å€¼ï¼Œè¿™ä¸ªæ˜¾ç¤ºé¡ºåºæ˜¯ç”± <code>Tooltip sorting method</code> æ¥æ§åˆ¶çš„ï¼Œæœ‰ <code>default</code>ã€<code>descending</code>ï¼ˆé™åºï¼‰ã€<code>asceding</code> ï¼ˆå‡åºï¼‰å’Œ <code>nearest</code> å››ä¸ªé€‰é¡¹ï¼Œå¤§å®¶å¯ä»¥è¯•è¯•ç‚¹å‡ ä¸‹ã€‚</p><p>è€Œä¸‹é¢çš„ <code>Smoothing</code> æŒ‡çš„æ˜¯ä½œå›¾æ—¶æ›²çº¿çš„å¹³æ»‘ç¨‹åº¦ï¼Œä½¿ç”¨çš„æ˜¯<strong>ç±»ä¼¼</strong>æŒ‡æ•°å¹³æ»‘çš„å¤„ç†æ–¹æ³•ã€‚å¦‚æœä¸å¹³æ»‘å¤„ç†çš„è¯ï¼Œæœ‰äº›æ›²çº¿æ³¢åŠ¨å¾ˆå¤§ï¼Œéš¾ä»¥çœ‹å‡ºè¶‹åŠ¿ã€‚0 å°±æ˜¯ä¸å¹³æ»‘å¤„ç†ï¼Œ1 å°±æ˜¯æœ€å¹³æ»‘ï¼Œé»˜è®¤æ˜¯ 0.6ã€‚</p><p><code>Horizontal Axis</code> é¡¾åæ€ä¹‰æŒ‡çš„æ˜¯æ¨ªè½´çš„è®¾ç½®ï¼š</p><ul><li><code>STEP</code>ï¼šé»˜è®¤é€‰é¡¹ï¼ŒæŒ‡çš„æ˜¯æ¨ªè½´æ˜¾ç¤ºçš„æ˜¯è®­ç»ƒè¿­ä»£æ¬¡æ•°</li><li><code>RELATIVE</code>ï¼šè¿™ä¸ªç›¸å¯¹æŒ‡çš„æ˜¯ç›¸å¯¹æ—¶é—´ï¼Œç›¸å¯¹äºè®­ç»ƒå¼€å§‹çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯<em>è®­ç»ƒç”¨æ—¶</em> ï¼Œå•ä½æ˜¯å°æ—¶</li><li><code>WALL</code>ï¼šæŒ‡è®­ç»ƒçš„ç»å¯¹æ—¶é—´</li></ul><p>æœ€ä¸‹é¢çš„ <code>Runs</code> åˆ—å‡ºäº†å„ä¸ª runï¼Œä½ å¯ä»¥é€‰æ‹©åªæ˜¾ç¤ºæŸä¸€ä¸ªæˆ–æŸå‡ ä¸ªã€‚</p><hr><h2 id="IMAGES"><a href="#IMAGES" class="headerlink" title="IMAGES"></a>IMAGES</h2><p>å¦‚æœä½ çš„æ¨¡å‹è¾“å…¥æ˜¯å›¾åƒï¼ˆçš„åƒç´ å€¼ï¼‰ï¼Œç„¶åä½ æƒ³çœ‹çœ‹æ¨¡å‹æ¯æ¬¡çš„è¾“å…¥å›¾åƒæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä»¥ä¿è¯æ¯æ¬¡è¾“å…¥çš„å›¾åƒæ²¡æœ‰é—®é¢˜ï¼ˆå› ä¸ºä½ å¯èƒ½åœ¨æ¨¡å‹ä¸­å¯¹å›¾åƒåšäº†æŸç§å˜æ¢ï¼Œè€Œè¿™ç§å˜æ¢æ˜¯å¾ˆå®¹æ˜“å‡ºé—®é¢˜çš„ï¼‰ï¼Œ<code>IMAGES</code> é¢æ¿å°±æ˜¯å¹²è¿™ä¸ªçš„ï¼Œå®ƒå¯ä»¥æ˜¾ç¤ºå‡ºç›¸åº”çš„è¾“å…¥å›¾åƒï¼Œé»˜è®¤æ˜¾ç¤ºæœ€æ–°çš„è¾“å…¥å›¾åƒï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><div><img src="http://i.imgur.com/nqVkbBo.png" width="100%" alt="images"></div></p><p><center><font color="gray"><em>ç¬¬ 45000 æ¬¡è¿­ä»£æ—¶è¾“å…¥çš„ 3 ä¸ªå›¾åƒ</em></font><center></center></center></p><p>å›¾çš„å³ä¸‹è§’çš„ä¸¤ä¸ªå›¾æ ‡ï¼Œç¬¬ä¸€ä¸ªæ˜¯æŸ¥çœ‹å¤§å›¾ï¼Œç¬¬äºŒä¸ªæ˜¯æŸ¥çœ‹åŸå›¾ï¼ˆçœŸå®å¤§å°ï¼Œé»˜è®¤æ˜¾ç¤ºçš„æ˜¯æ”¾å¤§åçš„ï¼‰ã€‚å·¦ä¾§å’Œ <code>SCALARS</code> å·®ä¸å¤šï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ã€‚</p><p>è€Œåœ¨ä»£ç ä¸­ï¼Œéœ€è¦åœ¨åˆé€‚çš„ä½ç½®ä½¿ç”¨ <a href="https://www.tensorflow.org/api_docs/python/tf/summary/image" target="_blank" rel="noopener"><code>tf.summary.image()</code></a> æ¥æŠŠå›¾åƒè®°å½•åˆ°æ–‡ä»¶ä¸­ï¼Œå…¶å‚æ•°å’Œ <code>tf.summary.scalar()</code> å¤§è‡´ç›¸åŒï¼Œå¤šäº†ä¸€ä¸ª <code>max_outputs</code> ï¼ŒæŒ‡çš„æ˜¯æœ€å¤šæ˜¾ç¤ºå¤šå°‘å¼ å›¾ç‰‡ï¼Œé»˜è®¤ä¸º 3ã€‚å¯¹åº”äºæˆ‘çš„ä»£ç ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = tf.placeholder(tf.float32, shape=[<span class="keyword">None</span>, N_FEATURES], name=<span class="string">'x'</span>)</span><br><span class="line">x_image = tf.transpose(tf.reshape(x, [<span class="number">-1</span>, <span class="number">3</span>, <span class="number">32</span>, <span class="number">32</span>]), perm=[<span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>])</span><br><span class="line">tf.summary.image(<span class="string">'input'</span>, x_image, max_outputs=<span class="number">3</span>)</span><br><span class="line">y = tf.placeholder(tf.float32, [<span class="keyword">None</span>, N_CLASSES], name=<span class="string">'labels'</span>)</span><br></pre></td></tr></table></figure><hr><h2 id="GRAPHS"><a href="#GRAPHS" class="headerlink" title="GRAPHS"></a>GRAPHS</h2><p>è¿™ä¸ªåº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„é¢æ¿äº†ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„æ¨¡å‹å¾ˆå¤æ‚ï¼ŒåŒ…å«å¾ˆå¤šå±‚ï¼Œæˆ‘ä»¬æƒ³è¦æ€»ä½“ä¸Šçœ‹ä¸‹æ„å»ºçš„ç½‘ç»œåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œè¿™æ—¶å€™å°±ç”¨åˆ° <code>GRAPHS</code> é¢æ¿äº†ï¼Œåœ¨è¿™é‡Œå¯ä»¥å±•ç¤ºå‡ºä½ æ‰€æ„å»ºçš„ç½‘ç»œæ•´ä½“ç»“æ„ï¼Œæ˜¾ç¤ºæ•°æ®æµçš„æ–¹å‘å’Œå¤§å°ï¼Œä¹Ÿå¯ä»¥æ˜¾ç¤ºè®­ç»ƒæ—¶æ¯ä¸ªèŠ‚ç‚¹çš„ç”¨æ—¶ã€è€—è´¹çš„å†…å­˜å¤§å°ä»¥åŠå‚æ•°å¤šå°‘ã€‚é»˜è®¤æ˜¾ç¤ºçš„å›¾åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šä¸»å›¾ï¼ˆMain Graphï¼‰å’Œè¾…åŠ©èŠ‚ç‚¹ï¼ˆAuxiliary Nodesï¼‰ã€‚å…¶ä¸­ä¸»å›¾æ˜¾ç¤ºçš„å°±æ˜¯ç½‘ç»œç»“æ„ï¼Œè¾…åŠ©èŠ‚ç‚¹åˆ™æ˜¾ç¤ºçš„æ˜¯åˆå§‹åŒ–ã€è®­ç»ƒã€ä¿å­˜ç­‰èŠ‚ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥åŒå‡»æŸä¸ªèŠ‚ç‚¹æˆ–è€…ç‚¹å‡»èŠ‚ç‚¹å³ä¸Šè§’çš„ <code>+</code> æ¥å±•å¼€æŸ¥çœ‹é‡Œé¢çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥å¯¹é½è¿›è¡Œç¼©æ”¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å‘½åéƒ½æ˜¯æˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨ <code>tf.name_scope()</code> å®šä¹‰å¥½çš„ã€‚ä¸‹é¢ä»‹ç»ä¸‹è¯¥é¢æ¿å·¦ä¾§çš„åŠŸèƒ½ã€‚</p><p><div><img src="http://i.imgur.com/r8mXplM.png" width="100%" alt="graph"></div></p><p><center><font color="gray"><em>è®¡ç®—å›¾</em></font><center></center></center></p><p>å·¦ä¸Šæ˜¯ <code>Fit to screen</code>ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯å°†å›¾ç¼©æ”¾åˆ°é€‚åˆå±å¹•ã€‚ä¸‹é¢çš„ <code>Download PNG</code> åˆ™æ˜¯å°†å›¾ä¿å­˜åˆ°æœ¬åœ°ã€‚<code>Run</code> å’Œ <code>Session Run</code> åˆ†åˆ«æ˜¯ä¸åŒçš„è®­ç»ƒå’Œè¿­ä»£æ­¥æ•°ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œä»¥ä¸åŒçš„è¶…å‚è®­ç»ƒäº† 6 æ¬¡ï¼Œé‚£ä¹ˆ å°±æœ‰ 6 ä¸ª runï¼Œè€Œä½ æ‰€è®°å½•çš„è¿­ä»£æ¬¡æ•°ï¼ˆå¹¶ä¸æ˜¯æ¯ä¸€æ­¥éƒ½ä¼šè®°å½•å½“å‰çŠ¶æ€çš„ï¼Œé‚£æ ·çš„è¯å¤ªå¤šäº†ï¼Œä¸€èˆ¬éƒ½æ˜¯æ¯éš”å¤šå°‘æ¬¡è®°å½•ä¸€æ¬¡ï¼‰åˆ™æ˜¾ç¤ºåœ¨ <code>Session Run</code> é‡Œã€‚å†ä¸‹é¢å¤§å®¶åº”è¯¥éƒ½èƒ½çœ‹æ‡‚ï¼Œæˆ‘å°±ä¸è¯¦ç»†è¯´æ¯ä¸ªåŠŸèƒ½çš„æ„æ€äº†ã€‚</p><p><div align="center"><img src="https://i.imgur.com/sJFNrmY.png" alt="run"></div></p><p><center><font color="gray"><em>é€‰æ‹©è¿­ä»£æ­¥æ•°</em></font><center></center></center></p><p>TensorBoard é»˜è®¤æ˜¯ä¸ä¼šè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„ç”¨æ—¶ã€è€—è´¹çš„å†…å­˜å¤§å°ç­‰è¿™äº›ä¿¡æ¯çš„ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½åœ¨å›¾ä¸Šæ˜¾ç¤ºè¿™äº›ä¿¡æ¯å‘¢ï¼Ÿå…³é”®å°±æ˜¯å¦‚ä¸‹è¿™äº›ä»£ç ï¼Œä¸»è¦å°±æ˜¯åœ¨ <code>sess.run()</code> ä¸­åŠ å…¥ <code>options</code> å’Œ <code>run_metadata</code> å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">run_options = tf.RunOptions(trace_level=tf.RunOptions.FULL_TRACE)</span><br><span class="line">run_metadata = tf.RunMetadata()</span><br><span class="line">s, lss, acc , _ = sess.run([merged_summary, loss, accuracy, train_step], </span><br><span class="line">                           feed_dict=&#123;x: batch_x, y: batch_y, phase: <span class="number">1</span>&#125;,</span><br><span class="line">                           options=run_options,</span><br><span class="line">                           run_metadata=run_metadata)</span><br><span class="line">summary_writer.add_run_metadata(run_metadata, <span class="string">'step&#123;&#125;'</span>.format(i))</span><br><span class="line">summary_writer.add_summary(s, i)</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹© <code>Compute time</code> æˆ–è€… <code>Memory</code> æ¥æŸ¥çœ‹ç›¸åº”ä¿¡æ¯ï¼Œé¢œè‰²æ·±æµ…ä»£è¡¨è€—æ—¶å¤šå°‘æˆ–è€…å†…å­˜è€—ç”¨å¤šå°‘ã€‚</p><p><div><img src="https://i.imgur.com/TIMp4tq.png" width="100%" alt="compute-time-memory"></div></p><p><center><font color="gray"><em>è®¡ç®—è€—æ—¶</em></font><center></center></center></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æŸä¸ªèŠ‚ç‚¹ä»ä¸»å›¾ç§»é™¤ï¼Œå°†å…¶æ”¾åˆ°è¾…åŠ©èŠ‚ç‚¹ä¸­ï¼Œä»¥ä¾¿äºæˆ‘ä»¬æ›´æ¸…æ™°çš„è§‚å¯Ÿæ•´ä¸ªç½‘ç»œã€‚å…·ä½“æ“ä½œæ˜¯ <em>å³é”®è¯¥èŠ‚ç‚¹ï¼Œé€‰æ‹© <code>Remove from main graph</code></em> ã€‚</p><hr><h2 id="DISTRIBUTIONS"><a href="#DISTRIBUTIONS" class="headerlink" title="DISTRIBUTIONS"></a>DISTRIBUTIONS</h2><p><code>DISTRIBUTIONS</code> ä¸»è¦ç”¨æ¥å±•ç¤ºç½‘ç»œä¸­å„å‚æ•°éšè®­ç»ƒæ­¥æ•°çš„å¢åŠ çš„å˜åŒ–æƒ…å†µï¼Œå¯ä»¥è¯´æ˜¯ <em>å¤šåˆ†ä½æ•°æŠ˜çº¿å›¾</em> çš„å †å ã€‚ä¸‹é¢æˆ‘å°±ä¸‹é¢è¿™å¼ å›¾æ¥è§£é‡Šä¸‹ã€‚</p><p><div><img src="http://i.imgur.com/ztasEZc.png" width="100%" alt="conv1-weights"></div></p><p><center><font color="gray"><em>æƒé‡åˆ†å¸ƒ</em></font><center></center></center></p><p>è¿™å¼ å›¾è¡¨ç¤ºçš„æ˜¯ç¬¬äºŒä¸ªå·ç§¯å±‚çš„æƒé‡å˜åŒ–ã€‚æ¨ªè½´è¡¨ç¤ºè®­ç»ƒæ­¥æ•°ï¼Œçºµè½´è¡¨ç¤ºæƒé‡å€¼ã€‚è€Œä»ä¸Šåˆ°ä¸‹çš„æŠ˜ç°åˆ†åˆ«è¡¨ç¤ºæƒé‡åˆ†å¸ƒçš„ä¸åŒåˆ†ä½æ•°ï¼š<code>[maximum, 93%, 84%, 69%, 50%, 31%, 16%, 7%, minimum]</code>ã€‚å¯¹åº”äºæˆ‘çš„ä»£ç ï¼Œéƒ¨åˆ†å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> tf.name_scope(name):</span><br><span class="line">    W = tf.Variable(tf.truncated_normal(</span><br><span class="line">        [k, k, channels_in, channels_out], stddev=<span class="number">0.1</span>), name=<span class="string">'W'</span>)</span><br><span class="line">    b = tf.Variable(tf.constant(<span class="number">0.1</span>, shape=[channels_out]), name=<span class="string">'b'</span>)</span><br><span class="line">    conv = tf.nn.conv2d(inpt, W, strides=[<span class="number">1</span>, s, s, <span class="number">1</span>], padding=<span class="string">'SAME'</span>)</span><br><span class="line">    act = tf.nn.relu(conv)</span><br><span class="line">    tf.summary.histogram(<span class="string">'weights'</span>, W)</span><br><span class="line">    tf.summary.histogram(<span class="string">'biases'</span>, b)</span><br><span class="line">    tf.summary.histogram(<span class="string">'activations'</span>, act)</span><br></pre></td></tr></table></figure><hr><h2 id="HISTOGRAMS"><a href="#HISTOGRAMS" class="headerlink" title="HISTOGRAMS"></a>HISTOGRAMS</h2><p><strong><code>HISTOGRAMS</code> å’Œ <code>DISTRIBUTIONS</code> æ˜¯å¯¹åŒä¸€æ•°æ®ä¸åŒæ–¹å¼çš„å±•ç°</strong>ã€‚ä¸ <code>DISTRIBUTIONS</code> ä¸åŒçš„æ˜¯ï¼Œ<code>HISTOGRAMS</code> å¯ä»¥è¯´æ˜¯ <em>é¢‘æ•°åˆ†å¸ƒç›´æ–¹å›¾</em> çš„å †å ã€‚</p><p><div><img src="http://i.imgur.com/efGIjU9.png" width="100%" alt="conv1-weights-hist"></div></p><p><center><font color="gray"><em>æƒé‡åˆ†å¸ƒ</em></font><center></center></center></p><p>æ¨ªè½´è¡¨ç¤ºæƒé‡å€¼ï¼Œçºµè½´è¡¨ç¤ºè®­ç»ƒæ­¥æ•°ã€‚é¢œè‰²è¶Šæ·±è¡¨ç¤ºæ—¶é—´è¶Šæ—©ï¼Œè¶Šæµ…è¡¨ç¤ºæ—¶é—´è¶Šæ™šï¼ˆè¶Šæ¥è¿‘è®­ç»ƒç»“æŸï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ<code>HISTOGRAMS</code> è¿˜æœ‰ä¸ª <code>Histogram mode</code>ï¼Œæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š<code>OVERLAY</code> å’Œ <code>OFFSET</code>ã€‚é€‰æ‹© <code>OVERLAY</code> æ—¶æ¨ªè½´ä¸ºæƒé‡å€¼ï¼Œçºµè½´ä¸ºé¢‘æ•°ï¼Œæ¯ä¸€æ¡æŠ˜çº¿ä¸ºè®­ç»ƒæ­¥æ•°ã€‚é¢œè‰²æ·±æµ…ä¸ä¸Šé¢åŒç†ã€‚é»˜è®¤ä¸º <code>OFFSET</code> æ¨¡å¼ã€‚</p><hr><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>è¿™ç¯‡åšæ–‡å†™äº†å¥½ä¹…ï¼Œä»å‡†å¤‡æ•°æ®åˆ°å¼€å§‹åŠ¨ç¬”å†™ï¼Œä¸­é—´ä¸€ç›´è¢«å„ç§äº‹å¹²æ‰°ã€‚ç”±äºæˆ‘æ°´å¹³æœ‰é™ï¼Œæˆ‘åªèƒ½å°½æœ€å¤§ç¨‹åº¦çš„ç»™å‡ºå°½å¯èƒ½æ­£ç¡®çš„è§£é‡Šï¼Œç„¶è€Œè¿˜æœ‰å¾ˆå¤šæˆ‘ç›®å‰è¿˜å…¼é¡¾ä¸åˆ°ï¼Œå¾ˆå¤šè¯ä¹Ÿä¸æ˜¯å¾ˆé€šé¡ºã€‚å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæˆ–è€…ç»™æˆ‘ç§ä¿¡æˆ–è€…ç»™æˆ‘é‚®ä»¶æŒ‡å‡ºã€‚</p><hr><h2 id="REFERENCES"><a href="#REFERENCES" class="headerlink" title="REFERENCES"></a>REFERENCES</h2><ul><li><a href="https://www.tensorflow.org/get_started/summaries_and_tensorboard" target="_blank" rel="noopener">TensorBoard: Visualizing Learning</a></li><li><a href="https://stats.stackexchange.com/questions/220491/how-does-one-interpret-histograms-given-by-tensorflow-in-tensorboard" target="_blank" rel="noopener">How does one interpret histograms given by TensorFlow in TensorBoard?</a></li><li><a href="https://github.com/tensorflow/tensorboard/blob/master/README.md" target="_blank" rel="noopener">TensorBoard</a></li><li><a href="https://www.tensorflow.org/get_started/tensorboard_histograms" target="_blank" rel="noopener">TensorBoard Histogram Dashboard</a></li><li><a href="https://stackoverflow.com/questions/42315202/understanding-tensorboard-weight-histograms" target="_blank" rel="noopener">Understanding TensorBoard (weight) histograms</a></li><li><a href="https://www.youtube.com/watch?v=eBbEDRsCmv4&amp;t=1105s" target="_blank" rel="noopener">Hands-on TensorBoard (TensorFlow Dev Summit 2017)</a></li></ul><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.tensorflow.org/get_started/summaries_and_tensorboard&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;TensorBoard&lt;/a&gt; æ˜¯ç”¨äºå¯è§†åŒ– TensorFlow æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹çš„å·¥å…·ï¼ˆthe flow of tensorsï¼‰ï¼Œåœ¨ä½ å®‰è£… TensorFlow çš„æ—¶å€™å°±å·²ç»å®‰è£…äº† TensorBoardã€‚æˆ‘åœ¨å‰é¢çš„ &lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/62882006&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ã€TensorFlowã€‘TensorFlow çš„å·ç§¯ç¥ç»ç½‘ç»œ CNN - TensorBoardç‰ˆ&lt;/a&gt; å’Œ &lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/53560426&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ã€Python | TensorBoardã€‘ç”¨ PCA å¯è§†åŒ– MNIST æ‰‹å†™æ•°å­—è¯†åˆ«æ•°æ®é›†&lt;/a&gt; åˆ†åˆ«éå¸¸ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹è¿™ä¸ªå·¥å…·ï¼Œæ²¡æœ‰è¯¦ç»†è¯´æ˜ï¼Œè¿™æ¬¡æ¥ï¼ˆå°½å¯èƒ½è¯¦ç»†çš„ï¼‰æ•´ä½“è¯´ä¸€ä¸‹ï¼Œè€Œä¸”è¿™æ¬¡ä¹Ÿæ˜¯å¯¹ &lt;a href=&quot;http://blog.csdn.net/u010099080/article/details/62882006&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å‰è€…&lt;/a&gt; ä»£ç çš„ä¸€ä¸ªå‡çº§ï¼Œå¾ˆå¤§ç¨‹åº¦çš„æ”¹å˜äº†ä»£ç ç»“æ„ï¼Œå°†è¾“å…¥å’Œè®­ç»ƒåˆ†ç¦»å¼€æ¥ï¼Œç»“æ„æ›´æ¸…æ™°ã€‚å°å¼Ÿä¸æ‰ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿è¯„è®ºåŒºæŒ‡å‡ºã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="TensorFlow" scheme="https://secsilm.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>Numpy ä¸­çš„ shuffle VS permutation</title>
    <link href="https://secsilm.github.io/2017/06/17/numpy-shuffle-permutation/"/>
    <id>https://secsilm.github.io/2017/06/17/numpy-shuffle-permutation/</id>
    <published>2017-06-17T15:28:00.000Z</published>
    <updated>2017-12-23T00:22:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰éšæœºæ‰“ä¹±ä¸€ä¸ªæ•°ç»„çš„éœ€æ±‚ï¼Œä¾‹å¦‚è®­ç»ƒæ—¶éšæœºæ‰“ä¹±æ ·æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>numpy.random.shuffle()</code> æˆ–è€… <code>numpy.random.permutation()</code> æ¥å®Œæˆã€‚è¿™ä¸¤è€…éå¸¸ç›¸ä¼¼ï¼Œå®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆä»–ä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><a id="more"></a><p>æœ¬æ–‡ä»£ç åŠå›¾ç‰‡å¯ä»¥åœ¨ <a href="https://github.com/secsilm/shuffle-vs-permutation-numpy" target="_blank" rel="noopener">æˆ‘çš„GitHub</a> æ‰¾åˆ°ã€‚</p><hr><h2 id="å‚æ•°åŒºåˆ«"><a href="#å‚æ•°åŒºåˆ«" class="headerlink" title="å‚æ•°åŒºåˆ«"></a>å‚æ•°åŒºåˆ«</h2><p>ä»¥ä¸‹ <code>numpy.random.shuffle()</code> ç®€ç§° <code>shuffle</code>ï¼Œ<code>numpy.random.permutation()</code> ç®€ç§° <code>permutation</code>ã€‚</p><ul><li><code>shuffle</code> çš„å‚æ•°åªèƒ½æ˜¯ <code>array_like</code>ï¼Œè€Œ <code>permutation</code> é™¤äº† <code>array_like</code> è¿˜å¯ä»¥æ˜¯ <code>int</code> ç±»å‹ï¼Œå¦‚æœæ˜¯ <code>int</code> ç±»å‹ï¼Œé‚£å°±éšæœºæ‰“ä¹± <code>numpy.arange(int)</code>ã€‚</li><li><strong><code>shuffle</code> è¿”å› <code>None</code></strong>ï¼Œè¿™ç‚¹å°¤å…¶è¦æ³¨æ„ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰è¿”å›å€¼ï¼Œè€Œ <code>permutation</code> åˆ™è¿”å›æ‰“ä¹±åçš„ arrayã€‚</li></ul><hr><h2 id="å®ç°åŒºåˆ«"><a href="#å®ç°åŒºåˆ«" class="headerlink" title="å®ç°åŒºåˆ«"></a>å®ç°åŒºåˆ«</h2><p><code>permutation</code> å…¶å®åœ¨å†…éƒ¨å®ç°ä¹Ÿæ˜¯è°ƒç”¨çš„ <code>shuffle</code>ï¼Œè¿™ç‚¹ä» <a href="https://github.com/numpy/numpy/blob/master/numpy/random/mtrand/mtrand.pyx#L4847" target="_blank" rel="noopener">Numpy çš„æºç </a> å¯ä»¥çœ‹å‡ºæ¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">permutation</span><span class="params">(self, object x)</span>:</span></span><br><span class="line">    <span class="string">'''è¿™é‡Œéƒ½æ˜¯å¸®åŠ©æ–‡æ¡£ï¼Œæˆ‘å°±çœç•¥äº†'''</span></span><br><span class="line">    <span class="keyword">if</span> isinstance(x, (int, long, np.integer)):</span><br><span class="line">        arr = np.arange(x)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        arr = np.array(x)</span><br><span class="line">    self.shuffle(arr)</span><br><span class="line">    <span class="keyword">return</span> arr</span><br></pre></td></tr></table></figure><hr><h2 id="é€Ÿåº¦åŒºåˆ«"><a href="#é€Ÿåº¦åŒºåˆ«" class="headerlink" title="é€Ÿåº¦åŒºåˆ«"></a>é€Ÿåº¦åŒºåˆ«</h2><p>ä¸ºäº†æµ‹è¯•ä¸¤è€…çš„é€Ÿåº¦åŒºåˆ«ï¼Œæˆ‘åˆ†åˆ«ä½¿ç”¨äº† <code>shuffle</code> å’Œ <code>permutation</code> å¯¹ä¸åŒé•¿åº¦çš„ array è¿›è¡Œéšæœºæ‰“ä¹±å¹¶è®¡æ—¶ã€‚</p><p>å…³é”®ä»£ç å¦‚ä¸‹:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">10</span> ** np.arange(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line">shuffle_elapsed = []</span><br><span class="line">permutation_elapsed = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> n:</span><br><span class="line">    print(i)</span><br><span class="line">    start = time.time()</span><br><span class="line">    a = np.arange(i)</span><br><span class="line">    np.random.shuffle(a)</span><br><span class="line">    end = time.time()</span><br><span class="line">    shuffle_elapsed.append((i, end - start))</span><br><span class="line"></span><br><span class="line">    start = time.time()</span><br><span class="line">    b = np.random.permutation(i)</span><br><span class="line">    end = time.time()</span><br><span class="line">    permutation_elapsed.append((i, end - start))</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="http://img.blog.csdn.net/20170618130741322?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æŸ¥çœ‹å¤§å›¾</em></p><p>å¯ä»¥çœ‹å‡ºåœ¨è¾¾åˆ° $10^9$ çº§åˆ«ä»¥å‰ï¼Œä¸¤è€…é€Ÿåº¦å‡ ä¹æ²¡æœ‰å·®åˆ«ï¼Œä½†æ˜¯åœ¨ è¾¾åˆ° $10^9$ ä»¥åä¸¤è€…é€Ÿåº¦å·®è·æ˜æ˜¾æ‹‰å¤§ï¼Œ<code>shuffle</code> çš„ç”¨æ—¶æ˜æ˜¾çŸ­äº <code>permutation</code>ã€‚</p><p>æ‰€ä»¥åœ¨ array å¾ˆå¤§çš„æ—¶å€™è¿˜æ˜¯ä½¿ç”¨ <code>shuffle</code> é€Ÿåº¦æ›´å¿«äº›ï¼Œä½†è¦æ³¨æ„å…¶ä¸è¿”å›æ‰“ä¹±åçš„ arrayï¼Œæ˜¯ inplace ä¿®æ”¹ã€‚</p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰éšæœºæ‰“ä¹±ä¸€ä¸ªæ•°ç»„çš„éœ€æ±‚ï¼Œä¾‹å¦‚è®­ç»ƒæ—¶éšæœºæ‰“ä¹±æ ·æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code&gt;numpy.random.shuffle()&lt;/code&gt; æˆ–è€… &lt;code&gt;numpy.random.permutation()&lt;/code&gt; æ¥å®Œæˆã€‚è¿™ä¸¤è€…éå¸¸ç›¸ä¼¼ï¼Œå®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆä»–ä»¬åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://secsilm.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow DNNRegressor çš„ç®€å•ä½¿ç”¨</title>
    <link href="https://secsilm.github.io/2017/06/02/tensorflow-DNNRegressor/"/>
    <id>https://secsilm.github.io/2017/06/02/tensorflow-DNNRegressor/</id>
    <published>2017-06-02T14:03:00.000Z</published>
    <updated>2017-12-26T02:07:47.750Z</updated>
    
    <content type="html"><![CDATA[<p><code>tf.contrib.learn.DNNRegressor</code> æ˜¯ TensoFlow ä¸­å®ç°çš„ä¸€ä¸ªç¥ç»ç½‘ç»œå›å½’å™¨ã€‚ä¸€èˆ¬ç¥ç»ç½‘ç»œç”¨äºåˆ†ç±»é—®é¢˜çš„æ¯”è¾ƒå¤šï¼Œä½†æ˜¯åŒæ ·å¯ä»¥ç”¨äºå›å½’é—®é¢˜å’Œæ— ç›‘ç£å­¦ä¹ é—®é¢˜ã€‚<br><a id="more"></a><br>æ­¤æ–‡çš„ä»£ç å’Œæ‰€ç”Ÿæˆçš„ TensorBoard æ–‡ä»¶å¯ä»¥ä» <a href="https://github.com/secsilm/TensorFlow-DNNRegressor" target="_blank" rel="noopener">secsilm/TensorFlow-DNNRegressor: æ–‡ç«  TensorFlow DNNRegressor çš„ç®€å•ä½¿ç”¨ çš„ä»£ç åŠ TensorBoard æ–‡ä»¶ã€‚</a> ä¸‹è½½ã€‚</p><hr><h2 id="tf-contrib-learn"><a href="#tf-contrib-learn" class="headerlink" title="tf.contrib.learn"></a><code>tf.contrib.learn</code></h2><p><code>tf.contrib.learn</code> æ˜¯ TensorFlow æä¾›çš„ä¸€ä¸ªæœºå™¨å­¦ä¹ é«˜çº§ API æ¨¡å—ï¼Œè®©ç”¨æˆ·å¯ä»¥æ›´æ–¹ä¾¿çš„é…ç½®ã€è®­ç»ƒå’Œè¯„ä¼°å„ç§å„æ ·çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œé‡Œé¢å†…ç½®äº†å¾ˆå¤šæ¨¡å‹å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä½¿ç”¨ç±»ä¼¼ <a href="http://scikit-learn.org/stable/" target="_blank" rel="noopener">scikit-learn</a> çš„ API ã€‚å¤§è‡´æœ‰ä»¥ä¸‹å‡ ç§æ¨¡å‹ï¼Œå…·ä½“å¯å‚è€ƒ <a href="https://www.tensorflow.org/api_guides/python/contrib.learn" target="_blank" rel="noopener">Learn (contrib)</a>ï¼š</p><ul><li>K-means èšç±» <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/KMeansClustering" target="_blank" rel="noopener"><code>tf.contrib.learn.KMeansClustering</code></a></li><li>ç¥ç»ç½‘ç»œåˆ†ç±»å™¨ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/DNNClassifier" target="_blank" rel="noopener"><code>tf.contrib.learn.DNNClassifier</code></a></li><li>ç¥ç»ç½‘ç»œå›å½’å™¨ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/DNNRegressor" target="_blank" rel="noopener"><code>tf.contrib.learn.DNNRegressor</code></a></li><li>å¹¿åº¦æ·±åº¦å›å½’ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/DNNLinearCombinedRegressor" target="_blank" rel="noopener"><code>tf.contrib.learn.DNNLinearCombinedRegressor</code></a></li><li>å¹¿åº¦æ·±åº¦åˆ†ç±» <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/DNNLinearCombinedClassifier" target="_blank" rel="noopener"><code>tf.contrib.learn.DNNLinearCombinedClassifier</code></a></li><li>çº¿æ€§åˆ†ç±»<a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/LinearClassifier" target="_blank" rel="noopener"><code>tf.contrib.learn.LinearClassifier</code></a></li><li>çº¿æ€§å›å½’ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/LinearRegressor" target="_blank" rel="noopener"><code>tf.contrib.learn.LinearRegressor</code></a></li><li>é€»è¾‘æ–¯è°›å›å½’ <a href="https://www.tensorflow.org/api_docs/python/tf/contrib/learn/LogisticRegressor" target="_blank" rel="noopener"><code>tf.contrib.learn.LogisticRegressor</code></a></li></ul><hr><h2 id="DNNRegressor"><a href="#DNNRegressor" class="headerlink" title="DNNRegressor"></a>DNNRegressor</h2><p>ä¸‹é¢ä»¥æ³¢å£«é¡¿æˆ¿ä»·é¢„æµ‹çš„ä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ DNNRegressor çš„ä½¿ç”¨ã€‚</p><p>æ³¢å£«é¡¿æˆ¿ä»·æ•°æ®é›†å¤§å°ä¸º 506*14ï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰ 506 ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬æœ‰ 13 ä¸ªç‰¹å¾ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯è¦é¢„æµ‹çš„æˆ¿ä»·ã€‚æ•°æ®é›†æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ scikit-learn çš„ <code>load_boston()</code> å‡½æ•°ç›´æ¥è½½å…¥ï¼Œè¿™é‡Œå¼•ç”¨ä¸‹UCI çš„è§£é‡Šï¼š</p><blockquote><ol><li>CRIM      per capita crime rate by town</li><li>ZN        proportion of residential land zoned for lots over 25,000 sq.ft.</li><li>INDUS     proportion of non-retail business acres per town</li><li>CHAS      Charles River dummy variable (= 1 if tract bounds river; 0 otherwise)</li><li>NOX       nitric oxides concentration (parts per 10 million)</li><li>RM        average number of rooms per dwelling</li><li>AGE       proportion of owner-occupied units built prior to 1940</li><li>DIS       weighted distances to five Boston employment centres</li><li>RAD       index of accessibility to radial highways</li><li>TAX      full-value property-tax rate per $10,000</li><li>PTRATIO  pupil-teacher ratio by town</li><li>B        1000(Bk - 0.63)^2 where Bk is the proportion of blacks by town</li><li>LSTAT    % lower status of the population</li><li>MEDV     Median value of owner-occupied homes in $1000â€™s</li></ol></blockquote><p>å¼€å§‹å‰å…ˆè¯´æ˜ä¸€ä¸‹ï¼ŒDNNRegressor çš„ä½¿ç”¨é€»è¾‘å’Œå…¶ä»–åº“çš„ä¸å¤ªä¸€æ ·ï¼Œå¦‚æœä½ æ¯”è¾ƒç†Ÿæ‚‰ TensorFlow çš„è¯å°±æ¯”è¾ƒå¥½ç†è§£ï¼šæˆ‘ä»¬æ˜¯å…ˆå®šä¹‰ä¸€äº›è®¡ç®—å›¾ï¼Œè¿™æ—¶å€™å¹¶ä¸çœŸæ­£çš„ä¼ å…¥æ•°æ®ï¼Œç„¶ååœ¨è®­ç»ƒçš„æ—¶å€™å»æ‰§è¡Œè¿™ä¸ªè®¡ç®—å›¾ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ—¶å€™æ‰å¼€å§‹å°†çœŸæ­£çš„æ•°æ®ç©¿è¿›å»ã€‚ç›¸å½“äºæ˜¯ç»„è£…ä¸€æ¡äº§å“çš„ç”Ÿäº§çº¿ï¼Œåˆšå¼€å§‹æˆ‘ä»¬åªæ˜¯æŠŠè¿™å°ç”Ÿäº§çº¿ç»„è£…å¥½ï¼Œå¹¶ä¸å¼€å§‹çœŸæ­£çš„ç”Ÿäº§äº§å“ï¼ˆä¿æœ‰æ•°æ®ï¼‰ï¼Œåˆ°æœ€åé˜¶æ®µï¼ˆè®­ç»ƒé˜¶æ®µï¼‰æ‰ä¼šçœŸæ­£çš„æŠŠåŸææ–™ã€Œå–‚ç»™ã€ç”Ÿäº§çº¿ä¸Šæ¥ç”Ÿäº§äº§å“ã€‚</p><p>ä¸‹é¢çš„ç¨‹åºå¤§è‡´ä¸Šæ˜¯è¿™ä¹ˆå‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li>è½½å…¥æ•°æ®</li><li>å®šä¹‰ <code>FeatureColumn</code></li><li>å®šä¹‰ regressor</li><li>è®­ç»ƒ</li><li>è¯„ä¼°</li><li>é¢„æµ‹</li></ol><h3 id="è½½å…¥æ•°æ®"><a href="#è½½å…¥æ•°æ®" class="headerlink" title="è½½å…¥æ•°æ®"></a>è½½å…¥æ•°æ®</h3><p>å¦‚ä¸Šæ‰€è¯´ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ scikit-learn çš„ <code>load_boston()</code> å‡½æ•°æ¥è½½å…¥æ•°æ®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">boston = load_boston()</span><br><span class="line">boston_df = pd.DataFrame(np.c_[boston.data, boston.target], columns=np.append(boston.feature_names, <span class="string">'MEDV'</span>))</span><br><span class="line">LABEL_COLUMN = [<span class="string">'MEDV'</span>]</span><br><span class="line">FEATURE_COLUMNS = [f <span class="keyword">for</span> f <span class="keyword">in</span> boston_df <span class="keyword">if</span> <span class="keyword">not</span> f <span class="keyword">in</span> LABEL_COLUMN]</span><br></pre></td></tr></table></figure><p><code>boston</code> æ˜¯ä¸€ä¸ª numpy å¤šç»´æ•°ç»„ï¼Œä¸ºäº†åé¢æ–¹ä¾¿è½¬æ¢æˆ pandas çš„ DataFrame ç±»å‹ï¼Œ<code>MEDV</code> å°±æ˜¯æˆ‘ä»¬è¦é¢„æµ‹çš„å˜é‡ã€‚</p><p>ç„¶åæˆ‘ä»¬ä½¿ç”¨ <code>train_test_split()</code> æ¥æŒ‰ç…§ 7:3 çš„æ¯”ä¾‹æ¥åˆ†å‰²æ•°æ®é›†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">X_train, X_test, y_train, y_test = train_test_split(boston_df[FEATURE_COLUMNS], boston_df[LABEL_COLUMN], test_size=<span class="number">0.3</span>)</span><br><span class="line">print(<span class="string">'è®­ç»ƒé›†ï¼š&#123;&#125;\næµ‹è¯•é›†ï¼š&#123;&#125;'</span>.format(X_train.shape, X_test.shape))</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è®­ç»ƒé›†ï¼š(354, 13)</span><br><span class="line">æµ‹è¯•é›†ï¼š(152, 13)</span><br></pre></td></tr></table></figure><p>åœ¨è¿›è¡Œä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•çš„çœ‹ä¸‹è¿™ä¸ªæ•°æ®é›†çš„åˆ†å¸ƒæƒ…å†µã€‚</p><p>å„ä¸ªå˜é‡çš„ violin å›¾ï¼Œä»è¿™äº›å›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¯ä¸ªå˜é‡çš„åˆ†å¸ƒæƒ…å†µï¼š</p><p><img src="http://img.blog.csdn.net/20170602195143390?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="violinplot"></p><p>14 ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³æƒ…å†µï¼š</p><p><img src="http://img.blog.csdn.net/20170602200737942?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="corrplot"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å¯ä»¥æŸ¥çœ‹å¤§å›¾</em></p><p>ä»è¿™ä¸ªå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡º RM ï¼ˆä½å®…å¹³å‡æˆ¿é—´æ•°ï¼‰ä¸æœ€ç»ˆçš„å”®ä»·æ˜¯æœ€æ­£ç›¸å…³çš„ï¼Œè€Œ LSTAT ï¼ˆäººå£ä¸­åœ°ä½ä½ä¸‹è€…çš„æ¯”ä¾‹ï¼‰æ˜¯æœ€è´Ÿç›¸å…³çš„ã€‚</p><h3 id="å®šä¹‰-FeatureColumn"><a href="#å®šä¹‰-FeatureColumn" class="headerlink" title="å®šä¹‰ FeatureColumn"></a>å®šä¹‰ <code>FeatureColumn</code></h3><p>TensorFlow ä½¿ç”¨ <a href="https://www.tensorflow.org/tutorials/linear#feature_columns_and_transformations" target="_blank" rel="noopener"><code>FeatureColumn</code></a> æ¥è¡¨ç¤ºæ•°æ®é›†ä¸­çš„ä¸€ä¸ªçš„ç‰¹å¾ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç‰¹å¾ç±»å‹ï¼ˆè¿ç»­æˆ–è€…åˆ†ç±»ï¼‰æŠŠåŸæ¥çš„ç‰¹å¾éƒ½è½¬æ¢æˆ <code>FeatureColumn</code>ã€‚æ­¤å¤„æ•°æ®å·²ç»éƒ½æ˜¯è¿ç»­æ•°å€¼äº†ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ <code>tf.contrib.layers.real_valued_column()</code> æ¥è½¬æ¢æˆ <code>FeatureColumn</code>ï¼Œå¦‚æœæ˜¯åˆ†ç±»å˜é‡ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>tf.contrib.layers.sparse_column_with_keys()</code> æˆ–è€… <code>tf.contrib.layers.sparse_column_with_hash_bucket()</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">feature_cols = [tf.contrib.layers.real_valued_column(k) <span class="keyword">for</span> k <span class="keyword">in</span> FEATURE_COLUMNS]</span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰-regressor"><a href="#å®šä¹‰-regressor" class="headerlink" title="å®šä¹‰ regressor"></a>å®šä¹‰ regressor</h3><p>è¿™é‡Œå°±åˆ°å®šä¹‰æ¨¡å‹çš„æ—¶å€™äº†ï¼Œä¹Ÿå°±æ˜¯ DNNRegressorï¼Œå°†æˆ‘ä»¬å‰é¢å®šä¹‰çš„ <code>FeatureColumn</code> ä¼ è¿›å»ï¼Œå†è®¾ç½®ä¸‹éšè—å±‚çš„å±‚æ•°å’Œç¥ç»å…ƒæ•°é‡ï¼ŒæŒ‡å®šæ¨¡å‹ä¿å­˜ç›®å½•ï¼ˆè®­ç»ƒå®Œæˆåå¯ä»¥ä½¿ç”¨ tensorboard å¯è§†åŒ–ç½‘ç»œç»“æ„å’Œè®­ç»ƒè¿‡ç¨‹ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">regressor = tf.contrib.learn.DNNRegressor(feature_columns=feature_cols, </span><br><span class="line">                                          hidden_units=[<span class="number">64</span>, <span class="number">128</span>], </span><br><span class="line">                                          model_dir=<span class="string">'./models/dnnregressor'</span>)</span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰-input-fn"><a href="#å®šä¹‰-input-fn" class="headerlink" title="å®šä¹‰ input_fn"></a>å®šä¹‰ <code>input_fn</code></h3><p>å®šä¹‰å®Œ regressor ä¹‹åå°±æ˜¯æ¨¡å‹çš„è®­ç»ƒäº†ï¼Œä½†æ˜¯åœ¨è®­ç»ƒå¼€å§‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸‹ä¼ ç»™æ¨¡å‹è®­ç»ƒçš„æ•°æ®çš„æ ¼å¼ï¼Œè¿™å°±æ˜¯ <a href="https://www.tensorflow.org/get_started/input_fn" target="_blank" rel="noopener"><code>input_fn</code></a> çš„ä½œç”¨ã€‚<code>input_fn</code> å¿…é¡»è¿”å› <code>feature_cols</code> å’Œ <code>labels</code>ã€‚</p><ul><li><code>feature_cols</code> æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œ key æ˜¯ç‰¹å¾çš„åå­—ï¼Œvalue æ˜¯å¯¹åº”çš„æ•°æ®ï¼ˆTensor æ ¼å¼ï¼‰</li><li><code>labels</code> æ˜¯ä¸€ä¸ª Tensorï¼Œå°±æ˜¯ä½ è¦é¢„æµ‹çš„å˜é‡</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">input_fn</span><span class="params">(df, label)</span>:</span></span><br><span class="line">    feature_cols = &#123;k: tf.constant(df[k].values) <span class="keyword">for</span> k <span class="keyword">in</span> FEATURE_COLUMNS&#125;</span><br><span class="line">    label = tf.constant(label.values)</span><br><span class="line">    <span class="keyword">return</span> feature_cols, label</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_input_fn</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''è®­ç»ƒé˜¶æ®µä½¿ç”¨çš„ input_fn'''</span></span><br><span class="line">    <span class="keyword">return</span> input_fn(X_train, y_train)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_input_fn</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">'''æµ‹è¯•é˜¶æ®µä½¿ç”¨çš„ input_fn'''</span></span><br><span class="line">    <span class="keyword">return</span> input_fn(X_test, y_test)</span><br></pre></td></tr></table></figure><h3 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h3><p>å®šä¹‰å®Œ <code>input_fn</code> æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹çœŸæ­£çš„è®­ç»ƒè¿‡ç¨‹äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">regressor.fit(input_fn=train_input_fn, steps=<span class="number">5000</span>)</span><br></pre></td></tr></table></figure><p>è®­ç»ƒé˜¶æ®µå’Œæµ‹è¯•é˜¶æ®µæ‰€ç”¨çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥åœ¨ä¸Šé¢æˆ‘åˆåˆ†åˆ«ä¸ºè®­ç»ƒå’Œæµ‹è¯•å†™äº†ä¸€ä¸ª <code>input_fn</code>ã€‚å½“ç„¶é™¤äº†è¿™ç§æ–¹å¼è¿˜æœ‰å…¶ä»–æ–¹å¼ï¼Œä½ å¯ä»¥åªå†™ä¸€ä¸ª <code>input_fn</code>ï¼Œç„¶ååœ¨ <code>fit</code> çš„æ—¶å€™ä½¿ç”¨ç±»ä¼¼ <code>input_fn=lambda: input_fn(training_set)</code> æ¥åˆ¶å®šä¼ å…¥çš„æ•°æ®é›†ã€‚æ³¨æ„ä½ ä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>input_fn=input_fn(training_set)</code> ï¼Œå› ä¸º <code>input_fn</code> å‚æ•°çš„å€¼æ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ã€‚</p><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ev = regressor.evaluate(input_fn=test_input_fn, steps=<span class="number">1</span>)</span><br><span class="line">print(<span class="string">'ev: &#123;&#125;'</span>.format(ev))</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç»“æœæ˜¯ä¸€ä¸ªå­—å…¸ï¼ŒåŒ…æ‹¬æœ€ç»ˆæŸå¤±å’Œè¿­ä»£æ­¥æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ev: &#123;&apos;loss&apos;: 32.229404, &apos;global_step&apos;: 5000&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä» TensorBoard å¯ä»¥çœ‹åˆ°æœ€ç»ˆçš„è®­ç»ƒæŸå¤±å’Œæµ‹è¯•æŸå¤±ï¼š</p><p><img src="http://img.blog.csdn.net/20170602215657871?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="loss"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å¯ä»¥æŸ¥çœ‹å¤§å›¾</em></p><p>æ•´ä¸ªè®¡ç®—å›¾æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="http://img.blog.csdn.net/20170602215843609?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="graph"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å¯ä»¥æŸ¥çœ‹å¤§å›¾</em></p><h3 id="é¢„æµ‹"><a href="#é¢„æµ‹" class="headerlink" title="é¢„æµ‹"></a>é¢„æµ‹</h3><p>ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œåªè¾“å‡ºå‰ 10 é¡¹é¢„æµ‹ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">predict = regressor.predict(input_fn=test_input_fn, as_iterable=<span class="keyword">False</span>)</span><br><span class="line">print(predict[:<span class="number">10</span>])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="number">25.04570198</span>  <span class="number">31.65488815</span>  <span class="number">11.31779861</span>  <span class="number">14.20497131</span>  <span class="number">31.12402344</span></span><br><span class="line">  <span class="number">37.50260925</span>  <span class="number">25.20910835</span>  <span class="number">24.17683983</span>  <span class="number">20.83440208</span>  <span class="number">35.22043991</span>]</span><br></pre></td></tr></table></figure><hr><h2 id="Trouble-Shooting"><a href="#Trouble-Shooting" class="headerlink" title="Trouble Shooting"></a>Trouble Shooting</h2><h3 id="InternalError-see-above-for-traceback-Blas-SGEMM-launch-failed"><a href="#InternalError-see-above-for-traceback-Blas-SGEMM-launch-failed" class="headerlink" title="InternalError (see above for traceback): Blas SGEMM launch failed"></a><code>InternalError (see above for traceback): Blas SGEMM launch failed</code></h3><p>å¦‚æœä½ çš„ç¨‹åºæŠ¥ç±»ä¼¼è¿™æ ·çš„é”™ï¼Œè¯´æ˜ä½ åœ¨ä½¿ç”¨ GPU è®¡ç®—ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰ä¸”ä½ çš„ GPU å¯ç”¨æ˜¾å­˜ä¸è¶³ï¼ŒTensorFlow æ€»æ˜¯è¯•å›¾ä¸ºè‡ªå·±åˆ†é…å…¨éƒ¨æ˜¾å­˜ï¼Œä¾‹å¦‚ä½ çš„æ˜¾å­˜æ˜¯ 2GBï¼Œé‚£ä¹ˆä»–å°±ä¼šè¯•å›¾ä¸ºè‡ªå·±åˆ†é… 2GBï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ä½ çš„æ˜¾å­˜ä¸ä¼šä¸€ç‚¹éƒ½ä¸è¢«å…¶ä»–ç¨‹åºå ç”¨çš„ï¼Œå¯¼è‡´ TensorFlow åˆ†é…æ˜¾å­˜å¤±è´¥ã€‚</p><p><strong>è§£å†³åŠæ³•</strong>æ˜¯åœ¨å®šä¹‰ regressor çš„æ—¶å€™ä½¿ç”¨ <code>config</code> å‚æ•°ä¸­çš„ <code>gpu_memory_fraction</code> æ¥æŒ‡å®šåˆ†é…ç»™ TensorFlow çš„æ˜¾å­˜å¤§å°ï¼ˆæ¯”ä¾‹ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># log_device_placement ç”¨äºè®°å½•å¹¶è¾“å‡ºä½¿ç”¨çš„è®¾å¤‡ï¼Œå¯ä»¥ä¸ç”¨å†™</span></span><br><span class="line">config = tf.contrib.learn.RunConfig(gpu_memory_fraction=<span class="number">0.3</span>, log_device_placement=<span class="keyword">True</span>)</span><br><span class="line">regressor = tf.contrib.learn.DNNRegressor(feature_columns=feature_cols, </span><br><span class="line">                                          hidden_units=[<span class="number">64</span>, <span class="number">128</span>], </span><br><span class="line">                                          model_dir=<span class="string">'./models/dnnregressor'</span>, </span><br><span class="line">                                          config=config)</span><br></pre></td></tr></table></figure><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;tf.contrib.learn.DNNRegressor&lt;/code&gt; æ˜¯ TensoFlow ä¸­å®ç°çš„ä¸€ä¸ªç¥ç»ç½‘ç»œå›å½’å™¨ã€‚ä¸€èˆ¬ç¥ç»ç½‘ç»œç”¨äºåˆ†ç±»é—®é¢˜çš„æ¯”è¾ƒå¤šï¼Œä½†æ˜¯åŒæ ·å¯ä»¥ç”¨äºå›å½’é—®é¢˜å’Œæ— ç›‘ç£å­¦ä¹ é—®é¢˜ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="https://secsilm.github.io/tags/Machine-Learning/"/>
    
      <category term="TensorFlow" scheme="https://secsilm.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>XGBoost åœ¨ Windows 10 å’Œ Ubuntu ä¸Šçš„å®‰è£…</title>
    <link href="https://secsilm.github.io/2017/05/18/installing-xgboost/"/>
    <id>https://secsilm.github.io/2017/05/18/installing-xgboost/</id>
    <published>2017-05-18T02:58:00.000Z</published>
    <updated>2017-12-23T00:22:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºä»€ä¹ˆæ˜¯ <code>XGBoost</code>ï¼Œæˆ‘åœ¨è¿™é‡Œä¸å†è§£é‡Šï¼Œå¦‚æœæœ‰æ—¶é—´çš„è¯å†å†™ä¸€ç¯‡æ–‡ç« æ¥è§£é‡Šï¼Œåœ¨æ•°æ®ç§‘å­¦é‡Œéå¸¸æœ‰ç”¨ã€‚å¤§å®¶å¯ä»¥å‚è€ƒ Tianqi Chen çš„è®ºæ–‡ <a href="https://arxiv.org/abs/1603.02754" target="_blank" rel="noopener">XGBoost: A Scalable Tree Boosting System</a> ï¼Œæœ¬ç¯‡æ–‡ç« åªæ˜¯åœ¨ Windows 10 å’Œ Ubuntu ä¸Šå®‰è£… <code>XGBoost</code> çš„ Python åŒ…çš„æ–¹æ³•ï¼ŒUbuntu ç‰ˆæœ¬ä¸º 16.04 LTSï¼ŒPython ç‰ˆæœ¬å‡ä¸º 3.5ï¼ŒAnacondaã€‚</p><a id="more"></a><hr><h2 id="Windows-10"><a href="#Windows-10" class="headerlink" title="Windows 10"></a>Windows 10</h2><h3 id="å®˜ç½‘"><a href="#å®˜ç½‘" class="headerlink" title="å®˜ç½‘"></a>å®˜ç½‘</h3><p><a href="https://xgboost.readthedocs.io/en/latest/build.html" target="_blank" rel="noopener">å®˜ç½‘</a> ä»‹ç»çš„æ–¹æ³•æ˜¯ä» <a href="https://github.com/dmlc/xgboost/" target="_blank" rel="noopener">GitHub</a> ç¼–è¯‘å®‰è£…ï¼Œä½†æ˜¯åœ¨æˆ‘çš„æœºå™¨ä¸Šæ²¡æœ‰æˆåŠŸï¼Œ<code>pip</code> åŒæ ·ä¸æˆåŠŸã€‚æœ‰å…´è¶£çš„è¯å¯ä»¥å‚è€ƒå®˜ç½‘å’Œ 2016 å¹´çš„ä¸€ç¯‡æ–‡ç«  <a href="https://www.ibm.com/developerworks/community/blogs/jfp/entry/Installing_XGBoost_For_Anaconda_on_Windows?lang=zh" target="_blank" rel="noopener"><br>Installing XGBoost For Anaconda on Windows</a> æ¥è¯•è¯•ã€‚</p><h3 id="Unofficial-Windows-Binaries-for-Python-Extension-Packages"><a href="#Unofficial-Windows-Binaries-for-Python-Extension-Packages" class="headerlink" title="Unofficial Windows Binaries for Python Extension Packages"></a>Unofficial Windows Binaries for Python Extension Packages</h3><p><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="noopener">è¿™ä¸ª</a> æ˜¯åŠ å·å¤§å­¦æä¾›çš„ä¸€ä¸ªéå®˜æ–¹åŒ…åˆ—è¡¨ï¼Œæä¾›äº†å¾ˆå¤š Python åŒ…çš„ <code>whl</code> æ–‡ä»¶ä¸‹è½½ï¼Œ<code>XGBoost</code> çš„åœ¨ <a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#xgboost" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼Œæˆ‘è‡ªå·±ä¸‹å¥½äº†ä¸€ä»½æ”¾åœ¨é‡Œ <a href="http://download.csdn.net/download/u010099080/9845455" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚æ ¹æ®ä½ çš„ç¯å¢ƒä¸‹è½½å¯¹åº”çš„åŒ…ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ Python 3.5ï¼ŒWindows 10 64 ä½ï¼Œé‚£å°±é€‰ä¸‹é¢çº¢æ¡†è¿™ä¸ªï¼š</p><p><img src="http://img.blog.csdn.net/20170518105305496?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"> </p><p>ç„¶åå†å‘½ä»¤è¡Œä¸­ä½¿ç”¨ä¸‹é¢çš„è¯­å¥å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install xgboost-0.6-cp35-cp35m-win_amd64.whl</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåä½¿ç”¨ <code>import xgboost</code> å¯¼å…¥å³å¯ã€‚å¯¼å…¥å®Œæˆåå¯èƒ½ä¼šæœ‰è­¦å‘Šæç¤ºï¼š</p><p><img src="http://img.blog.csdn.net/20170518105542912?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>ä¸è¿‡æš‚æ—¶ä¸å½±å“ï¼Œè¿™ä¸ªé—®é¢˜å·²ç»åœ¨ GitHub ç‰ˆæœ¬ä¿®å¤äº†ï¼Œä½†æ˜¯è¿™ä¸ª <code>whl</code> æ–‡ä»¶å¹¶ä¸æ˜¯æœ€æ–°çš„ã€‚</p><hr><h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><h3 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h3><p>æˆ‘åœ¨ Ubuntu ä¸Šä½¿ç”¨ pip æ–¹å¼å®‰è£…æˆåŠŸï¼Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ pip install xgboost</span><br><span class="line">Collecting xgboost</span><br><span class="line">  Downloading xgboost-0.6a2.tar.gz (1.2MB)</span><br><span class="line">    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1.2MB 1.0MB/s </span><br><span class="line">Requirement already satisfied: numpy <span class="keyword">in</span> /home/alan/.<span class="built_in">local</span>/lib/python3.5/site-packages (from xgboost)</span><br><span class="line">Requirement already satisfied: scipy <span class="keyword">in</span> /home/alan/anaconda3/lib/python3.5/site-packages (from xgboost)</span><br><span class="line">Requirement already satisfied: scikit-learn <span class="keyword">in</span> /home/alan/anaconda3/lib/python3.5/site-packages (from xgboost)</span><br><span class="line">Building wheels <span class="keyword">for</span> collected packages: xgboost</span><br><span class="line">Running setup.py bdist_wheel <span class="keyword">for</span> xgboost ... <span class="keyword">done</span></span><br><span class="line">Stored <span class="keyword">in</span> directory: /home/alan/.cache/pip/wheels/5e/c1/d6/522af54e5cc001fad4dd855117f8bf61b11d56443e06672e26</span><br><span class="line">Successfully built xgboost</span><br><span class="line">Installing collected packages: xgboost</span><br><span class="line">Successfully installed xgboost-0.6a2</span><br></pre></td></tr></table></figure><p>å®‰è£…åçš„ç‰ˆæœ¬ä¸º <code>0.6a2</code>ã€‚</p><h3 id="ç¼–è¯‘å®‰è£…"><a href="#ç¼–è¯‘å®‰è£…" class="headerlink" title="ç¼–è¯‘å®‰è£…"></a>ç¼–è¯‘å®‰è£…</h3><p>åŒæ ·å‚ç…§ <a href="http://xgboost.readthedocs.io/en/latest/build.html#building-on-ubuntu-debian" target="_blank" rel="noopener">å®˜ç½‘</a> çš„å®‰è£…æ–¹æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --recursive https://github.com/dmlc/xgboost</span><br><span class="line"><span class="built_in">cd</span> xgboost</span><br><span class="line">make -j4</span><br></pre></td></tr></table></figure><p>ç„¶åå†è¿›å…¥ <code>python-package</code> ç›®å½•ï¼Œä½¿ç”¨ <code>sudo python setup.py install</code> å®‰è£… Python åŒ…ã€‚</p><hr><h2 id="Issues"><a href="#Issues" class="headerlink" title="Issues"></a>Issues</h2><h3 id="1-OSError-version-39-GLIBCXX-3-4-20-39-not-found"><a href="#1-OSError-version-39-GLIBCXX-3-4-20-39-not-found" class="headerlink" title="#1 OSError: version &#39;GLIBCXX_3.4.20&#39; not found"></a>#1 <code>OSError: version &#39;GLIBCXX_3.4.20&#39; not found</code></h3><p>Ubuntu ä¸‹ï¼Œåœ¨å®‰è£…å®Œæˆåç”¨ <code>import xgboost</code> å¯¼å…¥çš„æ—¶å€™ä½ å¯èƒ½é‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼š</p><p><img src="http://img.blog.csdn.net/20170522102222313?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br><em>å³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€æŸ¥çœ‹å¤§å›¾</em></p><p>è¿™æ—¶ä½ å¯ä»¥ä½¿ç”¨ <code>conda</code> å®‰è£… <code>libgcc</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install libgcc</span><br></pre></td></tr></table></figure><p>ç„¶åå†å¯¼å…¥é—®é¢˜å°±åº”è¯¥è§£å†³äº†ã€‚</p><p>å…¶ä»–é—®é¢˜å¯ä»¥å‚è€ƒ <a href="http://www.exegetic.biz/blog/2015/12/installing-xgboost-ubuntu/" target="_blank" rel="noopener">Installing XGBoost on Ubuntu</a> ã€‚</p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºä»€ä¹ˆæ˜¯ &lt;code&gt;XGBoost&lt;/code&gt;ï¼Œæˆ‘åœ¨è¿™é‡Œä¸å†è§£é‡Šï¼Œå¦‚æœæœ‰æ—¶é—´çš„è¯å†å†™ä¸€ç¯‡æ–‡ç« æ¥è§£é‡Šï¼Œåœ¨æ•°æ®ç§‘å­¦é‡Œéå¸¸æœ‰ç”¨ã€‚å¤§å®¶å¯ä»¥å‚è€ƒ Tianqi Chen çš„è®ºæ–‡ &lt;a href=&quot;https://arxiv.org/abs/1603.02754&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;XGBoost: A Scalable Tree Boosting System&lt;/a&gt; ï¼Œæœ¬ç¯‡æ–‡ç« åªæ˜¯åœ¨ Windows 10 å’Œ Ubuntu ä¸Šå®‰è£… &lt;code&gt;XGBoost&lt;/code&gt; çš„ Python åŒ…çš„æ–¹æ³•ï¼ŒUbuntu ç‰ˆæœ¬ä¸º 16.04 LTSï¼ŒPython ç‰ˆæœ¬å‡ä¸º 3.5ï¼ŒAnacondaã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Data Science" scheme="https://secsilm.github.io/tags/Data-Science/"/>
    
      <category term="Machine Learning" scheme="https://secsilm.github.io/tags/Machine-Learning/"/>
    
  </entry>
  
  <entry>
    <title>Python è‡ªåŠ¨ç”Ÿæˆå‘½ä»¤è¡Œå·¥å…· - fire ç®€ä»‹</title>
    <link href="https://secsilm.github.io/2017/04/22/python-fire/"/>
    <id>https://secsilm.github.io/2017/04/22/python-fire/</id>
    <published>2017-04-22T02:16:00.000Z</published>
    <updated>2017-12-23T00:22:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>Python ä¸­ç”¨äºç”Ÿæˆå‘½ä»¤è¡Œæ¥å£ï¼ˆCommand Line Interfaces, CLIsï¼‰çš„å·¥å…·å·²ç»æœ‰ä¸€äº›äº†ï¼Œä¾‹å¦‚å·²ç»æˆä¸º Python æ ‡å‡†åº“çš„ <a href="https://docs.python.org/3/library/argparse.html" target="_blank" rel="noopener">argparse</a> å’Œç¬¬ä¸‰æ–¹çš„ <a href="http://click.pocoo.org/5/" target="_blank" rel="noopener">click</a> ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆä¸é”™çš„å·¥å…·ã€‚ä½†æ˜¯è¿™äº›å·¥å…·ä¸º Python ç¨‹åºç”Ÿæˆ CLIs çš„æ—¶å€™ç¨æ˜¾éº»çƒ¦ï¼Œéœ€è¦å¢åŠ çš„åœ°æ–¹æ¯”è¾ƒå¤šï¼Œè¿‡ç¨‹ç¨æ˜¾ç¹çã€‚ä»Šå¤©ä»‹ç»çš„è¿™ä¸ªå·¥å…·ï¼Œå‡ ä¹å¯ä»¥ä¸æ”¹å˜åŸå§‹ä»£ç å°±å¯ä»¥ç”Ÿæˆ CLIsï¼Œæ˜¯ Google äº ä»Šå¹´ï¼ˆ2017 å¹´ï¼‰3 æœˆ 2 æ—¥å®£å¸ƒåœ¨ <a href="https://github.com/google/python-fire" target="_blank" rel="noopener">GitHub</a> ä¸Šå¼€æºçš„ã€‚</p><a id="more"></a><p><img src="http://img.blog.csdn.net/20170421194937214?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMDA5OTA4MA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="fire å¼€æº"></p><p>æ–‡ä¸­çš„ä¸‰ä¸ªç¨‹åºæ–‡ä»¶å¯ä»¥åœ¨ <a href="http://download.csdn.net/download/u010099080/9821999" target="_blank" rel="noopener">è¿™é‡Œ</a> æ‰“åŒ…ä¸‹è½½ã€‚</p><hr><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>è¿™é‡Œæˆ‘ä¼šåˆ—å‡ºå¯¹æœ¬æ–‡çš„æ›´æ–°ã€‚</p><ul><li>2017 å¹´ 10 æœˆ 18 æ—¥ï¼šä¼˜åŒ–æ’ç‰ˆï¼Œä¸å…¶ä»–åšæ–‡ä¿æŒé£æ ¼ç»Ÿä¸€ã€‚</li></ul><hr><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>å¤§è‡´çš„ç®€ä»‹æˆ‘åœ¨ä¸Šé¢ç®€å•è¯´äº†ä¸‹ï¼Œä¸‹é¢æˆ‘å¼•ç”¨ä¸‹å®˜æ–¹ç®€ä»‹ï¼š</p><blockquote><p>Python Fire is a library for creating command line interfaces (CLIs) from absolutely any Python object.</p><ul><li>Python Fire is a simple way to create a CLI in Python.</li><li>Python Fire is a helpful tool for developing and debugging Python code.</li><li>Python Fire helps with exploring existing code or turning other peopleâ€™s code into a CLI.</li><li>Python Fire makes transitioning between Bash and Python easier.</li><li>Python Fire makes using a Python REPL easier by setting up the REPL with the modules and variables youâ€™ll need already imported and created.</li></ul></blockquote><p>å¯ä»¥çœ‹å‡ºæ¥ï¼ŒFire ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç”Ÿæˆ CLIs çš„å·¥å…·ï¼Œè€Œä¸”è¿˜å¯ä»¥è°ƒè¯• Python ç¨‹åºï¼Œäº¤äº’å¼çš„ä½¿ç”¨ Fire ã€‚</p><hr><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œ <code>pip install fire</code> å³å¯å®‰è£…ã€‚</p><hr><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><p>ä½¿ç”¨ <code>fire</code> ç”Ÿæˆ CLIs çš„åŸºæœ¬ç”¨æ³•å°±æ˜¯ä½¿ç”¨ <code>fire.Fire()</code>ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„å‚æ•°ï¼Œç”¨å®˜æ–¹çš„è¯´æ³•å°±æ˜¯ <em>any Python object</em> ã€‚ä¸‹é¢æˆ‘ä¸¾ä¸‰ä¸ªä¾‹å­ç®€å•çš„è¯´æ˜ä¸€ä¸‹ç”¨æ³•ï¼Œæ›´å¤šçš„ç”¨æ³•å¤§å®¶å¯ä»¥å‚è€ƒ <a href="https://github.com/google/python-fire/blob/master/doc/guide.md" target="_blank" rel="noopener">The Python Fire Guide</a> å’Œ <a href="https://github.com/google/python-fire/blob/master/doc/using-cli.md" target="_blank" rel="noopener">Using a Fire CLI</a> ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­å‡æ˜¯ä»¥è®¡ç®—æ—¶é—´å·®ï¼ˆä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„å¤©æ•°ï¼‰çš„ç¨‹åºä¸ºä¾‹ã€‚</p><h3 id="å•ä¸ªå‡½æ•°"><a href="#å•ä¸ªå‡½æ•°" class="headerlink" title="å•ä¸ªå‡½æ•°"></a>å•ä¸ªå‡½æ•°</h3><p>æ–‡ä»¶ <code>test-fire.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fire</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cal_days</span><span class="params">(date_str1, date_str2)</span>:</span></span><br><span class="line">    <span class="string">'''è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°'''</span></span><br><span class="line"></span><br><span class="line">    date_str1 = str(date_str1)</span><br><span class="line">    date_str2 = str(date_str2)</span><br><span class="line">    d1 = datetime.datetime.strptime(date_str1, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    d2 = datetime.datetime.strptime(date_str2, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    delta = d1 - d2</span><br><span class="line">    <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    fire.Fire(cal_days)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºä¸­åªæœ‰ä¸€ä¸ªå‡½æ•° <code>cal_days</code>ï¼Œæœ€åä½¿ç”¨ <code>fire.Fire(cal_days)</code> æ¥ç”Ÿæˆ CLIsã€‚</p><p>æˆ‘ä»¬å¯ä»¥å…ˆç”¨ä¸‹é¢çš„è¯­å¥æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire.py</span><br><span class="line">Fire trace:</span><br><span class="line">1. Initial component</span><br><span class="line">2. (<span class="string">'The function received no value for the required argument:'</span>, <span class="string">'date_str1'</span>)</span><br><span class="line"></span><br><span class="line">Type:        <span class="keyword">function</span></span><br><span class="line">String form: &lt;<span class="keyword">function</span> cal_days at 0x000002F0099B7F28&gt;</span><br><span class="line">File:        d:\masterfiles\notebook\<span class="built_in">test</span>-fire.py</span><br><span class="line">Line:        4</span><br><span class="line">Docstring:   è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°</span><br><span class="line"></span><br><span class="line">Usage:       <span class="built_in">test</span>-fire.py DATE_STR1 DATE_STR2</span><br><span class="line">             <span class="built_in">test</span>-fire.py --date-str1 DATE_STR1 --date-str2 DATE_STR2</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¼ ç»™ <code>fire.Fire()</code> çš„å‚æ•°ç±»å‹ï¼ˆ<code>function</code>ï¼‰ã€æ–‡ä»¶è·¯å¾„ã€æ–‡æ¡£å­—ç¬¦ä¸²ã€å‚æ•°ç”¨æ³•ç­‰ä¿¡æ¯ã€‚</p><p>ç°åœ¨æˆ‘ä»¬è¯•ç€è®¡ç®—ä¸€ä¸‹ 2017 å¹´ 4 æœˆ 21 å·å’Œ 2017 å¹´ 4 æœˆ 1 å·å·®äº†å¤šå°‘å¤©ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire.py 20170421 20170401</span><br><span class="line">20</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>python test-fire.py --date-str1 20170421 --date-str2 20170401</code>ã€‚</p><p>æ­¤å¤–ï¼Œå¯¹äºè¿™ç§å•ä¸ªå‡½æ•°çš„æƒ…å†µï¼Œç¨‹åºçš„æœ€åä¸€è¡Œ <code>fire.Fire(cal_days)</code> å¯ä»¥æ”¹ä¸º <code>fire.Fire()</code>ï¼Œç»“æœå®Œå…¨ä¸€æ ·ï¼Œ<code>fire.Fire()</code> ä¼šé»˜è®¤ä½¿ç”¨ <code>cal_days()</code> å‡½æ•°ã€‚</p><hr><h3 id="å¤šä¸ªå‡½æ•°"><a href="#å¤šä¸ªå‡½æ•°" class="headerlink" title="å¤šä¸ªå‡½æ•°"></a>å¤šä¸ªå‡½æ•°</h3><p>æ–‡ä»¶ <code>test-fire-2func.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fire</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cal_days</span><span class="params">(date_str1, date_str2)</span>:</span></span><br><span class="line">    <span class="string">'''è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°'''</span></span><br><span class="line"></span><br><span class="line">    date_str1 = str(date_str1)</span><br><span class="line">    date_str2 = str(date_str2)</span><br><span class="line">    d1 = datetime.datetime.strptime(date_str1, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    d2 = datetime.datetime.strptime(date_str2, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    delta = d1 - d2</span><br><span class="line">    <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">days2today</span><span class="params">(date_str)</span>:</span></span><br><span class="line">    <span class="string">'''è®¡ç®—æŸå¤©è·ç¦»ä»Šå¤©çš„å¤©æ•°'''</span></span><br><span class="line"></span><br><span class="line">    date_str = str(date_str)</span><br><span class="line">    d = datetime.datetime.strptime(date_str, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">    delta = datetime.datetime.now() - d</span><br><span class="line">    <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    fire.Fire()</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç¨‹åºæ¯” <code>test-fire.py</code> å¤šäº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯ç»“å°¾å¤„ä»ç„¶ä½¿ç”¨ <code>fire.Fire()</code> æ¥ç”Ÿæˆ CLIsã€‚æˆ‘ä»¬å…ˆä¸è¾“ä»»ä½•å‚æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire-2func.py 20170401</span><br><span class="line">Fire trace:</span><br><span class="line">1. Initial component</span><br><span class="line">2. (<span class="string">'Cannot find target in dict'</span>, <span class="string">'20170401'</span>, &#123;<span class="string">'__name__'</span>: <span class="string">'__main__'</span>, <span class="string">'datetime'</span>: &lt;module <span class="string">'datetime'</span> from <span class="string">'C:\\Users\\secsi\\Anaconda3\\lib\\datetime.py'</span>&gt;, <span class="string">'cal_days'</span>: &lt;<span class="keyword">function</span> cal_days at 0x0000027A855E7F28&gt;, <span class="string">'days2today'</span>: &lt;<span class="keyword">function</span> days2today at 0x0000027A86EC6B70&gt;, <span class="string">'__loader__'</span>: &lt;_frozen_importlib_external.SourceFileLoader object at 0x0000027A85655A90&gt;, <span class="string">'__file__'</span>: <span class="string">'test-fire-2func.py'</span>, <span class="string">'__cached__'</span>: None, <span class="string">'fire'</span>: &lt;module <span class="string">'fire'</span> from <span class="string">'C:\\Users\\secsi\\Anaconda3\\lib\\site-packages\\fire\\__init__.py'</span>&gt;, <span class="string">'__package__'</span>: None, <span class="string">'__builtins__'</span>: &lt;module <span class="string">'builtins'</span> (built-in)&gt;, <span class="string">'__doc__'</span>: None, <span class="string">'__spec__'</span>: None&#125;)</span><br><span class="line"></span><br><span class="line">Type:        dict</span><br><span class="line">String form: &#123;<span class="string">'__name__'</span>: <span class="string">'__main__'</span>, <span class="string">'datetime'</span>: &lt;module <span class="string">'datetime'</span> from <span class="string">'C:\\Users\\secsi\\Anaconda3\\lib\\d &lt;...&gt; kage__'</span>: None, <span class="string">'__builtins__'</span>: &lt;module <span class="string">'builtins'</span> (built-in)&gt;, <span class="string">'__doc__'</span>: None, <span class="string">'__spec__'</span>: None&#125;</span><br><span class="line">Length:      12</span><br><span class="line"></span><br><span class="line">Usage:       <span class="built_in">test</span>-fire-2func.py</span><br><span class="line">             <span class="built_in">test</span>-fire-2func.py datetime</span><br><span class="line">             <span class="built_in">test</span>-fire-2func.py cal-days</span><br><span class="line">             <span class="built_in">test</span>-fire-2func.py days2today</span><br><span class="line">             <span class="built_in">test</span>-fire-2func.py fire</span><br></pre></td></tr></table></figure><p>ç¨‹åºä¸­æœ‰ä¸ªä¸¤ä¸ªå‡½æ•°ï¼Œè€Œæˆ‘ä»¬è¿è¡Œ <code>python test-fire-2func.py 20170401</code> çš„æ—¶å€™å´æ²¡æœ‰æŒ‡å®šä½¿ç”¨å“ªä¸ªå‡½æ•°ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p><p>æ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire-2func.py days2today 20170401</span><br><span class="line">21</span><br><span class="line">$ python <span class="built_in">test</span>-fire-2func.py cal_days 20170422 20170401</span><br><span class="line">21</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´åœ¨åé¢è·Ÿä¸Šè¦ä½¿ç”¨çš„å‡½æ•°åã€‚</p><hr><h3 id="å¯¹è±¡ï¼ˆç±»ï¼‰"><a href="#å¯¹è±¡ï¼ˆç±»ï¼‰" class="headerlink" title="å¯¹è±¡ï¼ˆç±»ï¼‰"></a>å¯¹è±¡ï¼ˆç±»ï¼‰</h3><p><code>Fire</code> æ—¢ç„¶èƒ½å¤Ÿ <em>fire</em> ä»»ä½• Python å¯¹è±¡ï¼Œé‚£ä¹ˆç»™ <code>fire.Fire()</code> ä¼ ä¸€ä¸ªç±»ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><p>æ–‡ä»¶ <code>test-fire-class.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fire</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DateStr</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cal_days</span><span class="params">(self, date_str1, date_str2)</span>:</span></span><br><span class="line">        <span class="string">'''è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°'''</span></span><br><span class="line">        date_str1 = str(date_str1)</span><br><span class="line">        date_str2 = str(date_str2)</span><br><span class="line">        d1 = datetime.datetime.strptime(date_str1, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">        d2 = datetime.datetime.strptime(date_str2, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">        delta = d1 - d2</span><br><span class="line">        <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">days2today</span><span class="params">(self, date_str)</span>:</span></span><br><span class="line">        <span class="string">'''è®¡ç®—æŸå¤©è·ç¦»ä»Šå¤©çš„å¤©æ•°'''</span></span><br><span class="line">        date_str = str(date_str)</span><br><span class="line">        d = datetime.datetime.strptime(date_str, <span class="string">'%Y%m%d'</span>)</span><br><span class="line">        delta = datetime.datetime.now() - d</span><br><span class="line">        <span class="keyword">return</span> delta.days</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    fire.Fire(DateStr)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘å®šä¹‰äº†ä¸€ä¸ª <code>DateStr</code> ç±»ï¼Œæœ‰ä¸¤ä¸ªç±»æ–¹æ³• <code>cal_days</code> å’Œ <code>days2today</code> ï¼Œé‚£ä¹ˆæˆ‘åªéœ€ <code>fire.Fire(DateStr)</code> å°±å¯ä»¥è°ƒç”¨è¿™ä¸¤ä¸ªç±»æ–¹æ³•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ python <span class="built_in">test</span>-fire-class.py days2today 20170401</span><br><span class="line">21</span><br><span class="line">$ python <span class="built_in">test</span>-fire-class.py cal-days 20170422 20170401</span><br><span class="line">21</span><br></pre></td></tr></table></figure><hr><h2 id="è¿˜æœ‰å‡ ç‚¹"><a href="#è¿˜æœ‰å‡ ç‚¹" class="headerlink" title="è¿˜æœ‰å‡ ç‚¹"></a>è¿˜æœ‰å‡ ç‚¹</h2><ul><li><code>fire</code> é»˜è®¤ä½¿ç”¨ <code>-</code> ä½œä¸ºå‚æ•°åˆ†éš”ç¬¦ï¼Œæ‰€ä»¥å¦‚æœä½ è¦åœ¨å‘½ä»¤è¡Œä¼ å…¥ç±»ä¼¼ <code>2017-04-22</code> çš„å‚æ•°æ—¶ï¼Œé‚£ä¹ˆç¨‹åºæ¥æ”¶åˆ°çš„å‚æ•°å°±è‚¯å®šä¸æ˜¯ <code>2017-04-22</code> äº†ï¼Œä½ éœ€è¦ä½¿ç”¨ <code>--separator</code> æ¥æ”¹å˜åˆ†éš”ç¬¦ï¼Œå‚è€ƒ <a href="https://github.com/google/python-fire/blob/master/doc/using-cli.md#separator-flag" target="_blank" rel="noopener">Changing the Separator</a></li><li><code>fire</code> ä¼šè‡ªåŠ¨åŒºåˆ†ä½ åœ¨å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°çš„ç±»å‹ï¼Œä¾‹å¦‚ <code>20170422</code> ä¼šè‡ªåŠ¨è¯†åˆ«æˆ <code>int</code>ï¼Œ<code>hello</code> ä¼šè‡ªåŠ¨è¯†åˆ«æˆ <code>str</code>ï¼Œ<code>&#39;(1,2)&#39;</code> ä¼šè‡ªåŠ¨è¯†åˆ«æˆ <code>tuple</code>ï¼Œ<code>&#39;{&quot;name&quot;: &quot;Alan Lee&quot;}&#39;</code> ä¼šè‡ªåŠ¨è¯†åˆ«æˆ <code>dict</code>ã€‚ä½†æ˜¯ä½ å¦‚æœæƒ³è¦ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ <code>20170422</code> æ€ä¹ˆåŠï¼Ÿé‚£å°±éœ€è¦è¿™æ ·å†™ï¼š<code>&#39;&quot;20170422&quot;&#39;</code> æˆ–è€… <code>&quot;&#39;20170422&#39;&quot;</code> æˆ–è€… <code>\&quot;20170422\&quot;</code>ï¼Œæ€»ä¹‹å‘¢ï¼Œå°±æ˜¯åŠ ä¸€ä¸ªè½¬ä¹‰ï¼Œå› ä¸ºå‘½ä»¤è¡Œé»˜è®¤ä¼šåƒæ‰ä½ çš„å¼•å·ã€‚å‚è€ƒ <a href="https://github.com/google/python-fire/blob/master/doc/guide.md#user-content-argument-parsing" target="_blank" rel="noopener">Argument Parsing</a></li></ul><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Python ä¸­ç”¨äºç”Ÿæˆå‘½ä»¤è¡Œæ¥å£ï¼ˆCommand Line Interfaces, CLIsï¼‰çš„å·¥å…·å·²ç»æœ‰ä¸€äº›äº†ï¼Œä¾‹å¦‚å·²ç»æˆä¸º Python æ ‡å‡†åº“çš„ &lt;a href=&quot;https://docs.python.org/3/library/argparse.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;argparse&lt;/a&gt; å’Œç¬¬ä¸‰æ–¹çš„ &lt;a href=&quot;http://click.pocoo.org/5/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;click&lt;/a&gt; ï¼Œè¿™äº›éƒ½æ˜¯å¾ˆä¸é”™çš„å·¥å…·ã€‚ä½†æ˜¯è¿™äº›å·¥å…·ä¸º Python ç¨‹åºç”Ÿæˆ CLIs çš„æ—¶å€™ç¨æ˜¾éº»çƒ¦ï¼Œéœ€è¦å¢åŠ çš„åœ°æ–¹æ¯”è¾ƒå¤šï¼Œè¿‡ç¨‹ç¨æ˜¾ç¹çã€‚ä»Šå¤©ä»‹ç»çš„è¿™ä¸ªå·¥å…·ï¼Œå‡ ä¹å¯ä»¥ä¸æ”¹å˜åŸå§‹ä»£ç å°±å¯ä»¥ç”Ÿæˆ CLIsï¼Œæ˜¯ Google äº ä»Šå¹´ï¼ˆ2017 å¹´ï¼‰3 æœˆ 2 æ—¥å®£å¸ƒåœ¨ &lt;a href=&quot;https://github.com/google/python-fire&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt; ä¸Šå¼€æºçš„ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://secsilm.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>å¥‡å¼‚å€¼åˆ†è§£ SVD çš„æ•°å­¦è§£é‡Š</title>
    <link href="https://secsilm.github.io/2017/03/29/understanding-svd/"/>
    <id>https://secsilm.github.io/2017/03/29/understanding-svd/</id>
    <published>2017-03-29T04:33:00.000Z</published>
    <updated>2017-12-25T01:22:10.817Z</updated>
    
    <content type="html"><![CDATA[<p>å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSingular Value Decompositionï¼ŒSVDï¼‰æ˜¯ä¸€ç§çŸ©é˜µåˆ†è§£ï¼ˆMatrix Decompositionï¼‰çš„æ–¹æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒçŸ©é˜µåˆ†è§£è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œä¾‹å¦‚ç‰¹å¾åˆ†è§£ï¼ˆEigendecompositionï¼‰ã€LUåˆ†è§£ï¼ˆLU decompositionï¼‰ã€QRåˆ†è§£ï¼ˆQR decompositionï¼‰å’Œæåˆ†è§£ï¼ˆPolar decompositionï¼‰ç­‰ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦è¯´ä¸‹å¥‡å¼‚å€¼åˆ†è§£ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨æœºå™¨å­¦ä¹ çš„ä¸€äº›ç®—æ³•é‡Œå æœ‰é‡è¦åœ°ä½ã€‚</p><a id="more"></a><hr><h2 id="ç›¸å…³æ¦‚å¿µ"><a href="#ç›¸å…³æ¦‚å¿µ" class="headerlink" title="ç›¸å…³æ¦‚å¿µ"></a>ç›¸å…³æ¦‚å¿µ</h2><p><em>å‚è€ƒè‡ªç»´åŸºç™¾ç§‘ã€‚</em></p><ul><li><strong>æ­£äº¤çŸ©é˜µ</strong>ï¼šè‹¥ä¸€ä¸ªæ–¹é˜µå…¶è¡Œä¸åˆ—çš†ä¸ºæ­£äº¤çš„å•ä½å‘é‡ï¼Œåˆ™è¯¥çŸ©é˜µä¸ºæ­£äº¤çŸ©é˜µï¼Œä¸”è¯¥çŸ©é˜µçš„è½¬ç½®å’Œå…¶é€†ç›¸ç­‰ã€‚ä¸¤ä¸ªå‘é‡æ­£äº¤çš„æ„æ€æ˜¯ä¸¤ä¸ªå‘é‡çš„å†…ç§¯ä¸º 0</li><li><strong>æ­£å®šçŸ©é˜µ</strong>ï¼šå¦‚æœå¯¹äºæ‰€æœ‰çš„éé›¶å®ç³»æ•°å‘é‡ $z$ï¼Œéƒ½æœ‰ $z^TAz&gt;0$ï¼Œåˆ™ç§°çŸ©é˜µ $A$ æ˜¯æ­£å®šçš„ã€‚æ­£å®šçŸ©é˜µçš„è¡Œåˆ—å¼å¿…ç„¶å¤§äº 0ï¼Œ æ‰€æœ‰ç‰¹å¾å€¼ä¹Ÿå¿…ç„¶ &gt; 0ã€‚ç›¸å¯¹åº”çš„ï¼ŒåŠæ­£å®šçŸ©é˜µçš„è¡Œåˆ—å¼å¿…ç„¶ â‰¥ 0ã€‚</li></ul><hr><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>ä¸‹é¢å¼•ç”¨ <a href="https://en.wikipedia.org/wiki/Singular_value_decomposition" target="_blank" rel="noopener">SVD åœ¨ç»´åŸºç™¾ç§‘ä¸­çš„å®šä¹‰</a>ã€‚</p><blockquote><p>In linear algebra, the <strong>singular value decomposition</strong> (<strong>SVD</strong>) is a factorization of a real or complex matrix. It is the generalization of the eigendecomposition of a positive semidefinite normal matrix (for example, a symmetric matrix with positive eigenvalues) to any $ m\times n $ matrix via an extension of polar decomposition. </p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ SVD æ˜¯çº¿ä»£ä¸­å¯¹äºå®æ•°çŸ©é˜µå’Œå¤æ•°çŸ©é˜µçš„åˆ†è§£ï¼Œå°†ç‰¹å¾åˆ†è§£ä» <em>åŠæ­£å®šçŸ©é˜µ</em> æ¨å¹¿åˆ°ä»»æ„ $ m\times n $ çŸ©é˜µã€‚</p><p><strong>æ³¨æ„ï¼šæœ¬ç¯‡æ–‡ç« å†…å¦‚æœªä½œè¯´æ˜çŸ©é˜µå‡æŒ‡å®æ•°çŸ©é˜µã€‚</strong></p><p>å‡è®¾æœ‰ $ m\times n $ çš„çŸ©é˜µ $A$ ï¼Œé‚£ä¹ˆ SVD å°±æ˜¯è¦æ‰¾åˆ°å¦‚ä¸‹å¼çš„è¿™ä¹ˆä¸€ä¸ªåˆ†è§£ï¼Œå°† $A$ åˆ†è§£ä¸º 3 ä¸ªçŸ©é˜µçš„ä¹˜ç§¯ï¼š</p><script type="math/tex; mode=display">A_{m \times n} = U_{m \times m}\Sigma_{m \times n} V^T_{n \times n}</script><p>å…¶ä¸­ï¼Œ$U$ å’Œ $V$ éƒ½æ˜¯<strong>æ­£äº¤çŸ©é˜µ</strong> ï¼ˆOrthogonal Matrixï¼‰ï¼Œåœ¨å¤æ•°åŸŸå†…çš„è¯å°±æ˜¯é…‰çŸ©é˜µï¼ˆUnitary Matrixï¼‰ï¼Œå³ </p><script type="math/tex; mode=display">U^TU = E_{m \times m}</script><script type="math/tex; mode=display">V^TV=E_{n \times n}</script><p> æ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¯´ $U$ çš„è½¬ç½®ç­‰äº $U$ çš„é€†ï¼Œ$V$ çš„è½¬ç½®ç­‰äº $V$ çš„é€†ï¼š</p><script type="math/tex; mode=display">U^T = U^{-1}</script><script type="math/tex; mode=display">V^T = V^{-1}</script><p>è€Œ $ \Sigma $ å°±æ˜¯ä¸€ä¸ªéè´Ÿå®å¯¹è§’çŸ©é˜µã€‚</p><p>é‚£ä¹ˆ $U$ å’Œ $V$ ä»¥åŠ $ \Sigma $ æ˜¯å¦‚ä½•æ„æˆçš„å‘¢ï¼Ÿ</p><hr><h2 id="æ±‚è§£"><a href="#æ±‚è§£" class="headerlink" title="æ±‚è§£"></a>æ±‚è§£</h2><p>$U$ å’Œ $V$ çš„åˆ—åˆ†åˆ«å«åš $A$ çš„ <strong>å·¦å¥‡å¼‚å‘é‡</strong>ï¼ˆleft-singular vectorsï¼‰å’Œ <strong>å³å¥‡å¼‚å‘é‡</strong>ï¼ˆright-singular vectorsï¼‰ï¼Œ$ \Sigma $ çš„å¯¹è§’çº¿ä¸Šçš„å€¼å«åš $A$ çš„å¥‡å¼‚å€¼ï¼ˆsingular valuesï¼‰ã€‚</p><p>å…¶å®æ•´ä¸ªæ±‚è§£ SVD çš„è¿‡ç¨‹å°±æ˜¯æ±‚è§£è¿™ 3 ä¸ªçŸ©é˜µçš„è¿‡ç¨‹ï¼Œè€Œæ±‚è§£è¿™ 3 ä¸ªçŸ©é˜µçš„è¿‡ç¨‹å°±æ˜¯æ±‚è§£ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡çš„è¿‡ç¨‹ï¼Œé—®é¢˜å°±åœ¨äº <strong>æ±‚è°çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡</strong>ã€‚</p><ul><li>$U$ çš„åˆ—ç”± $AA^T$ çš„å•ä½åŒ–è¿‡çš„ç‰¹å¾å‘é‡æ„æˆ</li><li>$V$ çš„åˆ—ç”± $A^TA$ çš„å•ä½åŒ–è¿‡çš„ç‰¹å¾å‘é‡æ„æˆ</li><li>$ \Sigma $ çš„å¯¹è§’å…ƒç´ æ¥æºäº $AA^T$ æˆ– $A^TA$ çš„ç‰¹å¾å€¼çš„å¹³æ–¹æ ¹ï¼Œå¹¶ä¸”æ˜¯æŒ‰ä»å¤§åˆ°å°çš„é¡ºåºæ’åˆ—çš„</li></ul><p>çŸ¥é“äº†è¿™äº›ï¼Œé‚£ä¹ˆæ±‚è§£ SVD çš„æ­¥éª¤å°±æ˜¾è€Œæ˜“è§äº†ï¼š</p><ol><li>æ±‚ $AA^T$ çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œç”¨å•ä½åŒ–çš„ç‰¹å¾å‘é‡æ„æˆ $U$</li><li>æ±‚ $A^TA$ çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œç”¨å•ä½åŒ–çš„ç‰¹å¾å‘é‡æ„æˆ $V$</li><li>å°† $AA^T$ æˆ–è€… $A^TA$ çš„ç‰¹å¾å€¼æ±‚å¹³æ–¹æ ¹ï¼Œç„¶åæ„æˆ $ \Sigma $</li></ol><hr><h2 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h2><p>å‡è®¾ </p><script type="math/tex; mode=display">A = \begin{pmatrix} 2 & 4 \\\\ 1 & 3 \\\\ 0 & 0 \\\\ 0 & 0 \\\\ \end{pmatrix}</script><p>é‚£ä¹ˆå¯ä»¥è®¡ç®—å¾—åˆ° </p><script type="math/tex; mode=display">AA^T = \begin{pmatrix} 20 & 14 & 0 & 0 \\\\ 14 & 10 & 0 & 0 \\\\ 0 & 0 & 0 & 0 \\\\ 0 & 0 & 0 & 0 \\\\ \end{pmatrix}</script><p>æ¥ä¸‹æ¥å°±æ˜¯æ±‚è¿™ä¸ªçŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡äº† </p><script type="math/tex; mode=display">AA^T x = \lambda x</script><script type="math/tex; mode=display">(AA^T - \lambda E)x = 0</script><p>è¦æƒ³è¯¥æ–¹ç¨‹ç»„æœ‰éé›¶è§£ï¼ˆå³éé›¶ç‰¹å¾å€¼ï¼‰ï¼Œé‚£ä¹ˆç³»æ•°çŸ©é˜µ $ AA^T - \lambda E $ çš„è¡Œåˆ—å¼å¿…é¡»ä¸º 0 </p><script type="math/tex; mode=display">\begin{vmatrix} 20-\lambda & 14 & 0 & 0 \\\\ 14 & 10-\lambda & 0 & 0 \\\\ 0 & 0 & -\lambda & 0 \\\\ 0 & 0 & 0 & -\lambda \\\\ \end{vmatrix} = 0</script><p>æ±‚è§£è¿™ä¸ªè¡Œåˆ—å¼æˆ‘å°±ä¸å†èµ˜è¿°äº†ï¼Œè¿™ä¸ªç›´æ¥ä½¿ç”¨è¡Œåˆ—å¼å±•å¼€å®šç†å°±å¯ä»¥äº†ï¼Œå¯ä»¥å¾—åˆ° $\lambda_1 \approx 29.86606875ï¼Œ\lambda_2 \approx  0.13393125ï¼Œ\lambda_3 = \lambda_4 = 0$ï¼Œæœ‰ 4 ä¸ªç‰¹å¾å€¼ï¼Œå› ä¸ºç‰¹å¾å¤šé¡¹å¼ $ \vert AA^T - \lambda E \vert $ æ˜¯ä¸€ä¸ª 4 æ¬¡å¤šé¡¹å¼ã€‚å¯¹åº”çš„å•ä½åŒ–è¿‡çš„ç‰¹å¾å‘é‡ä¸º</p><script type="math/tex; mode=display">\begin{pmatrix} 0.81741556 & -0.57604844 & 0 & 0 \\\\ 0.57604844 & 0.81741556 & 0 & 0 \\\\ 0 & 0 & 1 & 0 \\\\ 0 & 0 & 0 & 1 \\\\ \end{pmatrix}</script><p>è¿™å°±æ˜¯çŸ©é˜µ $U$ äº†ã€‚</p><p>åŒæ ·çš„è¿‡ç¨‹æ±‚è§£ $A^TA$ çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œæ±‚å¾— $\lambda_1 \approx 0.13393125ï¼Œ\lambda_2 \approx  29.86606875 $ï¼Œå°†<strong>ç‰¹å¾å€¼é™åºæ’åˆ—å</strong>å¯¹åº”çš„å•ä½åŒ–è¿‡çš„ç‰¹å¾å‘é‡ä¸º</p><script type="math/tex; mode=display">\begin{pmatrix} 0.40455358 & -0.9145143 \\\\ 0.9145143 & 0.40455358 \\\\ \end{pmatrix}</script><p>è¿™å°±æ˜¯çŸ©é˜µ $V$ äº†ã€‚</p><p>è€ŒçŸ©é˜µ $\Sigma$ æ ¹æ®ä¸Šé¢è¯´çš„ä¸ºç‰¹å¾å€¼çš„å¹³æ–¹æ ¹æ„æˆçš„å¯¹è§’çŸ©é˜µ</p><script type="math/tex; mode=display">\begin{pmatrix} 5.4649857 & 0 \\\\ 0 & 0.36596619 \\\\ 0 & 0 \\\\ 0 & 0 \\\\ \end{pmatrix}</script><p>åˆ°æ­¤ï¼ŒSVD åˆ†è§£å°±ç»“æŸäº†ï¼ŒåŸæ¥çš„çŸ©é˜µ $A$ å°±è¢«åˆ†è§£æˆäº† 3 ä¸ªçŸ©é˜µçš„ä¹˜ç§¯ã€‚</p><script type="math/tex; mode=display">A\_{4 \times 2} = U\_{4 \times 4}\Sigma\_{4 \times 2} V^T_{2 \times 2}</script><script type="math/tex; mode=display">\begin{pmatrix} 2 & 4 \\\\ 1 & 3 \\\\ 0 & 0 \\\\ 0 & 0 \\\\ \end{pmatrix} = \begin{pmatrix} 0.81741556 & -0.57604844 & 0 & 0 \\\\ 0.57604844 & 0.81741556 & 0 & 0 \\\\ 0 & 0 & 1 & 0 \\\\ 0 & 0 & 0 & 1 \\\\ \end{pmatrix} \begin{pmatrix} 5.4649857 & 0 \\\\ 0 & 0.36596619 \\\\ 0 & 0 \\\\ 0 & 0 \\\\ \end{pmatrix} \begin{pmatrix} 0.40455358 & -0.9145143 \\\\ 0.9145143 & 0.40455358 \\\\ \end{pmatrix} ^ T</script><hr><h2 id="Numpy-å®ç°"><a href="#Numpy-å®ç°" class="headerlink" title="Numpy å®ç°"></a>Numpy å®ç°</h2><p>Python ä¸­å¯ä»¥ä½¿ç”¨ numpy åŒ…çš„ <code>linalg.svd()</code> æ¥æ±‚è§£ SVDã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">A = np.array([[<span class="number">2</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>]])</span><br><span class="line">print(np.linalg.svd(A))</span><br></pre></td></tr></table></figure><p>è¾“å‡º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(array([[-0.81741556, -0.57604844,  0.        ,  0.        ],</span><br><span class="line">        [-0.57604844,  0.81741556,  0.        ,  0.        ],</span><br><span class="line">        [ 0.        ,  0.        ,  1.        ,  0.        ],</span><br><span class="line">        [ 0.        ,  0.        ,  0.        ,  1.        ]]),</span><br><span class="line"> array([ 5.4649857 ,  0.36596619]),</span><br><span class="line"> array([[-0.40455358, -0.9145143 ],</span><br><span class="line">        [-0.9145143 ,  0.40455358]]))</span><br></pre></td></tr></table></figure></p><hr><h2 id="END"><a href="#END" class="headerlink" title="END"></a>END</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSingular Value Decompositionï¼ŒSVDï¼‰æ˜¯ä¸€ç§çŸ©é˜µåˆ†è§£ï¼ˆMatrix Decompositionï¼‰çš„æ–¹æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒçŸ©é˜µåˆ†è§£è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œä¾‹å¦‚ç‰¹å¾åˆ†è§£ï¼ˆEigendecompositionï¼‰ã€LUåˆ†è§£ï¼ˆLU decompositionï¼‰ã€QRåˆ†è§£ï¼ˆQR decompositionï¼‰å’Œæåˆ†è§£ï¼ˆPolar decompositionï¼‰ç­‰ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦è¯´ä¸‹å¥‡å¼‚å€¼åˆ†è§£ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨æœºå™¨å­¦ä¹ çš„ä¸€äº›ç®—æ³•é‡Œå æœ‰é‡è¦åœ°ä½ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Machine Learning" scheme="https://secsilm.github.io/tags/Machine-Learning/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Python ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ä¸ªæ•°</title>
    <link href="https://secsilm.github.io/2017/03/25/python-string-count/"/>
    <id>https://secsilm.github.io/2017/03/25/python-string-count/</id>
    <published>2017-03-25T14:01:00.000Z</published>
    <updated>2017-12-23T00:21:16.000Z</updated>
    
    <content type="html"><![CDATA[<p><em>é¢˜å¤–è¯ï¼šä»Šå¤©æ‰“é…±æ²¹çš„åšäº†ç½‘æ˜“æ•°æ®æŒ–æ˜å·¥ç¨‹å¸ˆçš„åœ¨çº¿ç¬”è¯•é¢˜ï¼Œè¢«æ‰“å‡»äº†ã€‚</em></p><p>æœ¬æ–‡ä»£ç å¯åœ¨ <a href="http://download.csdn.net/detail/u010099080/9793725" target="_blank" rel="noopener">è¿™é‡Œ</a> ä¸‹è½½ã€‚</p><a id="more"></a><hr><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>åœ¨ç½‘ä¸Šæ— æ„é—´çœ‹åˆ°è¿™ä¹ˆä¸€ä¸ªé¢˜ç›®ï¼šç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ä¸ªæ•°ã€‚<br>æ­£å¥½å†ç†Ÿæ‚‰ä¸€ä¸‹ Python ä¸­å­—ç¬¦ä¸²ç›¸å…³æ–¹æ³•ï¼Œæ‰€ä»¥æ¥åšä¸€ä¸‹ã€‚</p><hr><h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">str_count</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="string">'''æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­çš„ä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ä¸ªæ•°'''</span></span><br><span class="line">    </span><br><span class="line">    count_en = count_dg = count_sp = count_zh = count_pu = <span class="number">0</span></span><br><span class="line">    s_len = len(s)</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">if</span> c <span class="keyword">in</span> string.ascii_letters:</span><br><span class="line">            count_en += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> c.isdigit():</span><br><span class="line">            count_dg += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> c.isspace():</span><br><span class="line">            count_sp += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> c.isalpha():</span><br><span class="line">            count_zh += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            count_pu += <span class="number">1</span></span><br><span class="line">    total_chars = count_zh + count_en + count_sp + count_dg + count_pu</span><br><span class="line">    <span class="keyword">if</span> total_chars == s_len:</span><br><span class="line">        <span class="keyword">return</span> namedtuple(<span class="string">'Count'</span>, [<span class="string">'total'</span>, <span class="string">'zh'</span>, <span class="string">'en'</span>, <span class="string">'space'</span>, <span class="string">'digit'</span>, <span class="string">'punc'</span>])(s_len, count_zh, count_en, count_sp, count_dg, count_pu)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'Something is wrong!'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = <span class="string">'ä¸Šé¢æ˜¯å¼•ç”¨äº†å®˜ç½‘çš„ä»‹ç»ï¼Œæ„æ€å°±æ˜¯è¯´ TensorBoard å°±æ˜¯ä¸€ä¸ªæ–¹ä¾¿ä½ ç†è§£ã€è°ƒè¯•ã€ä¼˜åŒ– TensorFlow ç¨‹åºçš„å¯è§†åŒ–å·¥å…·ï¼Œä½ å¯ä»¥å¯è§†åŒ–ä½ çš„ TensorFlow graphã€å­¦ä¹ å‚æ•°ä»¥åŠå…¶ä»–æ•°æ®æ¯”å¦‚å›¾åƒã€‚'</span></span><br><span class="line">count = str_count(s)</span><br><span class="line">print(s, end=<span class="string">'\n\n'</span>)</span><br><span class="line">print(<span class="string">'è¯¥å­—ç¬¦ä¸²å…±æœ‰ &#123;&#125; ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­æœ‰ &#123;&#125; ä¸ªæ±‰å­—ï¼Œ&#123;&#125; ä¸ªè‹±æ–‡ï¼Œ&#123;&#125; ä¸ªç©ºæ ¼ï¼Œ&#123;&#125; ä¸ªæ•°å­—ï¼Œ&#123;&#125; ä¸ªæ ‡ç‚¹ç¬¦å·ã€‚'</span>.format(count.total, count.zh, count.en, count.space, count.digit, count.punc))</span><br></pre></td></tr></table></figure><p>å°†ä¸Šé¢çš„ç¨‹åºä¿å­˜åˆ° <code>str_count.py</code>ï¼Œç„¶åæ‰§è¡Œæµ‹è¯•ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> python str_count.py</span></span><br><span class="line"></span><br><span class="line">ä¸Šé¢æ˜¯å¼•ç”¨äº†å®˜ç½‘çš„ä»‹ç»ï¼Œæ„æ€å°±æ˜¯è¯´ TensorBoard å°±æ˜¯ä¸€ä¸ªæ–¹ä¾¿ä½ ç†è§£ã€è°ƒè¯•ã€ä¼˜åŒ– TensorFlow ç¨‹åºçš„å¯è§†åŒ–å·¥å…·ï¼Œä½ å¯ä»¥å¯è§†åŒ–ä½ çš„ TensorFlow graphã€å­¦ä¹ å‚æ•°ä»¥åŠå…¶ä»–æ•°æ®æ¯”å¦‚å›¾åƒã€‚</span><br><span class="line"></span><br><span class="line">è¯¥å­—ç¬¦ä¸²å…±æœ‰ 107 ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­æœ‰ 59 ä¸ªæ±‰å­—ï¼Œ36 ä¸ªè‹±æ–‡ï¼Œ6 ä¸ªç©ºæ ¼ï¼Œ0 ä¸ªæ•°å­—ï¼Œ6 ä¸ªæ ‡ç‚¹ç¬¦å·ã€‚</span><br></pre></td></tr></table></figure><p>é‚£ä¸ªç”¨äºæµ‹è¯•çš„å­—ç¬¦ä¸² <code>s</code> æºè‡ª <a href="http://blog.csdn.net/u010099080/article/details/62882006" target="_blank" rel="noopener">æˆ‘çš„ä¸€ç¯‡å…³äº TensorBoard çš„åšæ–‡</a>ï¼Œé¦–å…ˆè¾“å‡ºåŸå§‹å­—ç¬¦ä¸²ï¼Œç„¶åè¾“å‡ºä¸­è‹±æ–‡ã€ç©ºæ ¼ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·å„è‡ªçš„ä¸ªæ•°ã€‚</p><p>ä»¥åæœ‰å¥½çš„æƒ³æ³•å†æ¥ä¼˜åŒ–è¿™ä¸ªç¨‹åºï¼Œå¤§å®¶æœ‰ä»€ä¹ˆå¥½çš„æƒ³æ³•ä¹Ÿæ¬¢è¿å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p><hr><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;em&gt;é¢˜å¤–è¯ï¼šä»Šå¤©æ‰“é…±æ²¹çš„åšäº†ç½‘æ˜“æ•°æ®æŒ–æ˜å·¥ç¨‹å¸ˆçš„åœ¨çº¿ç¬”è¯•é¢˜ï¼Œè¢«æ‰“å‡»äº†ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä»£ç å¯åœ¨ &lt;a href=&quot;http://download.csdn.net/detail/u010099080/9793725&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é‡Œ&lt;/a&gt; ä¸‹è½½ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://secsilm.github.io/tags/Python/"/>
    
  </entry>
  
</feed>
